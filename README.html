<!DOCTYPE html>
<html><body>
<head>
<style>
h1 { margin-top: 0.5em; margin-bottom: 0.3em; }
h2 { margin-top: 0.3em; margin-bottom: 0.2em; }
h3 { margin-top: 0.2em; margin-bottom: 0.1em; }
h4 { margin-top: 0.1em; margin-bottom: 0.05em; }

p  { margin-top: 0.3em; margin-bottom: 0.0em; }
ul { margin-top: 0.1em; margin-bottom: 0.5em; }
li { margin-top: 0.1em; margin-bottom: 0.0em; }
blockquote {
  border: 1px solid #999;  border-radius: 0.1em;
  padding: 2px;            background-color: mintcream;
}
code {
  background-color: whitesmoke;
  border: 1px solid #999;  border-radius: 0.3em;
  font-family: Monaco, monospace;
  font-size: 14px;
  padding: 0px;
  white-space: pre
}
.block {
  margin-top: 0.1em;
  background-color: snow;  display: block;
  padding: 5px;
}
table, th, td {
    vertical-align: top;
    text-align: left;
    border-collapse: collapse;
    border: 1px solid grey;
    margin: 0.05em 0.05em;
    padding: 3px 5px;
}
table { min-width: 400px;         }
th    { background-color: LightCyan; }
td    { background-color: azure; }
</style>
</head>
<h1><a id="Package_civ" href="#Package_civ">Package civ</a> (<a href="https://github.com/civboot/civlua/blob/main/./"><i>src</i></a>)</h1><table>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
</table>

<p>
civ.lua: a minimalist self-documenting tech stack for <a href="http://civboot.org">Civboot</a>
<p>
This is the repository for <a href="http://civboot.org">Civboot</a>-owned Lua modules and software. As part
of Civboot, this is a minimalist and self-documenting developer tech stack.
It's goal is to provide core development tools such as extendible vim-like
editor, git-like version control and scripting tools all written in pure
self-documenting Lua.
<p>
<blockquote>You are reading the developer documentation. Tutorial-style documentation is
planned in the future for both absolute beginners and knowledge experts,
but has not yet been started.</blockquote>
<p>
<h2><a id="Packages" href="#Packages">Packages</h2></a>
The following are packaged directly in this repository.
<p>
<h3>Commands</h3>
These can all be called directly in bash with <code>./civ.lua &lt;cmd&gt; ...</code> <ul>
<li><a href="#Package_ele"><b>Ele</b></a>: Extendable Lua Editor and Lua-first shell --
still in development.</li>
<li><a href="#Package_doc"><b>doc</b></a>: get help on any package or lua object as cxt or rendered
with color on the terminal.</li>
<li><a href="#Package_cxt"><b>cxt</b></a>: this document and all code documentation is written in
<b>cxt</b>, an ultra-simple markup language which is designed to be as easy as
possible to parse (for computers <i>and</i> humans) while still using as few
characters as possible to express format for common cases. Commands: <ul>
<li><code>cxt.html</code>: render a cxt document in html.</li>
<li><code>cxt.term</code>: render a cxt document on the terminal</li>
</ul></li>
<li><a href="#Package_ff"><b>ff</b></a>: find and fix utility, like a superchanged find+grep from unix
land.</li>
</ul>
<p>
<h3>Core Libraries</h3>
The following are the "core libraries" and represent the "batteries included"
of Civlua. They maintain minimalism but enable ergonomic programming, powerful
scripting, asynchronous file access and other goodies. <ul>
<li><a href="#Package_pkg"><b>pkg</b></a>: enables self-documenting code and cleaner dependency
management. Defines the PKG protocol to enable self-documenting modules
as well as fix Lua's biggest wart (implicit globals).</li>
<li><a href="#Package_shim"><b>shim</b></a>: write scripts for Lua, execute from shell. Think
python's <code>argparse</code> but cleaner and allows for Lua OR shell execution.</li>
<li><a href="#Package_metaty"><b>metaty</b></a>: enable typosafe, self documenting records (aka
structs) which utilize Lua metatables.</li>
<li><a href="#Package_fmt"><b>fmt</b></a>: format strings and lua nested types with an (optional)
style interface.</li>
<li><a href="#Package_ds"><b>ds</b></a>: Data Structures and algnorithms. This module is
packed with tons of tiny functions, types and interfaces which enable ergonomic
scripting as well as creating applications such as editors and version
control systems in pure Lua.</li>
<li><a href="#Package_lines"><b>lines</b></a>: treat files like tables of lines and apply
algorithms for that interface. The <code>lines.File</code> and <code>lines.EdFile</code> are
especially worth checking out.</li>
<li><a href="#Package_civix"><b>civix</b></a>: unix system interface: ergonomic unix <code>sh</code>,
time and file modification are here.</li>
<li><a href="#Package_civtest"><b>civtest</b></a>: no batteries would be complete without a testing
library.  civtest is minimal but gets the job done.</li>
<li><a href="#Pacakge_lap"><b>lap</b></a>: Lua Asynchronous Protocol, for advanced users who want
concurrency in pure-lua.</li>
<li><a href="#Package_fd"><b>fd</b></a>: file-descriptor library for async files and other file
operations.</li>
<li><a href="#Package_lson"><b>lson</b></a>: implements de/serialization of arbitrary
concrete data (including tables) to/from JSON and an extension called LSON.</li>
</ul>
<p>
<h3>Styling</h3>
The following define an interface to enable color output across any device,
including: normal terminal, Ele (the civlua text editor) and html syntax
highlighting: <ul>
<li><a href="#Package_asciicolor"><b>asciicolor</b></a>: specify color and styles using
ascii characters, i.e. <code>"BW"</code> is bold+underlined black text on white
background.</li>
<li><a href="#Package_vt100"><b>vt100</b></a>: defines common VT100 (aka standard unix)
terminal input and output.</li>
</ul>
<p>
<h3>Data Management</h3>
Civlua aims to implement a simple version control (similar to git) while also
enabling CivbootOS's configuration and data storage needs (aka network config,
simple databases, maybe a spreadsheet program, etc): <ul>
<li><a href="#Package_luck"><b>luck</b></a>: lua-like configuration language with imports.
Think <a href="https://bazel.build/">bazel</a> but only for data -- though you could
make a build system on top!</li>
<li><a href="#Package_tv"><b>tv</b></a>: tabbed-values. Similar in spirit to TSV
(tab-separated-values) but with an actual spec and the ability to define a
header with types.</li>
<li><a href="#Package_vcds"><b>vcds</b></a>: version-control data structures. Diffs, cherry
picks, etc.</li>
</ul>
<p>
<h3><a id="Luarocks" href="#Luarocks">Luarocks</h3></a>
The <a href="#Package_pkgrock"><b>pkgrock</b></a> script enables converting <code>PKG.lua</code>
files to <a href="https://luarocks.org/">https://luarocks.org/</a> specs, as well as running the magical git
incantations necessary for luarocks to find the version.
<p>
<p>
<h2><a id="LICENSE" href="#LICENSE">LICENSE</h2></a>
All software, tests, documentation, notes and anything else in this repository
is released into the public domain (<a href="https://github.com/civboot/civlua/blob/main/UNLICENSE">UNLICENSE</a>) unless otherwise noted in
the given source file.
<p>
If you find any of this software helpful or copy large parts of it, please give
us a a shoutout in your own projects and let us know by opening an
<a href="https://github.com/civboot/civlua/issues">issue</a>. Please note that this is not
required but is highly appreciated, thanks!
<p>
<p>
<h2>Module <a id="civ" href="#civ">civ</a> (<a href="https://github.com/civboot/civlua/blob/main/civ.lua#L5"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>civ.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="civ.main" href="#civ.main">civ.main</a><code>(arg) -&gt; int: return code</code> (<a href="https://github.com/civboot/civlua/blob/main/civ.lua#L48"><i>src</i></a>)</h3>
<h3>Function <a id="civ.setupFmt" href="#civ.setupFmt">civ.setupFmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/civ.lua#L32"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_shim" href="#Package_shim">Package shim</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>write scripts for Lua, execute from shell</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-5</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/shim/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="shim" href="#shim">shim</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L2"><i>src</i></a>)</h2>
shim: use a lua module in lua OR in the shell.
<p>
<b>Values: </b> <table>
<tr>
<td><code>shim.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="shim.boolean" href="#shim.boolean">shim.boolean</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L75"><i>src</i></a>)</h3>
Duck type: always return a boolean (except for nil).
See BOOLS (above) for mapping.
<h3>Function <a id="shim.bools" href="#shim.bools">shim.bools</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L80"><i>src</i></a>)</h3>
<h3>Function <a id="shim.expand" href="#shim.expand">shim.expand</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L141"><i>src</i></a>)</h3>
expand string keys into <code>--key=value</code>, ordered alphabetically.
This is mostly useful for interfacing with non-lua shells.
<h3>Function <a id="shim.file" href="#shim.file">shim.file</a><code>(v, default, mode--[[w+]]) -&gt; file, error?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L126"><i>src</i></a>)</h3>
Duck type: get a file handle.
If <code>v or default</code> is a string then open the file in mode <code>default='w+'</code>
<h3>Function <a id="shim.getEnvBool" href="#shim.getEnvBool">shim.getEnvBool</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L148"><i>src</i></a>)</h3>
<h3>Function <a id="shim.list" href="#shim.list">shim.list</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L108"><i>src</i></a>)</h3>
<h3>Function <a id="shim.listSplit" href="#shim.listSplit">shim.listSplit</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L118"><i>src</i></a>)</h3>
Duck type: if val is a string then splits it
if it's a list leaves alone.
<h3>Function <a id="shim.number" href="#shim.number">shim.number</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L86"><i>src</i></a>)</h3>
Duck type: always return a number
<h3>Function <a id="shim.parse" href="#shim.parse">shim.parse</a><code>(v) -&gt; args</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L18"><i>src</i></a>)</h3>
Parse either a string or list and convert them to key=value table.
v can be either a list of <code>{'strings', '--option=foo'}</code>
or <code>{'strings", option='foo'}</code> or a combination of both. If v is a string then
it is split on whitespace and parsed as a list.
<p>
Note: this handles repeat keys by creating and appending a list for that key.
<h3>Function <a id="shim.parseList" href="#shim.parseList">shim.parseList</a><code>(strlist) -&gt; args</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L56"><i>src</i></a>)</h3>
Note: typically use parse() or parseStr() instead.
<h3>Function <a id="shim.parseStr" href="#shim.parseStr">shim.parseStr</a><code>(str) -&gt; args</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L41"><i>src</i></a>)</h3>
parses the string by splitting via whitespace.
Asserts the string contains no special chars: <code>'"[]</code>
This is for convinience, use a table if it's not enough.
<p>
Note: if the input is already a table it just returns it.
<h3>Function <a id="shim.popRaw" href="#shim.popRaw">shim.popRaw</a><code>(args, to) -&gt; to</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L160"><i>src</i></a>)</h3>
pop raw arguments after '--'
Removes them (including '--') from args.
<h3>Function <a id="shim.setup" href="#shim.setup">shim.setup</a><code>(Args, args) -&gt; args, styler</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L177"><i>src</i></a>)</h3>
Performs common setup by parsing and constructing an Args metaty, getting
the standard `to` attribute and checking help and printing to <code>to</code> if
requested.
<p>
Returns the constructed Args and Styler.
<p>
<blockquote> Note: This method depends on the <code>doc</code> module</blockquote>
<h3>Function <a id="shim.short" href="#shim.short">shim.short</a><code>(args, short, long, value) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L62"><i>src</i></a>)</h3>
Helper for dealing with <code>-s --short</code> arguments. Mutates
args to convert short paramaters to their long counterpart.
<h3>Function <a id="shim.string" href="#shim.string">shim.string</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/shim/shim.lua#L99"><i>src</i></a>)</h3>
Duck type: always return a string
This is useful for some APIs where you want to convert
number/true/false to strings
Converts nil to ''
<p>
<h1><a id="Package_metaty" href="#Package_metaty">Package metaty</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>Simple but effective Lua type system using metatables</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-14</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/metaty/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="metaty" href="#metaty">metaty</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L4"><i>src</i></a>)</h2>
metaty: simple but effective Lua type system using metatable
<p>
<b>Values: </b> <table>
<tr>
<td><code>metaty.DEPTH_ERROR</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>metaty.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="metaty.KEYWORD" href="#metaty.KEYWORD">metaty.KEYWORD</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L77"><i>src</i></a>)</h3>
keywords https://www.lua.org/manual/5.4/manual.html
<p>
<b>Values: </b> <table>
<tr>
<td><code>metaty.KEYWORD.and</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.break</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.do</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.else</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.elseif</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.end</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.false</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.for</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.function</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.goto</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.if</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.in</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.local</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.nil</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.not</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.or</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.repeat</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.return</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.then</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.true</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.until</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>metaty.KEYWORD.while</code></td>
<td>[boolean] </td>
</tr>
</table>
<b>Functions: </b> <table>
<tr>
<td><code>metaty.constructChecked</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L192">src</a>)</td>
</tr>
</table>
<h3>Function <a id="metaty.callable" href="#metaty.callable">metaty.callable</a><code>(obj) -&gt; bool: return if obj is callable</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L73"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.constructChecked" href="#metaty.constructChecked">metaty.constructChecked</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L192"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.constructUnchecked" href="#metaty.constructUnchecked">metaty.constructUnchecked</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L195"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.eq" href="#metaty.eq">metaty.eq</a><code>(a, b) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L162"><i>src</i></a>)</h3>
compare tables or anything else
<h3>Function <a id="metaty.eqDeep" href="#metaty.eqDeep">metaty.eqDeep</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L159"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.extend" href="#metaty.extend">metaty.extend</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L259"><i>src</i></a>)</h3>
Extend the Type with (optional) new name and (optional) additional fields.
<h3>Function <a id="metaty.extendFields" href="#metaty.extendFields">metaty.extendFields</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L213"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.fieldsCheck" href="#metaty.fieldsCheck">metaty.fieldsCheck</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L188"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.fninfo" href="#metaty.fninfo">metaty.fninfo</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L103"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.getCheck" href="#metaty.getCheck">metaty.getCheck</a><code>() -&gt; CHECK</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L33"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.getmethod" href="#metaty.getmethod">metaty.getmethod</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L40"><i>src</i></a>)</h3>
get method of table if it exists.
This first looks for the item directly on the table, then the item
in the table's metatable. It does NOT use the table's normal <code>__index</code>.
<h3>Function <a id="metaty.index" href="#metaty.index">metaty.index</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L173"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.indexError" href="#metaty.indexError">metaty.indexError</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L168"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.isEnv" href="#metaty.isEnv">metaty.isEnv</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L27"><i>src</i></a>)</h3>
isEnv: returns boolean for below values, else nil
<h3>Function <a id="metaty.isEnvG" href="#metaty.isEnvG">metaty.isEnvG</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L31"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.isRecord" href="#metaty.isRecord">metaty.isRecord</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L238"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.metaget" href="#metaty.metaget">metaty.metaget</a><code>(t, k) -&gt; rawget(getmetatable(t), k)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L74"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.name" href="#metaty.name">metaty.name</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L68"><i>src</i></a>)</h3>
Given an object (function, table, userdata) return its name.
return nil if it's not one of the above types
<h3>Function <a id="metaty.namedRecord" href="#metaty.namedRecord">metaty.namedRecord</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L232"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.nativeEq" href="#metaty.nativeEq">metaty.nativeEq</a><code>(a, b) -&gt; a == b</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L132"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.newindex" href="#metaty.newindex">metaty.newindex</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.rawsplit" href="#metaty.rawsplit">metaty.rawsplit</a><code>(subj, ctx) -&gt; (state, splitstr)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L117"><i>src</i></a>)</h3>
You probably want split instead.
Usage: <code>for ctx, line in rawsplit, text, {'\n', 1} do</code>
<h3>Function <a id="metaty.record" href="#metaty.record">metaty.record</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L244"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.split" href="#metaty.split">metaty.split</a><code>(subj, pat--[[%s+]], index--[[1]]) -&gt; (cxt, str) iter</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L128"><i>src</i></a>)</h3>
split the subj by pattern. <code>ctx</code> has two keys: <code>si</code> (start index) and
<code>ei</code> (end index)
<code class="block">for ctx, line in split(text, '\n') do -- split lines
  ... do something with line
end</code>
<h3>Function <a id="metaty.strcon" href="#metaty.strcon">metaty.strcon</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L16"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.ty" href="#metaty.ty">metaty.ty</a><code>(o) -&gt; Type: string or metatable</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L50"><i>src</i></a>)</h3>
<h3>Function <a id="metaty.tyName" href="#metaty.tyName">metaty.tyName</a><code>(T, default) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L58"><i>src</i></a>)</h3>
Given a type return it's name
<h3>Function <a id="metaty.validKey" href="#metaty.validKey">metaty.validKey</a><code>(s) -&gt; boolean: s=value is valid syntax</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L88"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_fmt" href="#Package_fmt">Package fmt</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>format lua types</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/fmt/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="fmt" href="#fmt">fmt</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L4"><i>src</i></a>)</h2>
format module: format any type into a readable string
<p>
<b>Values: </b> <table>
<tr>
<td><code>fmt.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="fmt.KEYWORD" href="#fmt.KEYWORD">fmt.KEYWORD</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L25"><i>src</i></a>)</h3>
keywords https://www.lua.org/manual/5.4/manual.html
<p>
<b>Values: </b> <table>
<tr>
<td><code>fmt.KEYWORD.and</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.break</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.do</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.else</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.elseif</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.end</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.false</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.for</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.function</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.goto</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.if</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.in</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.local</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.nil</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.not</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.or</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.repeat</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.return</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.then</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.true</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.until</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>fmt.KEYWORD.while</code></td>
<td>[boolean] </td>
</tr>
</table>
<h3>Record <a id="fmt.Fmt" href="#fmt.Fmt">fmt.Fmt</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L68"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>fmt.Fmt.style</code></td>
<td>[bool] 
enable styling. If true, set <code>to=Styler</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.to</code></td>
<td>[file?] 
if set calls write</td>
</tr>
<tr>
<td><code>fmt.Fmt.keyEnd</code></td>
<td>[string] = <code>", "</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.keySet</code></td>
<td>[string] = <code>"="</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.indexEnd</code></td>
<td>[string] = <code>", "</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.tableStart</code></td>
<td>[string] = <code>"{"</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.tableEnd</code></td>
<td>[string] = <code>"}"</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.listEnd</code></td>
<td>[string] = <code>""</code>
separator between list/map</td>
</tr>
<tr>
<td><code>fmt.Fmt.indent</code></td>
<td>[string] = <code>"  "</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.maxIndent</code></td>
<td>[int] = <code>20</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.numfmt</code></td>
<td>[string] = <code>"%q"</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.strfmt</code></td>
<td>[string] = <code>"%q"</code></td>
</tr>
<tr>
<td><code>fmt.Fmt._level</code></td>
<td>[int] = <code>0</code></td>
</tr>
<tr>
<td><code>fmt.Fmt._nl</code></td>
<td>[string] = <code>"\
  "</code>
(default='\n') newline, indent is added/removed</td>
</tr>
<tr>
<td><code>fmt.Fmt.table</code></td>
<td>[function] = <code>fn"Fmt.table"[/home/rett/projects/civlua/lib/fmt/fmt.lua:185]</code></td>
</tr>
<tr>
<td><code>fmt.Fmt.string</code></td>
<td>[function] = <code>fn"Fmt.string"[/home/rett/projects/civlua/lib/fmt/fmt.lua:136]</code></td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>fmt.Fmt.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>fmt.Fmt.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>fmt.Fmt.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>fmt.Fmt.__index</code></td>
<td>[Ty<Fmt>] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L68">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Fmt.__call" href="#Fmt.__call">Fmt.__call</a><code>(f, v) -&gt; f</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L186"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt._write" href="#Fmt._write">Fmt._write</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L94"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.boolean" href="#Fmt.boolean">Fmt.boolean</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L134"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.concat" href="#Fmt.concat">Fmt.concat</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L210"><i>src</i></a>)</h4>
fmt ... separated by sep
<h4>Function <a id="Fmt.flush" href="#Fmt.flush">Fmt.flush</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L91"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.format" href="#Fmt.format">Fmt.format</a><code>(f, fmt, ...) -&gt; varargsUsed</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L202"><i>src</i></a>)</h4>
like string.format but use <code>Fmt</code> for <code>%q</code>.
Doesn't return the string, instead writes to <code>Fmt</code>
<h4>Function <a id="Fmt.function" href="#Fmt.function">Fmt.function</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L139"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.items" href="#Fmt.items">Fmt.items</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L148"><i>src</i></a>)</h4>
format items in table "list"
<h4>Function <a id="Fmt.keyvals" href="#Fmt.keyvals">Fmt.keyvals</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L160"><i>src</i></a>)</h4>
format key/vals in table "map"
<h4>Function <a id="Fmt.level" href="#Fmt.level">Fmt.level</a><code>(f, add) -&gt; int: current level</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L89"><i>src</i></a>)</h4>
add to the indent level and get the new value
call with <code>add=nil</code> to just get the current level
<h4>Function <a id="Fmt.lined" href="#Fmt.lined">Fmt.lined</a><code>(f, ...) -&gt; f:concat('\n', ...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L215"><i>src</i></a>)</h4>
fmt ... separated by newlines
<h4>Function <a id="Fmt.nil" href="#Fmt.nil">Fmt.nil</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L133"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.number" href="#Fmt.number">Fmt.number</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L135"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.pretty" href="#Fmt.pretty">Fmt.pretty</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L78"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.styled" href="#Fmt.styled">Fmt.styled</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L115"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.tableKey" href="#Fmt.tableKey">Fmt.tableKey</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L131"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.tabulated" href="#Fmt.tabulated">Fmt.tabulated</a><code>(f, ...) -&gt; f:concat('\t', ...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L212"><i>src</i></a>)</h4>
fmt ... separated by tabs
<h4>Function <a id="Fmt.thread" href="#Fmt.thread">Fmt.thread</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L137"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.userdata" href="#Fmt.userdata">Fmt.userdata</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L138"><i>src</i></a>)</h4>
<h4>Function <a id="Fmt.write" href="#Fmt.write">Fmt.write</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L102"><i>src</i></a>)</h4>
<b>Functions: </b> <table>
<tr>
<td><code>fmt.strcon</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L16">src</a>)</td>
</tr>
</table>
<h3>Function <a id="fmt.assertf" href="#fmt.assertf">fmt.assertf</a><code>(a, ...) -&gt; a or error(format(...), 2)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L231"><i>src</i></a>)</h3>
<h3>Function <a id="fmt.cmpDuck" href="#fmt.cmpDuck">fmt.cmpDuck</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L21"><i>src</i></a>)</h3>
for comparing two (possibly) different types
<code>nil &lt; bool &lt; number &lt; string &lt; table</code>
<h3>Function <a id="fmt.errorf" href="#fmt.errorf">fmt.errorf</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L230"><i>src</i></a>)</h3>
<h3>Function <a id="fmt.format" href="#fmt.format">fmt.format</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L227"><i>src</i></a>)</h3>
<h3>Function <a id="fmt.fprint" href="#fmt.fprint">fmt.fprint</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L242"><i>src</i></a>)</h3>
<h3>Function <a id="fmt.print" href="#fmt.print">fmt.print</a><code>(...) -&gt; fprint(io.fmt, ...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L246"><i>src</i></a>)</h3>
print(...) but using <code>io.fmt</code>
<h3>Function <a id="fmt.sortKeys" href="#fmt.sortKeys">fmt.sortKeys</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L47"><i>src</i></a>)</h3>
<h3>Function <a id="fmt.tostring" href="#fmt.tostring">fmt.tostring</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L220"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_civtest" href="#Package_civtest">Package civtest</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>Ultra simple testing library</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-2</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/civtest/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="civtest" href="#civtest">civtest</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest/civtest.lua#L4"><i>src</i></a>)</h2>
module for writing simple tests
<p>
<b>Values: </b> <table>
<tr>
<td><code>civtest.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="civtest.assertEq" href="#civtest.assertEq">civtest.assertEq</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest/civtest.lua#L78"><i>src</i></a>)</h3>
<h3>Function <a id="civtest.assertErrorPat" href="#civtest.assertErrorPat">civtest.assertErrorPat</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest/civtest.lua#L91"><i>src</i></a>)</h3>
<h3>Function <a id="civtest.assertMatch" href="#civtest.assertMatch">civtest.assertMatch</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest/civtest.lua#L98"><i>src</i></a>)</h3>
<h3>Function <a id="civtest.asyncTest" href="#civtest.asyncTest">civtest.asyncTest</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest/civtest.lua#L114"><i>src</i></a>)</h3>
Runs until yields non-truthy. See lib/lap/README.md
<h3>Function <a id="civtest.diffFmt" href="#civtest.diffFmt">civtest.diffFmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest/civtest.lua#L60"><i>src</i></a>)</h3>
<h3>Function <a id="civtest.lapTest" href="#civtest.lapTest">civtest.lapTest</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest/civtest.lua#L119"><i>src</i></a>)</h3>
<h3>Function <a id="civtest.test" href="#civtest.test">civtest.test</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civtest/civtest.lua#L104"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_ds" href="#Package_ds">Package ds</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>Tiny data structures and algorithms</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-12</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/ds/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="ds" href="#ds">ds</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L3"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.CONCRETE_TYPES</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L79">src</a>)</td>
</tr>
<tr>
<td><code>ds.IGNORE_TRACE</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1008">src</a>)</td>
</tr>
<tr>
<td><code>ds.SKIP</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ds.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ds.DURATION_ZERO" href="#ds.DURATION_ZERO">ds.DURATION_ZERO</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L748"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.DURATION_ZERO.ns</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>ds.DURATION_ZERO.s</code></td>
<td>[number] </td>
</tr>
</table>
<h3>Table <a id="ds.R" href="#ds.R">ds.R</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1098"><i>src</i></a>)</h3>
indexrequire: <code>R.foo</code> is same as <code>require'foo'</code>
This is mostly used in scripts/etc
<h3>Table <a id="ds.empty" href="#ds.empty">ds.empty</a></h3>
<h3>Table <a id="ds.none" href="#ds.none">ds.none</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L659"><i>src</i></a>)</h3>
none: "set as none" vs nil aka "unset"
<p>
none is a sentinel value. Use it in APIs where there is an
"unset but none" such as JSON's "null".
<h3>Record <a id="ds.BiMap" href="#ds.BiMap">ds.BiMap</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L924"><i>src</i></a>)</h3>
Bidirectional Map.
Maps both <code>key -&gt; value</code> and <code>value -&gt; key</code>.
Must use <code>:remove</code> (instead of <code>bm[k] = nil</code> to handle deletions.
<p>
Note that <code>pairs()</code> will return BOTH directions (in an unspecified order)
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.BiMap.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.BiMap.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.BiMap.__index</code></td>
<td>[Ty<BiMap>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L924">src</a>)</td>
</tr>
</table>
<h4>Function <a id="BiMap.remove" href="#BiMap.remove">BiMap.remove</a><code>(t, k) -&gt; v</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L939"><i>src</i></a>)</h4>
<h3>Record <a id="ds.Checked" href="#ds.Checked">ds.Checked</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L610"><i>src</i></a>)</h3>
Table that errors on missing key
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.Checked.__metatable</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ds.Checked.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="ds.Deq" href="#ds.Deq">ds.Deq</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L955"><i>src</i></a>)</h3>
<code>Deq() -&gt; Deq</code>, a deque
Use as a first in/out with <code>deq:push(v)/deq()</code>
<p>
Main methods: <code class="block">  pushLeft()  pushRight()
  popLeft()   popRight()</code>
Calling it is the same as popLeft (use as iterator)
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.Deq.right</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>ds.Deq.left</code></td>
<td>[number] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.Deq.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Deq.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Deq.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.Deq.__index</code></td>
<td>[Ty<Deq>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L955">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.Deq.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
<tr>
<td><code>ds.Deq.pop</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L981">src</a>)</td>
</tr>
<tr>
<td><code>ds.Deq.popLeft</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L981">src</a>)</td>
</tr>
<tr>
<td><code>ds.Deq.pushRight</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L961">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Deq.popLeft" href="#Deq.popLeft">Deq.popLeft</a><code>(deq) -&gt; v</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L981"><i>src</i></a>)</h4>
<h4>Function <a id="Deq.__len" href="#Deq.__len">Deq.__len</a><code>(d) -&gt; #d</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L988"><i>src</i></a>)</h4>
<h4>Function <a id="Deq.clear" href="#Deq.clear">Deq.clear</a><code>(deq) -&gt; nil: clear deq</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L994"><i>src</i></a>)</h4>
<h4>Function <a id="Deq.drain" href="#Deq.drain">Deq.drain</a><code>(deq) -&gt; table: get all items and clear deq</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L998"><i>src</i></a>)</h4>
<h4>Function <a id="Deq.extendLeft" href="#Deq.extendLeft">Deq.extendLeft</a><code>(deq, vals) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L976"><i>src</i></a>)</h4>
extend deq to left (<code>vals[1]</code> is left-most)
<h4>Function <a id="Deq.extendRight" href="#Deq.extendRight">Deq.extendRight</a><code>(deq, vals) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L967"><i>src</i></a>)</h4>
extend deq to right
<h4>Function <a id="Deq.popRight" href="#Deq.popRight">Deq.popRight</a><code>(deq) -&gt; v</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L986"><i>src</i></a>)</h4>
<h4>Function <a id="Deq.pushRight" href="#Deq.pushRight">Deq.pushRight</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L961"><i>src</i></a>)</h4>
<h4>Function <a id="Deq.pushLeft" href="#Deq.pushLeft">Deq.pushLeft</a><code>(deq, val) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L970"><i>src</i></a>)</h4>
<h3>Record <a id="ds.Duration" href="#ds.Duration">ds.Duration</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L724"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.Duration.s</code></td>
<td>[int] 
seconds</td>
</tr>
<tr>
<td><code>ds.Duration.ns</code></td>
<td>[int] 
nanoseconds</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.Duration.NANO</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>ds.Duration.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Duration.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Duration.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.Duration.__index</code></td>
<td>[Ty<Duration>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L724">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.Duration.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Duration.__add" href="#Duration.__add">Duration.__add</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L740"><i>src</i></a>)</h4>
<h4>Function <a id="Duration.__lt" href="#Duration.__lt">Duration.__lt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L744"><i>src</i></a>)</h4>
<h4>Function <a id="Duration.__sub" href="#Duration.__sub">Duration.__sub</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L735"><i>src</i></a>)</h4>
<h4>Function <a id="Duration.__tostring" href="#Duration.__tostring">Duration.__tostring</a><code>(self) -&gt; self:asSeconds() .. 's'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L746"><i>src</i></a>)</h4>
<h4>Function <a id="Duration.asSeconds" href="#Duration.asSeconds">Duration.asSeconds</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L730"><i>src</i></a>)</h4>
<h4>Function <a id="Duration.fromMs" href="#Duration.fromMs">Duration.fromMs</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L729"><i>src</i></a>)</h4>
<h4>Function <a id="Duration.fromSeconds" href="#Duration.fromSeconds">Duration.fromSeconds</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L728"><i>src</i></a>)</h4>
<h3>Record <a id="ds.Epoch" href="#ds.Epoch">ds.Epoch</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L754"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.Epoch.s</code></td>
<td>[int] 
seconds</td>
</tr>
<tr>
<td><code>ds.Epoch.ns</code></td>
<td>[int] 
nanoseconds</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.Epoch.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Epoch.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Epoch.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.Epoch.__index</code></td>
<td>[Ty<Epoch>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L754">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.Epoch.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
<tr>
<td><code>ds.Epoch.asSeconds</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L730">src</a>)</td>
</tr>
<tr>
<td><code>ds.Epoch.fromSeconds</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L728">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Epoch.__lt" href="#Epoch.__lt">Epoch.__lt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L770"><i>src</i></a>)</h4>
<h4>Function <a id="Epoch.__sub" href="#Epoch.__sub">Epoch.__sub</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L766"><i>src</i></a>)</h4>
<h4>Function <a id="Epoch.__tostring" href="#Epoch.__tostring">Epoch.__tostring</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L774"><i>src</i></a>)</h4>
<h3>Record <a id="ds.Error" href="#ds.Error">ds.Error</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1026"><i>src</i></a>)</h3>
Error message, traceback and cause
NOTE: you should only use this for printing/logging/etc.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.Error.msg</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ds.Error.traceback</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Error.cause</code></td>
<td>[Error] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.Error.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Error.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Error.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.Error.__index</code></td>
<td>[Ty<Error>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1026">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.Error.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Error.__fmt" href="#Error.__fmt">Error.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1039"><i>src</i></a>)</h4>
<h4>Function <a id="Error.__tostring" href="#Error.__tostring">Error.__tostring</a><code>(e) -&gt; fmt(e)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1040"><i>src</i></a>)</h4>
<h4>Function <a id="Error.from" href="#Error.from">Error.from</a><code>(msg, tb, cause) -&gt; Error</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1051"><i>src</i></a>)</h4>
create the error from the arguments.
tb can be one of: <code>coroutine|string|table</code>
<h4>Function <a id="Error.msgh" href="#Error.msgh">Error.msgh</a><code>(msg, level) -&gt; Error</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1056"><i>src</i></a>)</h4>
for use with xpcall. See: try
<h3>Record <a id="ds.Forget" href="#ds.Forget">ds.Forget</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L602"><i>src</i></a>)</h3>
Table that never accepts new indexes. Used to disable caching in tests.
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.Forget.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h4>Function <a id="ds.noop" href="#ds.noop">ds.noop</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L85"><i>src</i></a>)</h4>
<h3>Record <a id="ds.Imm" href="#ds.Imm">ds.Imm</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L673"><i>src</i></a>)</h3>
Immutable table
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.Imm.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Imm.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Imm.__metatable</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ds.Imm.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h4>Function <a id="Imm.__len" href="#Imm.__len">Imm.__len</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L686"><i>src</i></a>)</h4>
<h4>Function <a id="Imm.__pairs" href="#Imm.__pairs">Imm.__pairs</a><code>(t) -&gt; next, rawget(t, IMM_DATA) or t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L683"><i>src</i></a>)</h4>
<h3>Record <a id="ds.PlainStyler" href="#ds.PlainStyler">ds.PlainStyler</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L18"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.PlainStyler.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.PlainStyler.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.PlainStyler.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.PlainStyler.__index</code></td>
<td>[Ty<PlainStyler>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L18">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.PlainStyler.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h3>Record <a id="ds.Set" href="#ds.Set">ds.Set</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L778"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.Set.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Set.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Set.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.Set.__index</code></td>
<td>[Ty<Set>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L778">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Set.__eq" href="#Set.__eq">Set.__eq</a><code>(self, t) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L811"><i>src</i></a>)</h4>
<h4>Function <a id="Set.__fmt" href="#Set.__fmt">Set.__fmt</a><code>(self, f) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L798"><i>src</i></a>)</h4>
<h4>Function <a id="Set.diff" href="#Set.diff">Set.diff</a><code>(self, s) -&gt; Set</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L824"><i>src</i></a>)</h4>
items in self but not in s
<h4>Function <a id="Set.union" href="#Set.union">Set.union</a><code>(self, s) -&gt; Set</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L817"><i>src</i></a>)</h4>
<h3>Record <a id="ds.Slc" href="#ds.Slc">ds.Slc</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L619"><i>src</i></a>)</h3>
A slice of anything with start and end indexes.
<blockquote>Note: This object does not hold a reference to the object being
sliced.</blockquote>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.Slc.si</code></td>
<td>[int] 
start index</td>
</tr>
<tr>
<td><code>ds.Slc.ei</code></td>
<td>[int] 
end index</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.Slc.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Slc.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Slc.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.Slc.__index</code></td>
<td>[Ty<Slc>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L619">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.Slc.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Slc.__len" href="#Slc.__len">Slc.__len</a><code>(s) -&gt; #s</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L621"><i>src</i></a>)</h4>
<h4>Function <a id="Slc.__tostring" href="#Slc.__tostring">Slc.__tostring</a><code>(s) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L632"><i>src</i></a>)</h4>
<h4>Function <a id="Slc.merge" href="#Slc.merge">Slc.merge</a><code>(a, b) -&gt; first, second?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L628"><i>src</i></a>)</h4>
return either a single (new) merged or two sorted Slcs.
<h3>Record <a id="ds.WeakK" href="#ds.WeakK">ds.WeakK</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L584"><i>src</i></a>)</h3>
Weak key table, see docs on <code>__mode</code>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.WeakK.__mode</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ds.WeakK.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="ds.WeakKV" href="#ds.WeakKV">ds.WeakKV</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L596"><i>src</i></a>)</h3>
Weak key+value table, see docs on <code>__mode</code>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.WeakKV.__mode</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ds.WeakKV.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="ds.WeakV" href="#ds.WeakV">ds.WeakV</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L590"><i>src</i></a>)</h3>
Weak value table, see docs on <code>__mode</code>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.WeakV.__mode</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ds.WeakV.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Functions: </b> <table>
<tr>
<td><code>ds.noop</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L85">src</a>)</td>
</tr>
<tr>
<td><code>ds.split</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L128">src</a>)</td>
</tr>
</table>
<h3>Function <a id="ds.add" href="#ds.add">ds.add</a><code>(t, ...) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L335"><i>src</i></a>)</h3>
<h3>Function <a id="ds.auto" href="#ds.auto">ds.auto</a><code>(mod, i) -&gt; (mod, i)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1091"><i>src</i></a>)</h3>
auto-set nil locals using require(mod)
<code>local x, y, z; ds.auto'mm' -- sets x=mm.x; y=mm.y; z=mm.z</code>
<h3>Function <a id="ds.binarySearch" href="#ds.binarySearch">ds.binarySearch</a><code>(t, v, cmp, si--[[1]], ei--[[#t]]) -&gt; index</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L847"><i>src</i></a>)</h3>
Search the sorted table, return i such that: <ul>
<li><code>cmp(t[i], v)</code> returns true  for indexes <= i</li>
<li><code>cmp(t[i], v)</code> returns false for indexes >  i</li>
</ul>
If you want a value perfectly equal then check equality
on the resulting index.
<h3>Function <a id="ds.bool" href="#ds.bool">ds.bool</a><code>(v) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L664"><i>src</i></a>)</h3>
convert to boolean (none aware)
<h3>Function <a id="ds.bound" href="#ds.bound">ds.bound</a><code>(v, min, max) -&gt; value within [min,max]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L126"><i>src</i></a>)</h3>
<h3>Function <a id="ds.clear" href="#ds.clear">ds.clear</a><code>(t, si, len) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L329"><i>src</i></a>)</h3>
<h3>Function <a id="ds.copy" href="#ds.copy">ds.copy</a><code>(t, update) -&gt; new t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L510"><i>src</i></a>)</h3>
Copy and update full table
<h3>Function <a id="ds.coroutineErrorMessage" href="#ds.coroutineErrorMessage">ds.coroutineErrorMessage</a><code>(cor, err) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L112"><i>src</i></a>)</h3>
<h3>Function <a id="ds.decAbs" href="#ds.decAbs">ds.decAbs</a><code>(v) -&gt; number</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L139"><i>src</i></a>)</h3>
<h3>Function <a id="ds.deepcopy" href="#ds.deepcopy">ds.deepcopy</a><code>(t) -&gt; table</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L518"><i>src</i></a>)</h3>
<h3>Function <a id="ds.dotpath" href="#ds.dotpath">ds.dotpath</a><code>(dots) -&gt; list split by '.'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L417"><i>src</i></a>)</h3>
used with ds.get and ds.set. Example <code class="block">  local dp = require'ds'.dotpath
  ds.get(t, dp'a.b.c')</code>
<h3>Function <a id="ds.drain" href="#ds.drain">ds.drain</a><code>(t, len--[[#t]]) -&gt; table</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L382"><i>src</i></a>)</h3>
return len items from the end of <code>t</code>, removing them from <code>t</code>
<h3>Function <a id="ds.emptyTable" href="#ds.emptyTable">ds.emptyTable</a><code>() -&gt; {}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L393"><i>src</i></a>)</h3>
<h3>Function <a id="ds.eq" href="#ds.eq">ds.eq</a><code>(a, b) -&gt; a == b</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L91"><i>src</i></a>)</h3>
<h3>Function <a id="ds.eval" href="#ds.eval">ds.eval</a><code>(chunk, env, name) -&gt; (ok, ...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L575"><i>src</i></a>)</h3>
evaluate lua code
<h3>Function <a id="ds.extend" href="#ds.extend">ds.extend</a><code>(t, l) -&gt; t: move vals to end of t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L323"><i>src</i></a>)</h3>
<h3>Function <a id="ds.fdMv" href="#ds.fdMv">ds.fdMv</a><code>(fdTo, fdFrom) -&gt; (fdTo, fdFrom)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L549"><i>src</i></a>)</h3>
Read data from fdFrom and write to fdTo, then flush.
<blockquote> memonic: fdTo = fdFrom</blockquote>
<h3>Function <a id="ds.fileWithText" href="#ds.fileWithText">ds.fileWithText</a><code>(path, text, mode) -&gt; file</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L539"><i>src</i></a>)</h3>
<h3>Function <a id="ds.find" href="#ds.find">ds.find</a><code>(subj, pats, si, plain) -&gt; (ms, me, pi, pat)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L163"><i>src</i></a>)</h3>
find any of a list of patterns. Return the match <code>start, end</code> as well as
the <code>index, pat</code> of the pattern matched.
<h3>Function <a id="ds.get" href="#ds.get">ds.get</a><code>(t, path) -&gt; value? at path</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L430"><i>src</i></a>)</h3>
get the value at the path or nil if the value or any
intermediate table is missing.
<code class="block">  get(t, {'a', 2, 'c'})  -&gt; t.a?[2]?.c?
  get(t, dotpath'a.b.c') -&gt; t.a?.b?.c?</code>
<h3>Function <a id="ds.getOrSet" href="#ds.getOrSet">ds.getOrSet</a><code>(t, k, newFn) -&gt; t[k] or newFn()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L388"><i>src</i></a>)</h3>
<h3>Function <a id="ds.geti" href="#ds.geti">ds.geti</a><code>(t, i) -&gt; t[i]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L248"><i>src</i></a>)</h3>
get index, handling negatives
<h3>Function <a id="ds.gt" href="#ds.gt">ds.gt</a><code>(a, b) -&gt; a &gt; b</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L121"><i>src</i></a>)</h3>
<h3>Function <a id="ds.icopy" href="#ds.icopy">ds.icopy</a><code>(t) -&gt; list</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L501"><i>src</i></a>)</h3>
Copy list-elements only
<h3>Function <a id="ds.iden" href="#ds.iden">ds.iden</a><code>(...) -&gt; ...</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L87"><i>src</i></a>)</h3>
<h3>Function <a id="ds.ilast" href="#ds.ilast">ds.ilast</a><code>(t, starti, endi) -&gt; iter[starti:endi]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L309"><i>src</i></a>)</h3>
iend(t, starti, endi=-1): get islice from the end.
starti and endi must be negative.
<p>
Example: <code>iend({1, 2, 3, 4, 5}, -3, -2) -&gt; 3, 4</code>
<h3>Function <a id="ds.indexOf" href="#ds.indexOf">ds.indexOf</a><code>(t, find) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L456"><i>src</i></a>)</h3>
<h3>Function <a id="ds.indexOfPat" href="#ds.indexOfPat">ds.indexOfPat</a><code>(strs, pat) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L460"><i>src</i></a>)</h3>
<h3>Function <a id="ds.inext" href="#ds.inext">ds.inext</a><code>(t, i) -&gt; (i+1, v)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L270"><i>src</i></a>)</h3>
next(t, key) but with indexes
<h3>Function <a id="ds.inset" href="#ds.inset">ds.inset</a><code>(t, i, values, rmlen) -&gt; removed?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L49"><i>src</i></a>)</h3>
insert values into list at i.
Uses <code>__inset</code> metamethod if available.
rmlen, if provided, will cause <code>t[i:i+rmlen]</code> to be removed first
<h3>Function <a id="ds.iprev" href="#ds.iprev">ds.iprev</a><code>(t, i) -&gt; (i-1, v)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L276"><i>src</i></a>)</h3>
inext but reversed.
<h3>Function <a id="ds.ireverse" href="#ds.ireverse">ds.ireverse</a><code>(t) -&gt; iter</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L279"><i>src</i></a>)</h3>
ipairs reversed
<h3>Function <a id="ds.isConcrete" href="#ds.isConcrete">ds.isConcrete</a><code>(v) -&gt; CONCRETE_TYPES[type(v)]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L59"><i>src</i></a>)</h3>
return whether the value is concrete (nil, boolean, number, string)
<h3>Function <a id="ds.isEmpty" href="#ds.isEmpty">ds.isEmpty</a><code>(t) -&gt; t == nil or next(t) == nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L227"><i>src</i></a>)</h3>
<h3>Function <a id="ds.isEven" href="#ds.isEven">ds.isEven</a><code>(a) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L134"><i>src</i></a>)</h3>
<h3>Function <a id="ds.isOdd" href="#ds.isOdd">ds.isOdd</a><code>(a) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L135"><i>src</i></a>)</h3>
<h3>Function <a id="ds.isPod" href="#ds.isPod">ds.isPod</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L79"><i>src</i></a>)</h3>
<h3>Function <a id="ds.isWithin" href="#ds.isWithin">ds.isWithin</a><code>(v, min, max) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L119"><i>src</i></a>)</h3>
<h3>Function <a id="ds.islice" href="#ds.islice">ds.islice</a><code>(t, starti, endi) -&gt; iter[starti:endi]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L294"><i>src</i></a>)</h3>
<h3>Function <a id="ds.islower" href="#ds.islower">ds.islower</a><code>(c) -&gt; string?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L148"><i>src</i></a>)</h3>
return the string if it is only lowercase letters
<h3>Function <a id="ds.isupper" href="#ds.isupper">ds.isupper</a><code>(c) -&gt; string?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L145"><i>src</i></a>)</h3>
return the string if it is only uppercase letters
<h3>Function <a id="ds.keys" href="#ds.keys">ds.keys</a><code>(t) -&gt; list</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L267"><i>src</i></a>)</h3>
<h3>Function <a id="ds.last" href="#ds.last">ds.last</a><code>(t) -&gt; t[#t]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L249"><i>src</i></a>)</h3>
<h3>Function <a id="ds.lineschunk" href="#ds.lineschunk">ds.lineschunk</a><code>(dat) -&gt; iter()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L563"><i>src</i></a>)</h3>
convert lines-like table into chunk for eval
<h3>Function <a id="ds.lt" href="#ds.lt">ds.lt</a><code>(a, b) -&gt; a &lt; b</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L120"><i>src</i></a>)</h3>
<h3>Function <a id="ds.lte" href="#ds.lte">ds.lte</a><code>(a, b) -&gt; a &lt;= b</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L122"><i>src</i></a>)</h3>
<h3>Function <a id="ds.merge" href="#ds.merge">ds.merge</a><code>(t, add) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L372"><i>src</i></a>)</h3>
recursively update t with add. This will call update on inner tables as
well.
<blockquote>Note: treats list indexes as normal keys (does not append)</blockquote>
<h3>Function <a id="ds.name" href="#ds.name">ds.name</a><code>(t) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L28"><i>src</i></a>)</h3>
if t is a table returns t.__name or '?'
<h3>Function <a id="ds.newTable" href="#ds.newTable">ds.newTable</a><code>() -&gt; {}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L90"><i>src</i></a>)</h3>
<h3>Function <a id="ds.nosupport" href="#ds.nosupport">ds.nosupport</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L86"><i>src</i></a>)</h3>
<h3>Function <a id="ds.only" href="#ds.only">ds.only</a><code>(t) -&gt; t[1]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L255"><i>src</i></a>)</h3>
get the first (and assert only) element of the list
<h3>Function <a id="ds.orderedKeys" href="#ds.orderedKeys">ds.orderedKeys</a><code>(t, cmpFn) -&gt; keys</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L352"><i>src</i></a>)</h3>
<h3>Function <a id="ds.pairlen" href="#ds.pairlen">ds.pairlen</a><code>(t) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L239"><i>src</i></a>)</h3>
the full length of all pairs
<blockquote>WARNING: very slow, requires iterating the whole table</blockquote>
<h3>Function <a id="ds.popit" href="#ds.popit">ds.popit</a><code>(t, i) -&gt; t[i] and length of t is reduced by 1</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L470"><i>src</i></a>)</h3>
popit (aka pop-index-top) will return the value at <code>t[i]</code>, replacing it
with the value at the end (aka top) of the list.
<p>
if <code>i &gt; #t</code> returns nil and doesn't affect the size of the list.
<h3>Function <a id="ds.popk" href="#ds.popk">ds.popk</a><code>(t, key) -&gt; t[k]: pop key</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L376"><i>src</i></a>)</h3>
<h3>Function <a id="ds.pushSortedKeys" href="#ds.pushSortedKeys">ds.pushSortedKeys</a><code>(t, cmpFn) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L359"><i>src</i></a>)</h3>
adds all <code>key=index</code> to the table so the keys can
be iterated using <code>for _, k in ipairs(t)</code>
<h3>Function <a id="ds.pushfmt" href="#ds.pushfmt">ds.pushfmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L232"><i>src</i></a>)</h3>
push the <code>fmt:format(...)</code> to the table
<p>
Example: <code>pushfmt(t, 'a=%s b=%s', a, b)</code>
<h3>Function <a id="ds.rawget" href="#ds.rawget">ds.rawget</a><code>(t, path) -&gt; value? at path</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L438"><i>src</i></a>)</h3>
same as ds.get but uses <code>rawget</code>
<h3>Function <a id="ds.rawislice" href="#ds.rawislice">ds.rawislice</a><code>(state, i) -&gt; (i+1, v)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L284"><i>src</i></a>)</h3>
<h3>Function <a id="ds.readPath" href="#ds.readPath">ds.readPath</a><code>(path) -&gt; ok</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L526"><i>src</i></a>)</h3>
<h3>Function <a id="ds.replace" href="#ds.replace">ds.replace</a><code>(t, r) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L339"><i>src</i></a>)</h3>
<h3>Function <a id="ds.repr" href="#ds.repr">ds.repr</a><code>(v) -&gt; sfmt('%q', v)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L130"><i>src</i></a>)</h3>
<h3>Function <a id="ds.resource" href="#ds.resource">ds.resource</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1105"><i>src</i></a>)</h3>
Include a resource (raw data) relative to the current file.
<p>
Example: <code>M.myData = ds.resource'data/myData.csv'</code>
<h3>Function <a id="ds.resume" href="#ds.resume">ds.resume</a><code>(th) -&gt; (ok, err, b, c)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1072"><i>src</i></a>)</h3>
Same as coroutine.resume except uses a ds.Error object for errors
(has traceback)
<h3>Function <a id="ds.retFalse" href="#ds.retFalse">ds.retFalse</a><code>() -&gt; false</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L89"><i>src</i></a>)</h3>
<h3>Function <a id="ds.retTrue" href="#ds.retTrue">ds.retTrue</a><code>() -&gt; true</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L88"><i>src</i></a>)</h3>
<h3>Function <a id="ds.reverse" href="#ds.reverse">ds.reverse</a><code>(t) -&gt; t (reversed)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L317"><i>src</i></a>)</h3>
reverse a list-like table in-place
<h3>Function <a id="ds.rmleft" href="#ds.rmleft">ds.rmleft</a><code>(t, rm, eq--[[ds.eq]]) -&gt; t (mutated)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L408"><i>src</i></a>)</h3>
remove (mutate) the left side of the table (list).
noop if rm is not exactly equal to the left side.
<h3>Function <a id="ds.sentinel" href="#ds.sentinel">ds.sentinel</a><code>(name, mt) -&gt; NewType</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L653"><i>src</i></a>)</h3>
<code>sentinel(name, metatable)</code>
Use to create a "sentinel type". Return the (singular) instance.
<p>
Sentinels are "single values" commonly used for things like: none, empty, EOF, etc.
They have most metatable methods disallowed and are immutable down. Methods can
only be set by the provided metatable value.
<h3>Function <a id="ds.set" href="#ds.set">ds.set</a><code>(d, path, value, newFn) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L450"><i>src</i></a>)</h3>
set the value at path using newFn (default=ds.newTable) to create
missing intermediate tables.
<code class="block">set(t, dotpath'a.b.c', 2) -- t.a?.b?.c = 2</code>
<h3>Function <a id="ds.setIfNil" href="#ds.setIfNil">ds.setIfNil</a><code>(t, k, v) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L392"><i>src</i></a>)</h3>
<h3>Function <a id="ds.shortloc" href="#ds.shortloc">ds.shortloc</a><code>(level) -&gt; "dir/file.lua:10"</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L102"><i>src</i></a>)</h3>
<h3>Function <a id="ds.simplestr" href="#ds.simplestr">ds.simplestr</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L223"><i>src</i></a>)</h3>
A way to declare simpler mulitline strings which: <ul>
<li>ignores the first/last newline if empty</li>
<li>removes leading whitespace equal to the first
line (or second line if first line has no indent)</li>
</ul>
Example: <code class="block">local s = require'ds'.simplestr
local mystr = s[[
  this is
    a string.
]]
assertEq('this is\n  a string.', mystr)</code>
<h3>Function <a id="ds.slice" href="#ds.slice">ds.slice</a><code>(t, starti, endi) -&gt; list[starti:endi]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L300"><i>src</i></a>)</h3>
<h3>Function <a id="ds.sort" href="#ds.sort">ds.sort</a><code>(t, fn) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L243"><i>src</i></a>)</h3>
sort table and return it.
Eventually this may use the <code>__sort</code> metamethod
<h3>Function <a id="ds.sort2" href="#ds.sort2">ds.sort2</a><code>(a, b) -&gt; (small, large)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L129"><i>src</i></a>)</h3>
<h3>Function <a id="ds.splitList" href="#ds.splitList">ds.splitList</a><code>(...) -&gt; list</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L170"><i>src</i></a>)</h3>
<h3>Function <a id="ds.squash" href="#ds.squash">ds.squash</a><code>(s, repl) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L179"><i>src</i></a>)</h3>
Squash a string: convert all whitespace to repl (default=' ').
<h3>Function <a id="ds.srcdir" href="#ds.srcdir">ds.srcdir</a><code>(level) -&gt; "/path/to/dir/"</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L105"><i>src</i></a>)</h3>
<h3>Function <a id="ds.srcloc" href="#ds.srcloc">ds.srcloc</a><code>(level) -&gt; "/path/to/dir/file.lua:10"</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L97"><i>src</i></a>)</h3>
<h3>Function <a id="ds.traceback" href="#ds.traceback">ds.traceback</a><code>(level) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1020"><i>src</i></a>)</h3>
<h3>Function <a id="ds.tracelist" href="#ds.tracelist">ds.tracelist</a><code>(tbstr, level) -&gt; {traceback}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1017"><i>src</i></a>)</h3>
convert the string traceback into a list
<h3>Function <a id="ds.trim" href="#ds.trim">ds.trim</a><code>(subj, pat, index) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L153"><i>src</i></a>)</h3>
<h3>Function <a id="ds.trimEnd" href="#ds.trimEnd">ds.trimEnd</a><code>(subj, pat, index) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L176"><i>src</i></a>)</h3>
trim the end of the string by removing pat (default='%s')
<h3>Function <a id="ds.try" href="#ds.try">ds.try</a><code>(fn, ...) -&gt; (ok, ...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L1064"><i>src</i></a>)</h3>
try to run the fn. Similar to pcall. Return one of: <ul>
<li>successs: <code>(true, ...)</code></li>
<li>failure: <code>(false, ds.Error{...})</code></li>
</ul>
<h3>Function <a id="ds.update" href="#ds.update">ds.update</a><code>(t, add) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L343"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<h3>Function <a id="ds.updateKeys" href="#ds.updateKeys">ds.updateKeys</a><code>(t, add, keys) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L347"><i>src</i></a>)</h3>
like update but only for specified keys
<h3>Function <a id="ds.usub" href="#ds.usub">ds.usub</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L193"><i>src</i></a>)</h3>
utf8 sub. If len is pre-computed you can pass it in for better performance.
<h3>Function <a id="ds.values" href="#ds.values">ds.values</a><code>(t) -&gt; list</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L261"><i>src</i></a>)</h3>
get only the values of pairs(t) as a list
<h3>Function <a id="ds.walk" href="#ds.walk">ds.walk</a><code>(t, fieldFn, tableFn, maxDepth, state) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L495"><i>src</i></a>)</h3>
Walk the table up to depth maxDepth (or infinite if nil) <ul>
<li><code>fieldFn(key, value, state)    -&gt; stop</code> is called for every non-table value.</li>
<li><code>tableFn(key, tblValue, state) -&gt; stop</code> is called for every table value</li>
</ul>
<p>
If tableFn <code>stop==ds.SKIP</code> (i.e. 'skip') then that table is not recursed.
Else if stop then the walk is halted immediately
<h3>Function <a id="ds.writePath" href="#ds.writePath">ds.writePath</a><code>(path, text) -&gt; ok</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L532"><i>src</i></a>)</h3>
<p>
<h2>Module <a id="bt" href="#bt">bt</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L855"><i>src</i></a>)</h2>
indexed table as Binary Tree.
These functions treat an indexed table as a binary tree
where root is at <code>index=1</code>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.bt.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="bt.left" href="#bt.left">bt.left</a><code>(t, i) -&gt; t[i * 2]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L856"><i>src</i></a>)</h3>
<h3>Function <a id="bt.lefti" href="#bt.lefti">bt.lefti</a><code>(t, i) -&gt; i * 2</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L859"><i>src</i></a>)</h3>
<h3>Function <a id="bt.parent" href="#bt.parent">bt.parent</a><code>(t, i) -&gt; t[i // 2]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L858"><i>src</i></a>)</h3>
<h3>Function <a id="bt.parenti" href="#bt.parenti">bt.parenti</a><code>(t, i) -&gt; i // 2</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L861"><i>src</i></a>)</h3>
<h3>Function <a id="bt.right" href="#bt.right">bt.right</a><code>(t, i) -&gt; t[i * 2 + 1]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L857"><i>src</i></a>)</h3>
<h3>Function <a id="bt.righti" href="#bt.righti">bt.righti</a><code>(t, i) -&gt; i * 2 + 1</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L860"><i>src</i></a>)</h3>
<h2>Module <a id="dag" href="#dag">dag</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L867"><i>src</i></a>)</h2>
Functions for working with directed acyclic graphs.
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.dag.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="dag.missing" href="#dag.missing">dag.missing</a><code>(depsMap) -&gt; missingDeps</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L914"><i>src</i></a>)</h3>
Given a depsMap return missing deps (items in a deps with no name).
<h3>Function <a id="dag.reverseMap" href="#dag.reverseMap">dag.reverseMap</a><code>(childrenMap) -&gt; parentsMap (or vice-versa)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L904"><i>src</i></a>)</h3>
<h3>Function <a id="dag.sort" href="#dag.sort">dag.sort</a><code>(depsMap) -&gt; sortedDeps</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L893"><i>src</i></a>)</h3>
Sort the directed acyclic graph. depsMap must behave like a table which:
<code class="block">  for pairs(depsMap) -&gt; nodeName, ...
  depsMap[nodeName]  -&gt; nodeDeps (list)</code>
<p>
If depsMap is a map of pkg -> depPkgs then the result is the order the pkgs
should be built.
<p>
Note: this function does NOT detect cycles.
<h3>Record <a id="ds.Grid" href="#ds.Grid">ds.Grid</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.Grid.h</code></td>
<td>[int] 
height</td>
</tr>
<tr>
<td><code>ds.Grid.w</code></td>
<td>[int] 
width</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.Grid.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Grid.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Grid.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.Grid.__index</code></td>
<td>[Ty<ds.Grid>] </td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.Grid.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="ds.Grid.__fmt" href="#ds.Grid.__fmt">ds.Grid.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Grid.lua#L57"><i>src</i></a>)</h4>
<h4>Function <a id="ds.Grid.clear" href="#ds.Grid.clear">ds.Grid.clear</a><code>(g) -&gt; g</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Grid.lua#L29"><i>src</i></a>)</h4>
clear the grid
<h4>Function <a id="ds.Grid.insert" href="#ds.Grid.insert">ds.Grid.insert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Grid.lua#L50"><i>src</i></a>)</h4>
insert the str|lines into the grid at l.c
this handles newlines by inserting at the same column
<h3>Record <a id="ds.Iter" href="#ds.Iter">ds.Iter</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.Iter._li</code></td>
<td>[int] = <code>0</code>
left index of fns (stored at negative index)</td>
</tr>
<tr>
<td><code>ds.Iter._nextK</code></td>
<td>[any] 
next key when <code>iter()</code>ated</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.Iter.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Iter.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.Iter.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.Iter.__index</code></td>
<td>[Ty<Iter>] </td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.Iter.__ipairs</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L86">src</a>)</td>
</tr>
<tr>
<td><code>ds.Iter.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Iter.__call" href="#Iter.__call">Iter.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L256"><i>src</i></a>)</h4>
use as an iterator.
<h4>Function <a id="Iter.all" href="#Iter.all">Iter.all</a><code>(it) -&gt; not it:find(allFn)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L201"><i>src</i></a>)</h4>
return true if any of the values are truthy
<h4>Function <a id="Iter.any" href="#Iter.any">Iter.any</a><code>(it) -&gt; not not it:find(anyFn)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L205"><i>src</i></a>)</h4>
return true if any of the values are truthy
<h4>Function <a id="Iter.concat" href="#Iter.concat">Iter.concat</a><code>(it, sep) -&gt; concat(it:to(), sep)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L241"><i>src</i></a>)</h4>
<h4>Function <a id="Iter.filter" href="#Iter.filter">Iter.filter</a><code>(it, fn) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L102"><i>src</i></a>)</h4>
- emit only <code>if fn(k, v)</code> results
<h4>Function <a id="Iter.filterK" href="#Iter.filterK">Iter.filterK</a><code>(it, fn) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L109"><i>src</i></a>)</h4>
- emit only <code>if fn(k)</code> results
<h4>Function <a id="Iter.filterV" href="#Iter.filterV">Iter.filterV</a><code>(it, fn) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L116"><i>src</i></a>)</h4>
- emit only <code>if fn(v)</code> results
<h4>Function <a id="Iter.find" href="#Iter.find">Iter.find</a><code>(it, fn) -&gt; k, v</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L196"><i>src</i></a>)</h4>
run the iterator over all values, calling <code>fn(k, v)</code> for each.
return the first <code>k, v</code> where the fn returns a truthy value.
<h4>Function <a id="Iter.index" href="#Iter.index">Iter.index</a><code>(it) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L177"><i>src</i></a>)</h4>
emit <code>i, k</code>, dropping values. <code>i</code> starts at <code>1</code> and increments each
time called.
<p>
<blockquote> Note: this is most useful for iterators which don't emit a <code>v</code>.
i.e. getting the line number in <code>file:lines()</code></blockquote>
<h4>Function <a id="Iter.iter" href="#Iter.iter">Iter.iter</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L260"><i>src</i></a>)</h4>
<h4>Function <a id="Iter.keyIn" href="#Iter.keyIn">Iter.keyIn</a><code>(it, t) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L141"><i>src</i></a>)</h4>
emit <code>k, v</code> for each non-nil <code>t[k]</code>
<h4>Function <a id="Iter.keyNotIn" href="#Iter.keyNotIn">Iter.keyNotIn</a><code>(it, t) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L148"><i>src</i></a>)</h4>
emit <code>k, v</code> for each nil <code>t[k]</code>
<h4>Function <a id="Iter.keysTo" href="#Iter.keysTo">Iter.keysTo</a><code>(it, to={}) -&gt; to</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L232"><i>src</i></a>)</h4>
collect emitted <code>k</code> as a list (vals are dropped)
<h4>Function <a id="Iter.listen" href="#Iter.listen">Iter.listen</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L168"><i>src</i></a>)</h4>
emit <code>k, v</code> after calling <code>fn(k, v)</code>.
The results of the fn are ignored
<h4>Function <a id="Iter.lookup" href="#Iter.lookup">Iter.lookup</a><code>(it, t) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L122"><i>src</i></a>)</h4>
emit<code>v, $t[k]</code>, looking up the iter's values in the table's keys.
<h4>Function <a id="Iter.lookupK" href="#Iter.lookupK">Iter.lookupK</a><code>(it, t) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L127"><i>src</i></a>)</h4>
emit <code>t[k], v</code> for each non-nil <code>t[k]</code>
<h4>Function <a id="Iter.lookupV" href="#Iter.lookupV">Iter.lookupV</a><code>(it, t) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L134"><i>src</i></a>)</h4>
emit <code>k, $t[v]</code> for each non-nil <code>t[v]</code>
<h4>Function <a id="Iter.map" href="#Iter.map">Iter.map</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L82"><i>src</i></a>)</h4>
emit <code>k, fn(v)</code> for each non-nil result
<p>
<blockquote>Note: if performance matters this is the most performant
application function since it doesn't create an internal
function.
</blockquote>
<h4>Function <a id="Iter.mapK" href="#Iter.mapK">Iter.mapK</a><code>(it, fn) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L87"><i>src</i></a>)</h4>
- emit <code>fn(k), v)</code> for each non-nil result.
<h4>Function <a id="Iter.mapV" href="#Iter.mapV">Iter.mapV</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L95"><i>src</i></a>)</h4>
emit <code>k, fn(v)</code> for each non-nil result.
(filtered when <code>newK==nil</code>)
<h4>Function <a id="Iter.of" href="#Iter.of">Iter.of</a><code>(T, t) -&gt; T{pairs(t)}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L43"><i>src</i></a>)</h4>
create iterable of <code>pairs(t)</code>
<h4>Function <a id="Iter.ofList" href="#Iter.ofList">Iter.ofList</a><code>(T, t) -&gt; T{ipairs(t)}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L46"><i>src</i></a>)</h4>
create iterable of <code>ipairs(t)</code>
<h4>Function <a id="Iter.ofOrdList" href="#Iter.ofOrdList">Iter.ofOrdList</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L60"><i>src</i></a>)</h4>
sort t then iterate over list
<h4>Function <a id="Iter.ofOrdMap" href="#Iter.ofOrdMap">Iter.ofOrdMap</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L55"><i>src</i></a>)</h4>
create an iterable of <code>t</code> which emits keys in order.
<p>
<blockquote> WARNING: this first sorts the keys, which can be slow</blockquote>
<h4>Function <a id="Iter.ofSlc" href="#Iter.ofSlc">Iter.ofSlc</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L68"><i>src</i></a>)</h4>
iterate over slice of <code>starti:endi</code> in <code>t</code>
<h4>Function <a id="Iter.reset" href="#Iter.reset">Iter.reset</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L244"><i>src</i></a>)</h4>
reset the iterator to run from the start
<h4>Function <a id="Iter.run" href="#Iter.run">Iter.run</a><code>(it, fn--[[noop]]) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L217"><i>src</i></a>)</h4>
run the iterator over all values, calling <code>fn(k, v)</code> for each.
<h4>Function <a id="Iter.single" href="#Iter.single">Iter.single</a><code>(k, v) -&gt; (k, v)-&gt;nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L269"><i>src</i></a>)</h4>
create an iterator that returns a single value
<h4>Function <a id="Iter.swap" href="#Iter.swap">Iter.swap</a><code>(it) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L180"><i>src</i></a>)</h4>
emit <code>v, k</code> (swaps key and value)
<h4>Function <a id="Iter.to" href="#Iter.to">Iter.to</a><code>(it, to={}) -&gt; to</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L225"><i>src</i></a>)</h4>
collect non-nil <code>k, v</code> into table-like object <code>to</code>
<h4>Function <a id="Iter.valIn" href="#Iter.valIn">Iter.valIn</a><code>(it, t) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L155"><i>src</i></a>)</h4>
emit <code>k, v</code> for each non-nil <code>t[v]</code>
<h4>Function <a id="Iter.valNotIn" href="#Iter.valNotIn">Iter.valNotIn</a><code>(it, t) -&gt; it</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L162"><i>src</i></a>)</h4>
emit <code>k, v</code> for each nil <code>t[v]</code>
<h4>Function <a id="Iter.valsTo" href="#Iter.valsTo">Iter.valsTo</a><code>(it, to={}) -&gt; to</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/Iter.lua#L239"><i>src</i></a>)</h4>
collect emitted <code>v</code> as a list (keys are dropped)
<h3>Record <a id="ds.LL" href="#ds.LL">ds.LL</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.LL.l</code></td>
<td>[&LL] 
left node</td>
</tr>
<tr>
<td><code>ds.LL.r</code></td>
<td>[&LL] 
right node</td>
</tr>
<tr>
<td><code>ds.LL.v</code></td>
<td>[any] 
value</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.LL.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.LL.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.LL.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.LL.__index</code></td>
<td>[Ty<LL>] </td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.LL.__ipairs</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L86">src</a>)</td>
</tr>
<tr>
<td><code>ds.LL.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
<tr>
<td><code>ds.LL.__pairs</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L86">src</a>)</td>
</tr>
</table>
<h4>Function <a id="LL.__add" href="#LL.__add">LL.__add</a><code>(ll, v) -&gt; tail</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L94"><i>src</i></a>)</h4>
Add DSL (ll + v). Puts node with v=v after tail, returns new tail.
<h4>Function <a id="LL.__call" href="#LL.__call">LL.__call</a><code>(ll) -&gt; ll.r (use with `for`)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L113"><i>src</i></a>)</h4>
<h4>Function <a id="LL.__fmt" href="#LL.__fmt">LL.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L123"><i>src</i></a>)</h4>
<h4>Function <a id="LL.__sub" href="#LL.__sub">LL.__sub</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L111"><i>src</i></a>)</h4>
Link DSL: l - r ==> l -> r
Links <code>l:tail() -&gt; r:head(), return r:tail()</code>
<p>
Note: This is for convienience and expressiveness of small lists.
Use link() or insert() if performance matters.
<p>
Example: <code class="block">  l6     = LL(3) - (LL(4) + 5) - L(6) ==&gt; (3 -&gt; 4 -&gt; 5 -&gt; 6)
  l3tail = l1 - l2 - l3</code>
<h4>Function <a id="LL.from" href="#LL.from">LL.from</a><code>(T, list) -&gt; (head, tail) from list of vals</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L43"><i>src</i></a>)</h4>
<h4>Function <a id="LL.get" href="#LL.get">LL.get</a><code>(ll, i) -&gt; node? (at index +/- i)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L86"><i>src</i></a>)</h4>
<h4>Function <a id="LL.head" href="#LL.head">LL.head</a><code>(ll) -&gt; ll</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L45"><i>src</i></a>)</h4>
<h4>Function <a id="LL.insert" href="#LL.insert">LL.insert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L60"><i>src</i></a>)</h4>
insert LL(v) to right of ll
<code>(h -&gt; 2); h:insert(1) ==&gt; (h -&gt; 1 -&gt; 2)</code>
<h4>Function <a id="LL.link" href="#LL.link">LL.link</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L54"><i>src</i></a>)</h4>
create l -> r link
<h4>Function <a id="LL.rm" href="#LL.rm">LL.rm</a><code>(ll) -&gt; head?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L73"><i>src</i></a>)</h4>
remove node ll from linked list
if ll was the head, returns the new head (or nil)
<h4>Function <a id="LL.tail" href="#LL.tail">LL.tail</a><code>(ll) -&gt; ll</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L46"><i>src</i></a>)</h4>
<h4>Function <a id="LL.tolist" href="#LL.tolist">LL.tolist</a><code>(ll) -&gt; {a.v, b.v, c.v, ...}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/LL.lua#L51"><i>src</i></a>)</h4>
<h2>Module <a id="ds.heap" href="#ds.heap">ds.heap</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/heap.lua#L2"><i>src</i></a>)</h2>
Binary Heap implementation
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.heap.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="ds.heap.Heap" href="#ds.heap.Heap">ds.heap.Heap</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/heap.lua#L66"><i>src</i></a>)</h3>
Heap(t, cmp) binary heap using a table.
A binary heap is a binary tree where the value of the parent always
satisfies `cmp(parent, child) == true`
Min Heap: cmp = function(p, c) return p < c end (default)
Max Heap: cmp = function(p, c) return p > c end
<p>
add and push take only O(log n), making it very useful for
priority queues and similar problems.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ds.heap.Heap.cmp</code></td>
<td>[function] = <code>fn"ds.lt"[/home/rett/projects/civlua/lib/ds/ds.lua:120]</code>
comparison function to use</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ds.heap.Heap.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.heap.Heap.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.heap.Heap.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.heap.Heap.__index</code></td>
<td>[Ty<Heap>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/heap.lua#L66">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.heap.Heap.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Heap.add" href="#Heap.add">Heap.add</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/heap.lua#L74"><i>src</i></a>)</h4>
<code>h:add(v)</code> add value to the heap.
<h4>Function <a id="Heap.pop" href="#Heap.pop">Heap.pop</a><code>(h) -&gt; v</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/heap.lua#L83"><i>src</i></a>)</h4>
<code>h:pop() -&gt; v</code> pop the top node.
<h2>Module <a id="ds.log" href="#ds.log">ds.log</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L18"><i>src</i></a>)</h2>
Simple logging library.
<p>
This module has the functions <code>trace info warn err crit</code> with the signature:
<code>function(fmt, ... [, data])</code> <ul>
<li>the ... are the format args which behave like <code>fmt.format</code> (aka <code>%q</code>
formats tables/etc).</li>
<li>data is optional arbitrary data that can be serialized/formatted.</li>
</ul>
<p>
To enable logging the user should set a global (or env var) LOGLEVEL
to oneof: C/CRIT/1 E/ERROR/2 W/WARN/3 I/INFO/4 T/TRACE/5
<p>
This module also sets (if not already set) the global LOGFN to <code>ds.logFn</code>
which logs to stderr. This fn is called with signature
<code>function(level, srcloc, fmt, ...)</code>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.log.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ds.log.LEVEL" href="#ds.log.LEVEL">ds.log.LEVEL</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L37"><i>src</i></a>)</h3>
<h3>Record <a id="ds.log.LogTable" href="#ds.log.LogTable">ds.log.LogTable</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L74"><i>src</i></a>)</h3>
used in tests
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.log.LogTable.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.log.LogTable.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ds.log.LogTable.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ds.log.LogTable.__index</code></td>
<td>[Ty<LogTable>] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L74">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ds.log.LogTable.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="LogTable.__call" href="#LogTable.__call">LogTable.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L75"><i>src</i></a>)</h4>
<h3>Function <a id="ds.log.crit" href="#ds.log.crit">ds.log.crit</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L67"><i>src</i></a>)</h3>
<h3>Function <a id="ds.log.err" href="#ds.log.err">ds.log.err</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L68"><i>src</i></a>)</h3>
<h3>Function <a id="ds.log.info" href="#ds.log.info">ds.log.info</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L70"><i>src</i></a>)</h3>
<h3>Function <a id="ds.log.levelInt" href="#ds.log.levelInt">ds.log.levelInt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L39"><i>src</i></a>)</h3>
<h3>Function <a id="ds.log.levelStr" href="#ds.log.levelStr">ds.log.levelStr</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L43"><i>src</i></a>)</h3>
<h3>Function <a id="ds.log.logFn" href="#ds.log.logFn">ds.log.logFn</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L51"><i>src</i></a>)</h3>
set the global logging level (default=os.getenv'LOGLEVEL')
<h3>Function <a id="ds.log.setLevel" href="#ds.log.setLevel">ds.log.setLevel</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L48"><i>src</i></a>)</h3>
set the global logging level (default=os.getenv'LOGLEVEL')
<h3>Function <a id="ds.log.time" href="#ds.log.time">ds.log.time</a><code>() -&gt; os.date():match'%d%d:%d%d:%d%d'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L27"><i>src</i></a>)</h3>
<h3>Function <a id="ds.log.trace" href="#ds.log.trace">ds.log.trace</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L71"><i>src</i></a>)</h3>
<h3>Function <a id="ds.log.warn" href="#ds.log.warn">ds.log.warn</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/log.lua#L69"><i>src</i></a>)</h3>
<h2>Module <a id="ds.path" href="#ds.path">ds.path</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L5"><i>src</i></a>)</h2>
working with paths
Call directly to convert a list|str to a list of path components.
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.path.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="ds.path.abs" href="#ds.path.abs">ds.path.abs</a><code>(path, wd) -&gt; /absolute/path</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L69"><i>src</i></a>)</h3>
E-nsure the path is absolute, using the wd (default=cwd()) if necessary
<p>
This preserves the type of the input: str -> str; table -> table
<h3>Function <a id="ds.path.cmpDirsLast" href="#ds.path.cmpDirsLast">ds.path.cmpDirsLast</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L171"><i>src</i></a>)</h3>
path comparison function for <code>table.sort</code> that sorts
dirs last, else alphabetically.
<h3>Function <a id="ds.path.concat" href="#ds.path.concat">ds.path.concat</a><code>(t) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L39"><i>src</i></a>)</h3>
join a table of path components
<h3>Function <a id="ds.path.cwd" href="#ds.path.cwd">ds.path.cwd</a><code>() -&gt; G.CWD or os.getenv'PWD' or os.getenv'CD'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L23"><i>src</i></a>)</h3>
get current working directory
<h3>Function <a id="ds.path.ext" href="#ds.path.ext">ds.path.ext</a><code>(path) -&gt; string. path: [str|list]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L54"><i>src</i></a>)</h3>
<h3>Function <a id="ds.path.first" href="#ds.path.first">ds.path.first</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L141"><i>src</i></a>)</h3>
<code>first/middle/last -&gt; ("first", "middle/last")</code>
<h3>Function <a id="ds.path.hasBacktrack" href="#ds.path.hasBacktrack">ds.path.hasBacktrack</a><code>(path) -&gt; bool. path: [str|list]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L50"><i>src</i></a>)</h3>
return whether a path has any '..' components
<h3>Function <a id="ds.path.home" href="#ds.path.home">ds.path.home</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L27"><i>src</i></a>)</h3>
get the user's home directory
<h3>Function <a id="ds.path.isDir" href="#ds.path.isDir">ds.path.isDir</a><code>(path) -&gt; path:sub(-1) == '/'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L153"><i>src</i></a>)</h3>
return whether the path looks like a dir.
Note: civlua tries to make all ftype='dir' paths end in '/'
but other libraries or APIs may not conform to this.
<h3>Function <a id="ds.path.itemeq" href="#ds.path.itemeq">ds.path.itemeq</a><code>(a, b) -&gt; boolean: path items are equal</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L110"><i>src</i></a>)</h3>
<h3>Function <a id="ds.path.last" href="#ds.path.last">ds.path.last</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L148"><i>src</i></a>)</h3>
<code>first/middle/last -&gt; ("first/middle", "last")</code>
<h3>Function <a id="ds.path.nice" href="#ds.path.nice">ds.path.nice</a><code>(path, wd) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L127"><i>src</i></a>)</h3>
return a nice path (string) that is resolved and readable.
<p>
It's 'nice' because it has no '/../' or '/./' elements
and has CWD stripped.
<h3>Function <a id="ds.path.resolve" href="#ds.path.resolve">ds.path.resolve</a><code>(path, wd) -&gt; list</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L106"><i>src</i></a>)</h3>
resolve any `..` or `.` path components, making the path
/absolute if necessary.
<h3>Function <a id="ds.path.rmleft" href="#ds.path.rmleft">ds.path.rmleft</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L115"><i>src</i></a>)</h3>
ds.rmleft for path components
<h3>Function <a id="ds.path.short" href="#ds.path.short">ds.path.short</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L133"><i>src</i></a>)</h3>
Return only the parent dir and final item.
This is often used for documentation/etc
<h3>Function <a id="ds.path.toDir" href="#ds.path.toDir">ds.path.toDir</a><code>(path) -&gt; path/</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L157"><i>src</i></a>)</h3>
<h3>Function <a id="ds.path.toNonDir" href="#ds.path.toNonDir">ds.path.toNonDir</a><code>(path) -&gt; path (without ending /)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/path.lua#L161"><i>src</i></a>)</h3>
<h2>Module <a id="ds.pod" href="#ds.pod">ds.pod</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/pod.lua#L21"><i>src</i></a>)</h2>
pod: convert types from/to plain old data (pod)
<p>
This module exports the toPod() and fromPod() functions for serialization
libraries to use. These convert a metaty value (or lua concrete value)
to/from plain old data and add the configurable TYPE_KEY (default='??') for
deserializing the type.
<p>
A (metatable) type can support these methods by by supporting the methods
<code>__fromPod()</code> and <code>__toPod()</code>. This module provides metaty defaults for
these methods that should work for most simple metadta types that are
already PoD. You can make your type as serializable with: <code class="block">  local M = mod'mymod' -- see pkglib for PKG_NAMES, PKG_LOOKUP
  local pod = require'ds.pod'
  M.MyType = mty'MyType' { ... }
  pod(M.MyType)
  -- Or simply:
  M.MyType.__toPod, M.MyType.__fromPod = pod.__toPod, pod.__fromPod</code>
Alternatively, you can implement these methods yourself. See the
requirements in the function documentation.
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.pod.FROM_POD</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/pod.lua#L65">src</a>)</td>
</tr>
<tr>
<td><code>ds.pod.TO_POD</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/pod.lua#L55">src</a>)</td>
</tr>
<tr>
<td><code>ds.pod.TYPE_KEY</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ds.pod.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="ds.pod.__fromPod" href="#ds.pod.__fromPod">ds.pod.__fromPod</a><code>(T, pod) -&gt; value</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/pod.lua#L94"><i>src</i></a>)</h3>
Default metaty <code>__fromPod</code> method.
<p>
This implementation converts a table of PoD to the metaty by first
converting it's fields (except TYPE_KEY) and then using
<code>getmetatable(T).__call</code> to construct it.
<p>
To use this, the metatable.call method must be able to handle the plain
data input, otherwise you need to implement this method yourself.
<h3>Function <a id="ds.pod.__toPod" href="#ds.pod.__toPod">ds.pod.__toPod</a><code>(self) -&gt; table</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/pod.lua#L80"><i>src</i></a>)</h3>
Default metaty <code>__toPod</code> method.
<p>
Convert an type instance to a plain table. The returned table must be only
plain old data composed of only bool, number, string or non-metatable
values.
<p>
The returned table has a TYPE_KEY field which can be used with PKG_LOOKUP.
<h3>Function <a id="ds.pod.fromPod" href="#ds.pod.fromPod">ds.pod.fromPod</a><code>(pod) -&gt; value</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/pod.lua#L39"><i>src</i></a>)</h3>
Depod plain old data into metaty
<h3>Function <a id="ds.pod.toPod" href="#ds.pod.toPod">ds.pod.toPod</a><code>(val) -&gt; PoD</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/pod.lua#L32"><i>src</i></a>)</h3>
Serialize value t into plain old data
<h2>Module <a id="ds.utf8" href="#ds.utf8">ds.utf8</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/utf8.lua#L4"><i>src</i></a>)</h2>
utf8 stream decoding.
Get the length by decodelen(firstbyte), then decode the whole character
with decode(dat)
<p>
<b>Values: </b> <table>
<tr>
<td><code>ds.utf8.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="ds.utf8.decode" href="#ds.utf8.decode">ds.utf8.decode</a><code>(dat) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/utf8.lua#L25"><i>src</i></a>)</h3>
decode utf8 data (table) into an integer.
Use <code>utf8.char</code> (from lua's stdlib) to turn into a string.
<h3>Function <a id="ds.utf8.decodelen" href="#ds.utf8.decodelen">ds.utf8.decodelen</a><code>(firstbyte) -&gt; U8LEN[0xF8 & firstbyte]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds/utf8.lua#L17"><i>src</i></a>)</h3>
given the first byte return the number of bytes in the utf8 char
<p>
<h1><a id="Package_lines" href="#Package_lines">Package lines</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>Data structures for mixed media (memory/fs) lines of text</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/lines/README.md</td>
</tr>
</table>
<p>
<h3>Table <a id="lines" href="#lines">lines</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines.lua#L7"><i>src</i></a>)</h3>
lines module, when called splits a string into lines.
<code>require'lines'(text) -&gt; table of lines</code>
<p>
sub-modules include several data structures with more performant
mechanisms to insert/remove/etc based on real-world workloads
(i.e. editor, parser, etc)
<p>
<b>Values: </b> <table>
<tr>
<td><code>lines.CHUNK</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>lines.CMAX</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>lines.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="lines.EdFile" href="#lines.EdFile">lines.EdFile</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lines.EdFile.lf</code></td>
<td>[lines.File] 
indexed file</td>
</tr>
<tr>
<td><code>lines.EdFile.dats</code></td>
<td>[list] 
list of Slc</td>
<td>Gap</td>
</tr>
<tr>
<td><code>lines.EdFile.lens</code></td>
<td>[list] 
rolling sum of dat lengths</td>
</tr>
<tr>
<td><code>lines.EdFile.readonly</code></td>
<td>[bool] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lines.EdFile.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.EdFile.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.EdFile.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h4>Function <a id="EdFile.__extend" href="#EdFile.__extend">EdFile.__extend</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L156"><i>src</i></a>)</h4>
appends to lf for extend when possible.
<h4>Function <a id="EdFile.__inset" href="#EdFile.__inset">EdFile.__inset</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L271"><i>src</i></a>)</h4>
insert into EdFile's dats.
<h4>Function <a id="EdFile.__len" href="#EdFile.__len">EdFile.__len</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L48"><i>src</i></a>)</h4>
<h4>Function <a id="EdFile._datindex" href="#EdFile._datindex">EdFile._datindex</a><code>(ef, i) -&gt; di</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L57"><i>src</i></a>)</h4>
get the index into dats where <code>ef[i]</code> is located
<h4>Function <a id="EdFile._updateLens" href="#EdFile._updateLens">EdFile._updateLens</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L43"><i>src</i></a>)</h4>
<h4>Function <a id="EdFile.dumpf" href="#EdFile.dumpf">EdFile.dumpf</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L140"><i>src</i></a>)</h4>
Dump EdFile to file or path
<h4>Function <a id="EdFile.flush" href="#EdFile.flush">EdFile.flush</a><code>(ef) -&gt; ef.lf:flush()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L125"><i>src</i></a>)</h4>
Flush the .lf member (which can only be extended).
To write all data to disk use :dump()
<h4>Function <a id="EdFile.iter" href="#EdFile.iter">EdFile.iter</a><code>(ef) -&gt; EdIter(ef)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L121"><i>src</i></a>)</h4>
<h4>Function <a id="EdFile.write" href="#EdFile.write">EdFile.write</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/EdFile.lua#L80"><i>src</i></a>)</h4>
<h3>Record <a id="lines.File" href="#lines.File">lines.File</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lines.File.f</code></td>
<td>[file] 
open file</td>
</tr>
<tr>
<td><code>lines.File.path</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>lines.File.idx</code></td>
<td>[U3File] 
line index of f</td>
</tr>
<tr>
<td><code>lines.File.cache</code></td>
<td>[WeakV] 
cache of lines</td>
</tr>
<tr>
<td><code>lines.File._ln</code></td>
<td>[int] 
current line num (false=end)</td>
</tr>
<tr>
<td><code>lines.File._pos</code></td>
<td>[bool] 
current file pos</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lines.File.IDX_DIR</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>lines.File.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.File.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.File.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h4>Function <a id="File.__fmt" href="#File.__fmt">File.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/File.lua#L158"><i>src</i></a>)</h4>
<h4>Function <a id="File.__len" href="#File.__len">File.__len</a><code>(lf) -&gt; #lf.idx</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/File.lua#L113"><i>src</i></a>)</h4>
<h4>Function <a id="File._reindex" href="#File._reindex">File._reindex</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/File.lua#L47"><i>src</i></a>)</h4>
<h4>Function <a id="File.close" href="#File.close">File.close</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/File.lua#L86"><i>src</i></a>)</h4>
<h4>Function <a id="File.flush" href="#File.flush">File.flush</a><code>(lf) -&gt; lf.f:flush()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/File.lua#L87"><i>src</i></a>)</h4>
<h4>Function <a id="File.reader" href="#File.reader">File.reader</a><code>(lf) -&gt; lines.File (readonly)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/File.lua#L167"><i>src</i></a>)</h4>
<h4>Function <a id="File.write" href="#File.write">File.write</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/File.lua#L111"><i>src</i></a>)</h4>
append to file
<h3>Record <a id="lines.Gap" href="#lines.Gap">lines.Gap</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lines.Gap.bot</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.Gap.top</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.Gap.path</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lines.Gap.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.Gap.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.Gap.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h4>Function <a id="Gap.__extend" href="#Gap.__extend">Gap.__extend</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/Gap.lua#L83"><i>src</i></a>)</h4>
<h4>Function <a id="Gap.__fmt" href="#Gap.__fmt">Gap.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/Gap.lua#L58"><i>src</i></a>)</h4>
<h4>Function <a id="Gap.__inset" href="#Gap.__inset">Gap.__inset</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/Gap.lua#L77"><i>src</i></a>)</h4>
see lines.inset
This has much better performance than lines.inset when operations
are performed close together.
<h4>Function <a id="Gap.__len" href="#Gap.__len">Gap.__len</a><code>(g) -&gt; #g.bot + #g.top</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/Gap.lua#L40"><i>src</i></a>)</h4>
<h4>Function <a id="lines.U3File.__pairs" href="#lines.U3File.__pairs">lines.U3File.__pairs</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L55"><i>src</i></a>)</h4>
<h4>Function <a id="Gap.load" href="#Gap.load">Gap.load</a><code>(T, f, close) -&gt; Gap?, err?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/Gap.lua#L38"><i>src</i></a>)</h4>
Load gap from file, which can be a path.
returns nil, err on error
<h4>Function <a id="Gap.setGap" href="#Gap.setGap">Gap.setGap</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/Gap.lua#L105"><i>src</i></a>)</h4>
set the gap to the line
<h4>Function <a id="Gap.write" href="#Gap.write">Gap.write</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/Gap.lua#L115"><i>src</i></a>)</h4>
<h3>Record <a id="lines.U3File" href="#lines.U3File">lines.U3File</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lines.U3File.f</code></td>
<td>[file] </td>
</tr>
<tr>
<td><code>lines.U3File.path</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>lines.U3File.len</code></td>
<td>[int] </td>
</tr>
<tr>
<td><code>lines.U3File._i</code></td>
<td>[int] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lines.U3File.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.U3File.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.U3File.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lines.U3File.__pairs</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L55">src</a>)</td>
</tr>
</table>
<h4>Function <a id="lines.U3File.__fmt" href="#lines.U3File.__fmt">lines.U3File.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L87"><i>src</i></a>)</h4>
<h4>Function <a id="lines.U3File.__len" href="#lines.U3File.__len">lines.U3File.__len</a><code>(u3) -&gt; u3.len</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L54"><i>src</i></a>)</h4>
<h4>Function <a id="lines.U3File.close" href="#lines.U3File.close">lines.U3File.close</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L59"><i>src</i></a>)</h4>
<h4>Function <a id="lines.U3File.create" href="#lines.U3File.create">lines.U3File.create</a><code>(T, path) -&gt; U3File?, err</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L35"><i>src</i></a>)</h4>
This creates a new index file at path (path=nil uses tmpfile()).
Note: Use load if you want to load an existing index.
<h4>Function <a id="lines.U3File.flush" href="#lines.U3File.flush">lines.U3File.flush</a><code>(u3) -&gt; u3.f:flush()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L53"><i>src</i></a>)</h4>
<h4>Function <a id="lines.U3File.load" href="#lines.U3File.load">lines.U3File.load</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L51"><i>src</i></a>)</h4>
load an index file
<h4>Function <a id="lines.U3File.reload" href="#lines.U3File.reload">lines.U3File.reload</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/U3File.lua#L46"><i>src</i></a>)</h4>
reload from path
<h3>Record <a id="lines.Writer" href="#lines.Writer">lines.Writer</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>lines.Writer.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.Writer.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lines.Writer.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>lines.Writer.__index</code></td>
<td>[Ty<lines.Writer>] </td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lines.Writer.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
<tr>
<td><code>lines.Writer.flush</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L85">src</a>)</td>
</tr>
</table>
<h4>Function <a id="lines.Writer.write" href="#lines.Writer.write">lines.Writer.write</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/Writer.lua#L13"><i>src</i></a>)</h4>
<h2>Module <a id="lines.testing" href="#lines.testing">lines.testing</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/testing.lua#L2"><i>src</i></a>)</h2>
testing helpers for ds related data structures
<p>
<b>Values: </b> <table>
<tr>
<td><code>lines.testing.DATA</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/testing.lua#L10">src</a>)</td>
</tr>
<tr>
<td><code>lines.testing.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="lines.testing.testLinesRemove" href="#lines.testing.testLinesRemove">lines.testing.testLinesRemove</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/testing.lua#L117"><i>src</i></a>)</h3>
Test lines.remove on object. new must accept either a string or table of
lines to create a new object (does NOT need to be copied)
called for various data structures which implement lines
<h3>Function <a id="lines.testing.testOffset" href="#lines.testing.testOffset">lines.testing.testOffset</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lines/lines/testing.lua#L54"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_lap" href="#Package_lap">Package lap</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>Lua Asynchronous Protocol and helper library</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-3</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/lap/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="lap" href="#lap">lap</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L4"><i>src</i></a>)</h2>
superpower your libraries run either sync or async
<p>
<b>Values: </b> <table>
<tr>
<td><code>lap.LAP_UPDATE</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L274">src</a>)</td>
</tr>
<tr>
<td><code>lap.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>lap._async</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L19">src</a>)</td>
</tr>
<tr>
<td><code>lap._sync</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L19">src</a>)</td>
</tr>
</table>
<h3>Record <a id="lap.Any" href="#lap.Any">lap.Any</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L220"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lap.Any.cor</code></td>
<td>[thread] </td>
</tr>
<tr>
<td><code>lap.Any.fns</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Any.done</code></td>
<td>[table] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lap.Any.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Any.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Any.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>lap.Any.__index</code></td>
<td>[Ty<Any>] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L220">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lap.Any.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Any.ignore" href="#Any.ignore">Any.ignore</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L235"><i>src</i></a>)</h4>
<h4>Function <a id="Any.restart" href="#Any.restart">Any.restart</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L250"><i>src</i></a>)</h4>
<h4>Function <a id="Any.schedule" href="#Any.schedule">Any.schedule</a><code>(self) -&gt; self</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L239"><i>src</i></a>)</h4>
ensure all fns are scheduled
<h4>Function <a id="Any.yield" href="#Any.yield">Any.yield</a><code>(self) -&gt; fnIndex</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L245"><i>src</i></a>)</h4>
<h3>Record <a id="lap.Lap" href="#lap.Lap">lap.Lap</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L308"><i>src</i></a>)</h3>
A single lap of the executor loop
<p>
Example <code class="block">  -- schedule your main fn, which may schedule other fns
  lap.schedule(myMainFn)

  -- create a Lap instance with the necessary configs
  local Lap = lap.Lap{
    sleepFn=civix.sleep, monoFn=civix.monoSecs, pollList=fd.PollList()
  }

  -- run repeatedly while there are coroutines to run
  while next(LAP_READY) do
    errors = Lap(); if errors then
      -- handle errors
    end
    -- do other things in your application's executor loop
  end</code>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lap.Lap.sleepFn</code></td>
<td>[function] </td>
</tr>
<tr>
<td><code>lap.Lap.monoFn</code></td>
<td>[function] </td>
</tr>
<tr>
<td><code>lap.Lap.monoHeap</code></td>
<td>[Heap] </td>
</tr>
<tr>
<td><code>lap.Lap.defaultSleep</code></td>
<td>[float] = <code>0x1.47ae147ae147bp-7</code></td>
</tr>
<tr>
<td><code>lap.Lap.pollMap</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Lap.pollList</code></td>
<td>[PollList] 
Poll list data structure. Required methods:
* __len                   to get length with `#`
* insert(fileno, events)  insert the fileno+events into the poll list
* remove(fileno)          remove the fileno from poll list
* ready(self, durationSec) -> {filenos}
poll for durationSec (float), return any ready filenos.
</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lap.Lap.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Lap.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Lap.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>lap.Lap.__index</code></td>
<td>[Ty<Lap>] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L308">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lap.Lap.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Lap.__call" href="#Lap.__call">Lap.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L371"><i>src</i></a>)</h4>
<h4>Function <a id="Lap.execute" href="#Lap.execute">Lap.execute</a><code>(lap, cor, note) -&gt; errstr?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L328"><i>src</i></a>)</h4>
<h4>Function <a id="Lap.isDone" href="#Lap.isDone">Lap.isDone</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L374"><i>src</i></a>)</h4>
<h4>Function <a id="Lap.poll" href="#Lap.poll">Lap.poll</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L316"><i>src</i></a>)</h4>
<h4>Function <a id="Lap.run" href="#Lap.run">Lap.run</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L394"><i>src</i></a>)</h4>
<h4>Function <a id="Lap.sleep" href="#Lap.sleep">Lap.sleep</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L315"><i>src</i></a>)</h4>
<h3>Record <a id="lap.Recv" href="#lap.Recv">lap.Recv</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L96"><i>src</i></a>)</h3>
<code>Recv() -&gt; recv</code> the receive side of channel.
<p>
Is considered closed when all senders are closed.
<p>
Notes: <ul>
<li>Use <code>recv:sender()</code> to create a sender. You can create
multiple senders.</li>
<li>Use <code>recv:recv()</code> or simply <code>recv()</code> to receive a value
(or block)</li>
<li>User <code>sender:send(v)</code> or simply <code>sender(v)</code> to send a value.</li>
<li><code>recv:close()</code> when done. Also closes all senders.</li>
<li><code>#recv</code> gets number of items buffered.</li>
<li><code>recv:isDone()</code> returns true when either recv is closed
OR all senders are closed and <code>#recv == 0</code></li>
</ul>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lap.Recv.deq</code></td>
<td>[Deq] </td>
</tr>
<tr>
<td><code>lap.Recv._sends</code></td>
<td>[WeakKV] </td>
</tr>
<tr>
<td><code>lap.Recv.cor</code></td>
<td>[thread] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lap.Recv.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Recv.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Recv.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>lap.Recv.__index</code></td>
<td>[Ty<Recv>] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L96">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lap.Recv.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
<tr>
<td><code>lap.Recv.close</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L106">src</a>)</td>
</tr>
<tr>
<td><code>lap.Recv.recv</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L127">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Recv.recv" href="#Recv.recv">Recv.recv</a><code>(r) -&gt; r.deq()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L127"><i>src</i></a>)</h4>
<h4>Function <a id="Recv.close" href="#Recv.close">Recv.close</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L106"><i>src</i></a>)</h4>
Close read side and all associated sends.
<h4>Function <a id="Recv.__fmt" href="#Recv.__fmt">Recv.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L135"><i>src</i></a>)</h4>
<h4>Function <a id="Recv.__len" href="#Recv.__len">Recv.__len</a><code>(r) -&gt; #r.deq</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L108"><i>src</i></a>)</h4>
<h4>Function <a id="Recv.drain" href="#Recv.drain">Recv.drain</a><code>(r) -&gt; r.deq:drain()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L130"><i>src</i></a>)</h4>
drain the recv. This does NOT wait for new items.
<h4>Function <a id="Recv.hasSender" href="#Recv.hasSender">Recv.hasSender</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L121"><i>src</i></a>)</h4>
<h4>Function <a id="Recv.isClosed" href="#Recv.isClosed">Recv.isClosed</a><code>(r) -&gt; r._s</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L109"><i>src</i></a>)</h4>
<h4>Function <a id="Recv.isDone" href="#Recv.isDone">Recv.isDone</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L113"><i>src</i></a>)</h4>
<h4>Function <a id="Recv.sender" href="#Recv.sender">Recv.sender</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L118"><i>src</i></a>)</h4>
<h4>Function <a id="Recv.wait" href="#Recv.wait">Recv.wait</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L126"><i>src</i></a>)</h4>
<h3>Record <a id="lap.Send" href="#lap.Send">lap.Send</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L143"><i>src</i></a>)</h3>
Sender, created through <code>recv:sender()</code>
Is considered closed if the receiver is closed.  The receiver will
automatically close if it is garbage collected.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lap.Send._recv</code></td>
<td>[Recv] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lap.Send.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Send.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lap.Send.__mode</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>lap.Send.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>lap.Send.__index</code></td>
<td>[Ty<Send>] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L143">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lap.Send.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
<tr>
<td><code>lap.Send.close</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L156">src</a>)</td>
</tr>
<tr>
<td><code>lap.Send.push</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L162">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Send.push" href="#Send.push">Send.push</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L162"><i>src</i></a>)</h4>
<h4>Function <a id="Send.close" href="#Send.close">Send.close</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L156"><i>src</i></a>)</h4>
<h4>Function <a id="Send.__fmt" href="#Send.__fmt">Send.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L183"><i>src</i></a>)</h4>
<h4>Function <a id="Send.__len" href="#Send.__len">Send.__len</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L180"><i>src</i></a>)</h4>
<h4>Function <a id="Send.extend" href="#Send.extend">Send.extend</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L166"><i>src</i></a>)</h4>
<h4>Function <a id="Send.extendLeft" href="#Send.extendLeft">Send.extendLeft</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L176"><i>src</i></a>)</h4>
<h4>Function <a id="Send.isClosed" href="#Send.isClosed">Send.isClosed</a><code>(s) -&gt; s._recv == nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L158"><i>src</i></a>)</h4>
<h4>Function <a id="Send.pushLeft" href="#Send.pushLeft">Send.pushLeft</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L171"><i>src</i></a>)</h4>
<h3>Function <a id="lap.all" href="#lap.all">lap.all</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L405"><i>src</i></a>)</h3>
<h3>Function <a id="lap.async" href="#lap.async">lap.async</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L50"><i>src</i></a>)</h3>
Switch lua to asynchronous (yielding) mode
<h3>Function <a id="lap.formatCorErrors" href="#lap.formatCorErrors">lap.formatCorErrors</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L36"><i>src</i></a>)</h3>
<h3>Function <a id="lap.lt1" href="#lap.lt1">lap.lt1</a><code>(a, b) -&gt; a[1] &lt; b[1]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L254"><i>src</i></a>)</h3>
<h3>Function <a id="lap.schedule" href="#lap.schedule">lap.schedule</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L405"><i>src</i></a>)</h3>
<h3>Function <a id="lap.sync" href="#lap.sync">lap.sync</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L43"><i>src</i></a>)</h3>
Switch lua to synchronous mode
<h3>Function <a id="lap.yield" href="#lap.yield">lap.yield</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lap/lap.lua#L405"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_fd" href="#Package_fd">Package fd</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>filedescriptor interfaces</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-7</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/fd/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="fd" href="#fd">fd</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L6"><i>src</i></a>)</h2>
filedescriptor: direct control of filedescriptors.
async operations support the LAP (see lib/lap) protocol.
<p>
Can override default `io` module for global async mode.
<p>
<b>Values: </b> <table>
<tr>
<td><code>fd.FD</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L52">src</a>)</td>
</tr>
<tr>
<td><code>fd.FDT</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L52">src</a>)</td>
</tr>
<tr>
<td><code>fd.FMODE</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L28">src</a>)</td>
</tr>
<tr>
<td><code>fd.PIPE_BUF</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>fd.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>fd.io</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L50">src</a>)</td>
</tr>
<tr>
<td><code>fd.sys</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L47">src</a>)</td>
</tr>
</table>
<h3>Table <a id="fd.PollList" href="#fd.PollList">fd.PollList</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L238"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>fd.PollList.__index</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>fd.PollList.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h4>Value <a id="fd.stdin" href="#fd.stdin">fd.stdin</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L287"><i>src</i></a>)</h4>
<h4>Value <a id="fd.stdout" href="#fd.stdout">fd.stdout</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L288"><i>src</i></a>)</h4>
<h3>Function <a id="fd.close" href="#fd.close">fd.close</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L255"><i>src</i></a>)</h3>
<h3>Function <a id="fd.fileno" href="#fd.fileno">fd.fileno</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L308"><i>src</i></a>)</h3>
<h3>Function <a id="fd.finishRunning" href="#fd.finishRunning">fd.finishRunning</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L65"><i>src</i></a>)</h3>
<h3>Function <a id="fd.flush" href="#fd.flush">fd.flush</a><code>() -&gt; M.output():flush()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L292"><i>src</i></a>)</h3>
<h3>Function <a id="fd.ftype" href="#fd.ftype">fd.ftype</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L313"><i>src</i></a>)</h3>
<h3>Function <a id="fd.input" href="#fd.input">fd.input</a><code>() -&gt; M.stdin</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L290"><i>src</i></a>)</h3>
<h3>Function <a id="fd.ioAsync" href="#fd.ioAsync">fd.ioAsync</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L348"><i>src</i></a>)</h3>
<h3>Function <a id="fd.ioSync" href="#fd.ioSync">fd.ioSync</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L345"><i>src</i></a>)</h3>
<h3>Function <a id="fd.isatty" href="#fd.isatty">fd.isatty</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L317"><i>src</i></a>)</h3>
<h3>Function <a id="fd.lines" href="#fd.lines">fd.lines</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L280"><i>src</i></a>)</h3>
<h3>Function <a id="fd.newFD" href="#fd.newFD">fd.newFD</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L53"><i>src</i></a>)</h3>
<h3>Function <a id="fd.newFDT" href="#fd.newFDT">fd.newFDT</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L53"><i>src</i></a>)</h3>
<h3>Function <a id="fd.open" href="#fd.open">fd.open</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L254"><i>src</i></a>)</h3>
<h3>Function <a id="fd.openFD" href="#fd.openFD">fd.openFD</a><code>(...) -&gt; M.openWith(S.openFD, ...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L250"><i>src</i></a>)</h3>
<h3>Function <a id="fd.openFDT" href="#fd.openFDT">fd.openFDT</a><code>(...) -&gt; M.openWith(S.openFDT, ...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L251"><i>src</i></a>)</h3>
<h3>Function <a id="fd.openFileno" href="#fd.openFileno">fd.openFileno</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L286"><i>src</i></a>)</h3>
<h3>Function <a id="fd.openWith" href="#fd.openWith">fd.openWith</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L249"><i>src</i></a>)</h3>
<h3>Function <a id="fd.output" href="#fd.output">fd.output</a><code>() -&gt; M.stdout</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L291"><i>src</i></a>)</h3>
<h3>Function <a id="fd.read" href="#fd.read">fd.read</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L268"><i>src</i></a>)</h3>
<h3>Function <a id="fd.tmpfileFn" href="#fd.tmpfileFn">fd.tmpfileFn</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L260"><i>src</i></a>)</h3>
<h3>Function <a id="fd.type" href="#fd.type">fd.type</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L302"><i>src</i></a>)</h3>
<h3>Function <a id="fd.write" href="#fd.write">fd.write</a><code>(...) -&gt; M.output():write(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L281"><i>src</i></a>)</h3>
<p>
<h2>Module <a id="fd(async)" href="#fd(async)">fd(async)</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L49"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>fd._async.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="fd(async).tmpfile" href="#fd(async).tmpfile">fd(async).tmpfile</a><code>() -&gt; M.tmpfileFn(S.tmpFDT)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L262"><i>src</i></a>)</h3>
<h2>Module <a id="fd(sync)" href="#fd(sync)">fd(sync)</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L48"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>fd._sync.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="fd(sync).tmpfile" href="#fd(sync).tmpfile">fd(sync).tmpfile</a><code>() -&gt; M.tmpfileFn(S.tmpFD)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L261"><i>src</i></a>)</h3>
<code>fd.sys</code>        | [table] (<a href="https://github.com/civboot/civlua/blob/main/lib/fd/fd.lua#L47">src</a>)
<p>
<h1><a id="Package_civix" href="#Package_civix">Package civix</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>Unix sys library</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-8</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/civix/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="civix" href="#civix">civix</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L2"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>civix.BLK</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>civix.CHR</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>civix.DIR</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>civix.FIFO</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>civix.FILE</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>civix.LINK</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>civix.SOCK</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>civix.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="civix.SH_SET" href="#civix.SH_SET">civix.SH_SET</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L59"><i>src</i></a>)</h3>
"global" shell settings
<p>
<b>Values: </b> <table>
<tr>
<td><code>civix.SH_SET.debug</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>civix.SH_SET.host</code></td>
<td>[boolean] </td>
</tr>
</table>
<h3>Record <a id="civix.Sh" href="#civix.Sh">civix.Sh</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L300"><i>src</i></a>)</h3>
Start args on the shell
<blockquote>Suggestion: use civix.sh instead.</blockquote>
<p>
<code>Sh:start()</code> kicks off a subprocess which start the shell using the fds
you pass in or creating them if you set them to true. Created file
descriptors will be stored in the associated name.
<p>
<blockquote>Why? This means that <code>:close()</code> will only close filedescriptors created
by the shell itself, and you won't accidentially close
io.stdout/etc.</blockquote>
<p>
Examples (see civix.sh for more examples): <table>
<tr>
<th>Lua</th>
<th>Bash</th>
</tr>
<tr>
<td><code>Sh({'ls', 'foo/bar'}, {stdout=io.stdout}):start()</code></td>
<td><code>ls foo/bar</code></td>
</tr>
<tr>
<td><code>v = Sh{'ls foo/bar', stdout=true}:start():read()</code></td>
<td><code>v=$(ls foo/bar)</code></td>
</tr>
</table>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>civix.Sh.args</code></td>
<td>[table] 
arguments to pass to shell</td>
</tr>
<tr>
<td><code>civix.Sh.stdin</code></td>
<td>[file</td>
<td>bool] 
shell's stdin to send  (default=empty)</td>
</tr>
<tr>
<td><code>civix.Sh.stdout</code></td>
<td>[file</td>
<td>bool] 
shell's stdout              (default=empty)</td>
</tr>
<tr>
<td><code>civix.Sh.stderr</code></td>
<td>[file</td>
<td>bool] 
shell's stderr              (default=empty)</td>
</tr>
<tr>
<td><code>civix.Sh.env</code></td>
<td>[list] 
shell's environment {'FOO=bar', ...}</td>
</tr>
<tr>
<td><code>civix.Sh._sh</code></td>
<td>[userdata] 
internal C implemented shell</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>civix.Sh.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>civix.Sh.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>civix.Sh.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>civix.Sh.__index</code></td>
<td>[Ty<Sh>] (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L300">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>civix.Sh.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Sh.finish" href="#Sh.finish">Sh.finish</a><code>(sh, other) -&gt; out, err</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L362"><i>src</i></a>)</h4>
finish files (in sh or other) by writing other.input to stdin and reading
stdout/stderr.  All processes are done asynchronously
<h4>Function <a id="Sh.isDone" href="#Sh.isDone">Sh.isDone</a><code>(sh) -&gt; sh._sh:isDone()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L330"><i>src</i></a>)</h4>
<h4>Function <a id="Sh.read" href="#Sh.read">Sh.read</a><code>(sh, ...) -&gt; sh.stdout:read(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L364"><i>src</i></a>)</h4>
<h4>Function <a id="Sh.start" href="#Sh.start">Sh.start</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L328"><i>src</i></a>)</h4>
start the shell in the background.
Example: <code>sh{arg1, arg2, stdin=nostdin, stdout=true, stderr=io.stderr}</code>
<blockquote>Note: See Sh for how filedescriptors are set</blockquote>
<h4>Function <a id="Sh.wait" href="#Sh.wait">Sh.wait</a><code>(sh) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L338"><i>src</i></a>)</h4>
wait for shell to complete, returns return code
<h4>Function <a id="Sh.write" href="#Sh.write">Sh.write</a><code>(sh, ...) -&gt; sh.stdin:write(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L363"><i>src</i></a>)</h4>
<h3>Record <a id="civix.ShFin" href="#civix.ShFin">civix.ShFin</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L343"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>civix.ShFin.stdin</code></td>
<td>[file] </td>
</tr>
<tr>
<td><code>civix.ShFin.stdout</code></td>
<td>[file] </td>
</tr>
<tr>
<td><code>civix.ShFin.stderr</code></td>
<td>[file] </td>
</tr>
<tr>
<td><code>civix.ShFin.input</code></td>
<td>[string] 
write to then close stdin (either self's or shell's)</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>civix.ShFin.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>civix.ShFin.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>civix.ShFin.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>civix.ShFin.__index</code></td>
<td>[Ty<ShFin>] (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L343">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>civix.ShFin.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h3>Record <a id="civix.Walk" href="#civix.Walk">civix.Walk</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L151"><i>src</i></a>)</h3>
Walk the directory tree as a iterator of <code>path, ftype</code>. Can walk either a
single path <code>Walk'path/'</code> or a list of paths <code>Walk{'a/', 'b.txt'}</code>. <ul>
<li>Note: all <code>ftype=='dir'</code> paths end in <code>/</code>.</li>
<li>Warning: you may want to handle <code>ftype=='error'</code></li>
</ul>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>civix.Walk.maxDepth</code></td>
<td>[int] 
maximum depth to walk (default=infinite)</td>
</tr>
<tr>
<td><code>civix.Walk.pi</code></td>
<td>[int] = <code>0</code>
the current (root) path being walked</td>
</tr>
<tr>
<td><code>civix.Walk._dirs</code></td>
<td>[table] 
a stack of WalkDirs that are being walked</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>civix.Walk.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>civix.Walk.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>civix.Walk.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>civix.Walk.__index</code></td>
<td>[Ty<Walk>] (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L151">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>civix.Walk.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Walk.__call" href="#Walk.__call">Walk.__call</a><code>(w) -&gt; path, ftype</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L174"><i>src</i></a>)</h4>
<h4>Function <a id="Walk._deeper" href="#Walk._deeper">Walk._deeper</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L180"><i>src</i></a>)</h4>
walk one level deeper by pushing onto _dirs stack.
<h4>Function <a id="Walk.depth" href="#Walk.depth">Walk.depth</a><code>(w) -&gt; #w._dirs</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L158"><i>src</i></a>)</h4>
- get the depth of the current directory being walked
<h4>Function <a id="Walk.skip" href="#Walk.skip">Walk.skip</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L160"><i>src</i></a>)</h4>
skip the current directory level
<h3>Record <a id="civix._WalkDir" href="#civix._WalkDir">civix._WalkDir</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L187"><i>src</i></a>)</h3>
Walk a single directory
<p>
<b>Fields: </b> <table>
<tr>
<td><code>civix._WalkDir.ftypes</code></td>
<td>[table] 
path -> ftype map</td>
</tr>
<tr>
<td><code>civix._WalkDir._i</code></td>
<td>[int] 
current index</td>
</tr>
<tr>
<td><code>civix._WalkDir.base</code></td>
<td>[string] 
base directory</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>civix._WalkDir.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>civix._WalkDir.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>civix._WalkDir.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>civix._WalkDir.__index</code></td>
<td>[Ty<_WalkDir>] (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L187">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>civix._WalkDir.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="_WalkDir.__call" href="#_WalkDir.__call">_WalkDir.__call</a><code>(wd, walk) -&gt; path, ftype</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L206"><i>src</i></a>)</h4>
<h3>Function <a id="civix.Lap" href="#civix.Lap">civix.Lap</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L275"><i>src</i></a>)</h3>
<h3>Function <a id="civix._sh" href="#civix._sh">civix._sh</a><code>(cmd) -&gt; Sh</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L382"><i>src</i></a>)</h3>
<h3>Function <a id="civix.dir" href="#civix.dir">civix.dir</a><code>(t, add) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<h3>Function <a id="civix.epoch" href="#civix.epoch">civix.epoch</a><code>() -&gt; ds.Epoch(lib.epoch())</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L72"><i>src</i></a>)</h3>
Return the Epoch/Mono time
Time according to realtime clock
<h3>Function <a id="civix.exists" href="#civix.exists">civix.exists</a><code>(t, add) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<h3>Function <a id="civix.isDir" href="#civix.isDir">civix.isDir</a><code>(path) -&gt; M.pathtype(path) == 'dir'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L90"><i>src</i></a>)</h3>
<h3>Function <a id="civix.isFile" href="#civix.isFile">civix.isFile</a><code>(path) -&gt; M.pathtype(path) == 'file'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L89"><i>src</i></a>)</h3>
<h3>Function <a id="civix.ls" href="#civix.ls">civix.ls</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L218"><i>src</i></a>)</h3>
A very simple ls (list paths) implementation
Returns (files, dirs) tables. Anything that is not a directory
is treated as a file.
<h3>Function <a id="civix.mkDir" href="#civix.mkDir">civix.mkDir</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L237"><i>src</i></a>)</h3>
<h3>Function <a id="civix.mkDirs" href="#civix.mkDirs">civix.mkDirs</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L233"><i>src</i></a>)</h3>
<h3>Function <a id="civix.mkTree" href="#civix.mkTree">civix.mkTree</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L271"><i>src</i></a>)</h3>
mkTree(tree) builds a tree of files and dirs at `dir` <ul>
<li>Dirs  are tables.</li>
<li>Files are string or fd -- which are read+closed.</li>
</ul>
Example: <code class="block">tree = {
  a = {
    ['a1.txt'] = 'stuff in a1.txt',
    ['a2.txt'] = 'stuff in a.txt',
    a3 = {
      ['a4.txt'] = io.open'some/file.txt',
    }
  }
}</code>
<p>
Builds a tree like <code class="block">a/a1.txt    # content: stuff in a1.txt
a/a2.txt    # content: stuff in a2.txt
a/a3/a4.txt # content: stuff in a3.txt</code>
<h3>Function <a id="civix.mono" href="#civix.mono">civix.mono</a><code>() -&gt; ds.Duration(lib.mono())</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L74"><i>src</i></a>)</h3>
Duration according to monotomically incrementing clock.
<h3>Function <a id="civix.monoSec" href="#civix.monoSec">civix.monoSec</a><code>() -&gt; M.mono():asSeconds()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L75"><i>src</i></a>)</h3>
<h3>Function <a id="civix.mv" href="#civix.mv">civix.mv</a><code>(t, add) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<h3>Function <a id="civix.pathtype" href="#civix.pathtype">civix.pathtype</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L88"><i>src</i></a>)</h3>
<h3>Function <a id="civix.quote" href="#civix.quote">civix.quote</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L56"><i>src</i></a>)</h3>
quote the str if it's possible
<h3>Function <a id="civix.rm" href="#civix.rm">civix.rm</a><code>(t, add) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<h3>Function <a id="civix.rmRecursive" href="#civix.rmRecursive">civix.rmRecursive</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L223"><i>src</i></a>)</h3>
<h3>Function <a id="civix.rmdir" href="#civix.rmdir">civix.rmdir</a><code>(t, add) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<h3>Function <a id="civix.setmodified" href="#civix.setmodified">civix.setmodified</a><code>(fileno, sec, nsec) -&gt; error?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L47"><i>src</i></a>)</h3>
set the modified time of the fileno
<h3>Function <a id="civix.sh" href="#civix.sh">civix.sh</a><code>(cmd) -&gt; out, err, sh</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L409"><i>src</i></a>)</h3>
Execute the command in another process via execvp (system shell). Throws an
error if the command fails.
<p>
if cmd is a table, the following keys are treated as special. If you need any
of these then you must use M.Sh directly (recommendation: use Plumb) <ul>
<li><code>stdin[string|file]</code> the process's stdin. If string it will be sent to stdin.</li>
<li><code>stdout[file]</code> the process's stdout. out will be nil if this is set</li>
<li><code>stderr[file]</code> the process's stderr (default=io.stderr)</li>
</ul>
<p>
Note: use <code>Plumb{...}:run()</code> if you want to pipe multiple shells together.
<table>
<tr>
<th>Command                               Bash</th>
</tr>
<tr>
<td><code>sh'ls foo/bar'</code></td>
<td><code>ls foo/bar</code></td>
</tr>
<tr>
<td><code>sh{'ls', 'foo/bar', 'dir w spc/'}</code></td>
<td><code>ls foo/bar "dir w spc/"</code></td>
</tr>
<tr>
<td><code>sh{stdin='sent to stdin', 'cat'}</code></td>
<td><code>echo "sent to stdin" | cat</code></td>
</tr>
</table>
<h3>Function <a id="civix.sleep" href="#civix.sleep">civix.sleep</a><code>(d) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L68"><i>src</i></a>)</h3>
Sleep for the specified duration
<h3>Function <a id="civix.stat" href="#civix.stat">civix.stat</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L44"><i>src</i></a>)</h3>
get the stat of the path, which has methods <ul>
<li><code>:mode() -&gt; mode</code> see FMODE</li>
<li><code>:modified() -&gt; sec, nsec</code> time modified</li>
</ul>
<h3>Function <a id="civix.walk" href="#civix.walk">civix.walk</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/civix/civix.lua#L140"><i>src</i></a>)</h3>
TODO: remove this
walk the paths up to depth, calling <code>ftypeFns[ftype]</code> for
each item encountered.
<p>
If depth is nil/false then the depth is infinite.
<p>
ftypeFns must be a table of ftypes (file, dir) and: <ul>
<li>default: called as fallback (if missing ftype key)</li>
<li>error: called if determining the type caused an error,
typically due to the file not existing.
the call is: error(path, errstr)</li>
<li>dirDone: called AFTER the directory has been walked</li>
</ul>
<p>
The Fn signatures are: (path, ftype) -> stopWalk
If either return true then the walk is ended immediately
If dirFn returns 'skip' then the directory is skipped
<code>civix.lib</code>     | [table] 
<p>
<h1><a id="Package_lson" href="#Package_lson">Package lson</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>JSON+ de/serializer in pure lua</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/lson/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="lson" href="#lson">lson</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L2"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>lson.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="lson.De" href="#lson.De">lson.De</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L216"><i>src</i></a>)</h3>
<code>De(string or lines) -&gt; value-iter</code>
<code>for val in De'["my", "lson"]' do ... end</code>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lson.De.dat</code></td>
<td>[lines] 
lines-like data to parse</td>
</tr>
<tr>
<td><code>lson.De.null</code></td>
<td>[any] = <code>none</code>
value to use for null</td>
</tr>
<tr>
<td><code>lson.De.l</code></td>
<td>[int] </td>
</tr>
<tr>
<td><code>lson.De.c</code></td>
<td>[int] </td>
</tr>
<tr>
<td><code>lson.De.line</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lson.De.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lson.De.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lson.De.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>lson.De.__index</code></td>
<td>[Ty<De>] (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L216">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lson.De.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="De.__call" href="#De.__call">De.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L259"><i>src</i></a>)</h4>
<h4>Function <a id="De.assert" href="#De.assert">De.assert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L224"><i>src</i></a>)</h4>
<h4>Function <a id="De.consume" href="#De.consume">De.consume</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L251"><i>src</i></a>)</h4>
<h4>Function <a id="De.skipWs" href="#De.skipWs">De.skipWs</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L240"><i>src</i></a>)</h4>
<h3>Record <a id="lson.Json" href="#lson.Json">lson.Json</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L46"><i>src</i></a>)</h3>
Json Encoder (via fmt.Fmt)
This works identically to metaty.Fmt except it overrides
how tables are formatted to use JSON instead of printing them.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lson.Json.style</code></td>
<td>[bool] 
enable styling. If true, set <code>to=Styler</code></td>
</tr>
<tr>
<td><code>lson.Json.to</code></td>
<td>[file?] 
if set calls write</td>
</tr>
<tr>
<td><code>lson.Json.keyEnd</code></td>
<td>[string] = <code>","</code></td>
</tr>
<tr>
<td><code>lson.Json.keySet</code></td>
<td>[string] = <code>":"</code></td>
</tr>
<tr>
<td><code>lson.Json.indexEnd</code></td>
<td>[string] = <code>","</code></td>
</tr>
<tr>
<td><code>lson.Json.tableStart</code></td>
<td>[string] = <code>"{"</code></td>
</tr>
<tr>
<td><code>lson.Json.tableEnd</code></td>
<td>[string] = <code>"}"</code></td>
</tr>
<tr>
<td><code>lson.Json.listEnd</code></td>
<td>= <code>]"</code>
separator between list/map</td>
</tr>
<tr>
<td><code>lson.Json.indent</code></td>
<td>[string] = <code>"  "</code></td>
</tr>
<tr>
<td><code>lson.Json.maxIndent</code></td>
<td>[int] = <code>20</code></td>
</tr>
<tr>
<td><code>lson.Json.numfmt</code></td>
<td>[string] = <code>"%q"</code></td>
</tr>
<tr>
<td><code>lson.Json.strfmt</code></td>
<td>[string] = <code>"%q"</code></td>
</tr>
<tr>
<td><code>lson.Json._level</code></td>
<td>[int] = <code>0</code></td>
</tr>
<tr>
<td><code>lson.Json._nl</code></td>
<td>[string] = <code>"\
  "</code>
(default='\n') newline, indent is added/removed</td>
</tr>
<tr>
<td><code>lson.Json.table</code></td>
<td>[function] = <code>fn"function"[/home/rett/projects/civlua/lib/lson/lson.lua:63]</code></td>
</tr>
<tr>
<td><code>lson.Json.string</code></td>
<td>[function] = <code>fn"function"[/home/rett/projects/civlua/lib/lson/lson.lua:60]</code></td>
</tr>
<tr>
<td><code>lson.Json.null</code></td>
<td>[any] = <code>none</code></td>
</tr>
<tr>
<td><code>lson.Json.listStart</code></td>
<td>[string] = <code>["</code></td>
</tr>
<tr>
<td><code>lson.Json.listEnd</code></td>
<td>= <code>]"</code>
separator between list/map</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lson.Json.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lson.Json.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lson.Json.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>lson.Json.__index</code></td>
<td>[Ty<Json>] (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L46">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lson.Json._write</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L94">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.boolean</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L134">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.concat</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L210">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.flush</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L91">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.format</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L202">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.function</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L139">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.items</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L148">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.keyvals</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L160">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.level</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L89">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.lined</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L215">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.nil</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L133">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.number</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L135">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.styled</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L115">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.tabulated</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L212">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.thread</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L137">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.userdata</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L138">src</a>)</td>
</tr>
<tr>
<td><code>lson.Json.write</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L102">src</a>)</td>
</tr>
</table>
<h3>Record <a id="lson.Lson" href="#lson.Lson">lson.Lson</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L107"><i>src</i></a>)</h3>
Similar to JSON but no commas and strings are encoded as <code>|bytes|</code>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>lson.Lson.style</code></td>
<td>[bool] 
enable styling. If true, set <code>to=Styler</code></td>
</tr>
<tr>
<td><code>lson.Lson.to</code></td>
<td>[file?] 
if set calls write</td>
</tr>
<tr>
<td><code>lson.Lson.keyEnd</code></td>
<td>[string] = <code>" "</code></td>
</tr>
<tr>
<td><code>lson.Lson.keySet</code></td>
<td>[string] = <code>":"</code></td>
</tr>
<tr>
<td><code>lson.Lson.indexEnd</code></td>
<td>[string] = <code>" "</code></td>
</tr>
<tr>
<td><code>lson.Lson.tableStart</code></td>
<td>[string] = <code>"{"</code></td>
</tr>
<tr>
<td><code>lson.Lson.tableEnd</code></td>
<td>[string] = <code>"}"</code></td>
</tr>
<tr>
<td><code>lson.Lson.listEnd</code></td>
<td>= <code>]"</code>
separator between list/map</td>
</tr>
<tr>
<td><code>lson.Lson.indent</code></td>
<td>[string] = <code>"  "</code></td>
</tr>
<tr>
<td><code>lson.Lson.maxIndent</code></td>
<td>[int] = <code>20</code></td>
</tr>
<tr>
<td><code>lson.Lson.numfmt</code></td>
<td>[string] = <code>"%q"</code></td>
</tr>
<tr>
<td><code>lson.Lson.strfmt</code></td>
<td>[string] = <code>"%q"</code></td>
</tr>
<tr>
<td><code>lson.Lson._level</code></td>
<td>[int] = <code>0</code></td>
</tr>
<tr>
<td><code>lson.Lson._nl</code></td>
<td>[string] = <code>"\
  "</code>
(default='\n') newline, indent is added/removed</td>
</tr>
<tr>
<td><code>lson.Lson.table</code></td>
<td>[function] = <code>fn"function"[/home/rett/projects/civlua/lib/lson/lson.lua:63]</code></td>
</tr>
<tr>
<td><code>lson.Lson.string</code></td>
<td>[function] = <code>fn"lson.bytes"[/home/rett/projects/civlua/lib/lson/lson.lua:102]</code></td>
</tr>
<tr>
<td><code>lson.Lson.null</code></td>
<td>[any] = <code>none</code></td>
</tr>
<tr>
<td><code>lson.Lson.listStart</code></td>
<td>[string] = <code>["</code></td>
</tr>
<tr>
<td><code>lson.Lson.listEnd</code></td>
<td>= <code>]"</code>
separator between list/map</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>lson.Lson.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lson.Lson.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>lson.Lson.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>lson.Lson.__index</code></td>
<td>[Ty<Lson>] (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L107">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>lson.Lson._write</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L94">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.boolean</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L134">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.concat</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L210">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.flush</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L91">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.format</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L202">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.function</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L139">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.items</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L148">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.keyvals</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L160">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.level</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L89">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.lined</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L215">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.nil</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L133">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.number</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L135">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.styled</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L115">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.tabulated</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L212">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.thread</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L137">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.userdata</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L138">src</a>)</td>
</tr>
<tr>
<td><code>lson.Lson.write</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/fmt/fmt.lua#L102">src</a>)</td>
</tr>
</table>
<h3>Function <a id="lson.bytes" href="#lson.bytes">lson.bytes</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L102"><i>src</i></a>)</h3>
<h3>Function <a id="lson.deArray" href="#lson.deArray">lson.deArray</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L181"><i>src</i></a>)</h3>
<h3>Function <a id="lson.deBytes" href="#lson.deBytes">lson.deBytes</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L169"><i>src</i></a>)</h3>
<h3>Function <a id="lson.deFalse" href="#lson.deFalse">lson.deFalse</a><code>(de) -&gt; false</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L124"><i>src</i></a>)</h3>
<h3>Function <a id="lson.deNull" href="#lson.deNull">lson.deNull</a><code>(de) -&gt; de.null</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L122"><i>src</i></a>)</h3>
<h3>Function <a id="lson.deNumber" href="#lson.deNumber">lson.deNumber</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L130"><i>src</i></a>)</h3>
<h3>Function <a id="lson.deObject" href="#lson.deObject">lson.deObject</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L197"><i>src</i></a>)</h3>
<h3>Function <a id="lson.deString" href="#lson.deString">lson.deString</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L142"><i>src</i></a>)</h3>
<h3>Function <a id="lson.deTrue" href="#lson.deTrue">lson.deTrue</a><code>(de) -&gt; true</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L123"><i>src</i></a>)</h3>
<h3>Function <a id="lson.decode" href="#lson.decode">lson.decode</a><code>(s) -&gt; obj</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L32"><i>src</i></a>)</h3>
<h3>Function <a id="lson.json" href="#lson.json">lson.json</a><code>(v, pretty) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L23"><i>src</i></a>)</h3>
Encode lua value to JSON string
<h3>Function <a id="lson.lson" href="#lson.lson">lson.lson</a><code>(v, pretty) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L29"><i>src</i></a>)</h3>
Encode lua value to LSON string
<p>
<h1><a id="Package_pegl" href="#Package_pegl">Package pegl</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl"><i>src</i></a>)</h1><table>
<tr>
<td><b>version</b></td>
<td><code>0.1-2</code></td>
</tr>
</table>
<p>
<h2>Module <a id="pegl" href="#pegl">pegl</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L4"><i>src</i></a>)</h2>
pegl: peg-like lua parser
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.SPAN_PACK</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.common</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L575">src</a>)</td>
</tr>
<tr>
<td><code>pegl.fmtKinds</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L605">src</a>)</td>
</tr>
<tr>
<td><code>pegl.testing</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L580">src</a>)</td>
</tr>
</table>
<h3>Table <a id="pegl.EMPTY" href="#pegl.EMPTY">pegl.EMPTY</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L164"><i>src</i></a>)</h3>
<h3>Table <a id="pegl.EOF" href="#pegl.EOF">pegl.EOF</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L168"><i>src</i></a>)</h3>
<h3>Table <a id="pegl.Empty" href="#pegl.Empty">pegl.Empty</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L165"><i>src</i></a>)</h3>
<h3>Table <a id="pegl.Eof" href="#pegl.Eof">pegl.Eof</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L174"><i>src</i></a>)</h3>
<h3>Table <a id="pegl.PIN" href="#pegl.PIN">pegl.PIN</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L159"><i>src</i></a>)</h3>
<h3>Table <a id="pegl.UNPIN" href="#pegl.UNPIN">pegl.UNPIN</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L160"><i>src</i></a>)</h3>
<h3>Record <a id="pegl.FmtPegl" href="#pegl.FmtPegl">pegl.FmtPegl</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L609"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.FmtPegl.kinds</code></td>
<td>[table] = <code>{EMPTY=fn"function"[/home/rett/projects/civlua/lib/pegl/pegl.lua:601], EOF=fn"function"[/home/rett/projects/civlua/lib/pegl/pegl.lua:600], n10=fn"function"[/home/rett/projects/civlua/lib/pegl/pegl.lua:603], n16=fn"function"[/home/rett/projects/civlua/lib/pegl/pegl.lua:604], name=fn"function"[/home/rett/projects/civlua/lib/pegl/pegl.lua:602]}</code>
kind -> fmtFn</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.FmtPegl.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.FmtPegl.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.FmtPegl.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.FmtPegl.__index</code></td>
<td>[Ty<FmtPegl>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L609">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.FmtPegl.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="FmtPegl.__call" href="#FmtPegl.__call">FmtPegl.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L614"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.Key" href="#pegl.Key">pegl.Key</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L139"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.Key.keys</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Key.name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.Key.kind</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.Key.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Key.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Key.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.Key.__index</code></td>
<td>[Ty<Key>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L139">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.Key.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="pegl.fmtSpec" href="#pegl.fmtSpec">pegl.fmtSpec</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L97"><i>src</i></a>)</h4>
<h4>Function <a id="Key.parse" href="#Key.parse">Key.parse</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L259"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.Many" href="#pegl.Many">pegl.Many</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L152"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.Many.min</code></td>
<td>[int] = <code>0</code></td>
</tr>
<tr>
<td><code>pegl.Many.kind</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.Many.name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.Many.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Many.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Many.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.Many.__index</code></td>
<td>[Ty<Many>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L152">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.Many.__fmt</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L97">src</a>)</td>
</tr>
<tr>
<td><code>pegl.Many.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Many.parse" href="#Many.parse">Many.parse</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L349"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.Not" href="#pegl.Not">pegl.Not</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L154"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.Not.kind</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.Not.name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.Not.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Not.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Not.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.Not.__index</code></td>
<td>[Ty<Not>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L154">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.Not.__fmt</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L97">src</a>)</td>
</tr>
<tr>
<td><code>pegl.Not.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Not.parse" href="#Not.parse">Not.parse</a><code>(self, p) -&gt; not M.parseSeq(p, self)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L155"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.Or" href="#pegl.Or">pegl.Or</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L146"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.Or.kind</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.Or.name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.Or.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Or.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Or.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.Or.__index</code></td>
<td>[Ty<Or>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L146">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.Or.__fmt</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L97">src</a>)</td>
</tr>
<tr>
<td><code>pegl.Or.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Or.parse" href="#Or.parse">Or.parse</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L328"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.Parser" href="#pegl.Parser">pegl.Parser</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L81"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.Parser.dat</code></td>
<td>  </td>
</tr>
<tr>
<td><code>pegl.Parser.l</code></td>
<td>  </td>
</tr>
<tr>
<td><code>pegl.Parser.c</code></td>
<td>  </td>
</tr>
<tr>
<td><code>pegl.Parser.line</code></td>
<td>  </td>
</tr>
<tr>
<td><code>pegl.Parser.lines</code></td>
<td>  </td>
</tr>
<tr>
<td><code>pegl.Parser.root</code></td>
<td>[RootSpec] </td>
</tr>
<tr>
<td><code>pegl.Parser.stack</code></td>
<td>[list] </td>
</tr>
<tr>
<td><code>pegl.Parser.stackL</code></td>
<td>[list] </td>
</tr>
<tr>
<td><code>pegl.Parser.stackC</code></td>
<td>[list] </td>
</tr>
<tr>
<td><code>pegl.Parser.stackLast</code></td>
<td>[{item, l, c}] </td>
</tr>
<tr>
<td><code>pegl.Parser.commentLC</code></td>
<td>[table] 
table of {line={col=CommentToken}}</td>
</tr>
<tr>
<td><code>pegl.Parser.dbgLevel</code></td>
<td>[number] = <code>0</code></td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.Parser.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Parser.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Parser.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.Parser.__index</code></td>
<td>[Ty<Parser>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L81">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.Parser.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Parser.__tostring" href="#Parser.__tostring">Parser.__tostring</a><code>() -&gt; 'Parser()'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L415"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.assertNode" href="#Parser.assertNode">Parser.assertNode</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L393"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.checkPin" href="#Parser.checkPin">Parser.checkPin</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L519"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.consume" href="#Parser.consume">Parser.consume</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L442"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.dbg" href="#Parser.dbg">Parser.dbg</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L564"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.dbgEnter" href="#Parser.dbgEnter">Parser.dbgEnter</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L540"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.dbgLeave" href="#Parser.dbgLeave">Parser.dbgLeave</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L549"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.dbgMatched" href="#Parser.dbgMatched">Parser.dbgMatched</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L552"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.dbgMissed" href="#Parser.dbgMissed">Parser.dbgMissed</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L555"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.dbgUnpack" href="#Parser.dbgUnpack">Parser.dbgUnpack</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L558"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.error" href="#Parser.error">Parser.error</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L525"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.incLine" href="#Parser.incLine">Parser.incLine</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L449"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.isEof" href="#Parser.isEof">Parser.isEof</a><code>(p) -&gt; not p.line</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L450"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.makeStrTokens" href="#Parser.makeStrTokens">Parser.makeStrTokens</a><code>(p, t) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L475"><i>src</i></a>)</h4>
recursively mutate table converting all Tokens to strings
<h4>Function <a id="Parser.new" href="#Parser.new">Parser.new</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L424"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.parse" href="#Parser.parse">Parser.parse</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L430"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.parseAssert" href="#Parser.parseAssert">Parser.parseAssert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L532"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.peek" href="#Parser.peek">Parser.peek</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L437"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.setState" href="#Parser.setState">Parser.setState</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L456"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.skipEmpty" href="#Parser.skipEmpty">Parser.skipEmpty</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L454"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.state" href="#Parser.state">Parser.state</a><code>(p) -&gt; {l=p.l, c=p.c, line=p.line}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L455"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.sub" href="#Parser.sub">Parser.sub</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L445"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.toStrTokens" href="#Parser.toStrTokens">Parser.toStrTokens</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L467"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.tokenStr" href="#Parser.tokenStr">Parser.tokenStr</a><code>(p, t) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L476"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.trimTokenLast" href="#Parser.trimTokenLast">Parser.trimTokenLast</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L498"><i>src</i></a>)</h4>
<h4>Function <a id="Parser.trimTokenStart" href="#Parser.trimTokenStart">Parser.trimTokenStart</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L485"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.Pat" href="#pegl.Pat">pegl.Pat</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L109"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.Pat.kind</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.Pat.name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.Pat.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Pat.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Pat.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.Pat.__index</code></td>
<td>[Ty<Pat>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L109">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.Pat.__fmt</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L97">src</a>)</td>
</tr>
<tr>
<td><code>pegl.Pat.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Pat.parse" href="#Pat.parse">Pat.parse</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L274"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.RootSpec" href="#pegl.RootSpec">pegl.RootSpec</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L70"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.RootSpec.skipEmpty</code></td>
<td>[function] = <code>fn"pegl.skipEmpty"[/home/rett/projects/civlua/lib/pegl/pegl.lua:203]</code>
fn(p) default=skip whitespace</td>
</tr>
<tr>
<td><code>pegl.RootSpec.skipComment</code></td>
<td>[function] 
fn(p) -> Token for found comment</td>
</tr>
<tr>
<td><code>pegl.RootSpec.tokenizer</code></td>
<td>[function] = <code>fn"pegl.defaultTokenizer"[/home/rett/projects/civlua/lib/pegl/pegl.lua:216]</code></td>
</tr>
<tr>
<td><code>pegl.RootSpec.dbg</code></td>
<td>[boolean] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.RootSpec.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.RootSpec.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.RootSpec.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.RootSpec.__index</code></td>
<td>[Ty<RootSpec>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L70">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.RootSpec.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="RootSpec.newFmt" href="#RootSpec.newFmt">RootSpec.newFmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L619"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.Seq" href="#pegl.Seq">pegl.Seq</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L153"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.Seq.kind</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.Seq.name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.Seq.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Seq.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Seq.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.Seq.__index</code></td>
<td>[Ty<Seq>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L153">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.Seq.__fmt</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L97">src</a>)</td>
</tr>
<tr>
<td><code>pegl.Seq.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Seq.parse" href="#Seq.parse">Seq.parse</a><code>(seq, p) -&gt; M.parseSeq(p, seq)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L309"><i>src</i></a>)</h4>
<h3>Record <a id="pegl.Token" href="#pegl.Token">pegl.Token</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L31"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pegl.Token.kind</code></td>
<td>[string] 
optional, used for debugging</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pegl.Token.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Token.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.Token.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pegl.Token.__index</code></td>
<td>[Ty<Token>] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L31">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pegl.Token.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Token.__fmt" href="#Token.__fmt">Token.__fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L40"><i>src</i></a>)</h4>
<h4>Function <a id="Token.decode" href="#Token.decode">Token.decode</a><code>(t, dat) -&gt; lines.sub(dat, M.decodeSpan(t[1]))</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L36"><i>src</i></a>)</h4>
<h4>Function <a id="Token.encode" href="#Token.encode">Token.encode</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L35"><i>src</i></a>)</h4>
<h4>Function <a id="Token.span" href="#Token.span">Token.span</a><code>(t, dec) -&gt; M.decodeSpan(t[1])</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L32"><i>src</i></a>)</h4>
<b>Functions: </b> <table>
<tr>
<td><code>pegl.fmtSpec</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L97">src</a>)</td>
</tr>
</table>
<h3>Function <a id="pegl.Maybe" href="#pegl.Maybe">pegl.Maybe</a><code>(spec) -&gt; M.Or{spec, M.Empty}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L147"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.assertParse" href="#pegl.assertParse">pegl.assertParse</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L403"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.assertParseError" href="#pegl.assertParseError">pegl.assertParseError</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L410"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.decodeSpan" href="#pegl.decodeSpan">pegl.decodeSpan</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L29"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.defaultTokenizer" href="#pegl.defaultTokenizer">pegl.defaultTokenizer</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L216"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.encodeSpan" href="#pegl.encodeSpan">pegl.encodeSpan</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L25"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.firstToken" href="#pegl.firstToken">pegl.firstToken</a><code>(list) -&gt; t, listWithToken</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L49"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.isKeyword" href="#pegl.isKeyword">pegl.isKeyword</a><code>(t) -&gt; #t == 1 and t.kind == t[1]</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L577"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.lastToken" href="#pegl.lastToken">pegl.lastToken</a><code>(list) -&gt; t, listWithToken</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L56"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.nodeSpan" href="#pegl.nodeSpan">pegl.nodeSpan</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L62"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.parse" href="#pegl.parse">pegl.parse</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L372"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.parseSeq" href="#pegl.parseSeq">pegl.parseSeq</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L307"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.skipEmpty" href="#pegl.skipEmpty">pegl.skipEmpty</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L203"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.skipEmptyMinimal" href="#pegl.skipEmptyMinimal">pegl.skipEmptyMinimal</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L211"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.skipWs1" href="#pegl.skipWs1">pegl.skipWs1</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L186"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.specToStr" href="#pegl.specToStr">pegl.specToStr</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L102"><i>src</i></a>)</h3>
<h3>Function <a id="pegl.specTy" href="#pegl.specTy">pegl.specTy</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L106"><i>src</i></a>)</h3>
<h2>Module <a id="pegl.lua" href="#pegl.lua">pegl.lua</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl/lua.lua#L7"><i>src</i></a>)</h2>
Lua syntax in PEGL
<p>
http://parrot.github.io/parrot-docs0/0.4.7/html/languages/lua/doc/lua51.bnf.html
was used as a reference.
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.lua.exp1</code></td>
<td>[Or] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.name</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.num</code></td>
<td>[Or] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.str</code></td>
<td>[Or] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.varset</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
</table>
<h3>Table <a id="pegl.lua.call" href="#pegl.lua.call">pegl.lua.call</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.call.1</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.call.2</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.call.3</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.call.kind</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.exp" href="#pegl.lua.exp">pegl.lua.exp</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.exp1" href="#pegl.lua.exp1">pegl.lua.exp1</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.1.4</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.1.5</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.1.7</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.1.8</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.1.name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.exp.1.1" href="#pegl.lua.exp.1.1">pegl.lua.exp.1.1</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.1.1.keys</code></td>
<td>[table] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.exp.1.2" href="#pegl.lua.exp.1.2">pegl.lua.exp.1.2</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.1.2.1</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.num" href="#pegl.lua.num">pegl.lua.num</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.1.3.1</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.1.3.2</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.1.3.name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.str" href="#pegl.lua.str">pegl.lua.str</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.1.6.name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.name" href="#pegl.lua.name">pegl.lua.name</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.1.9.1</code></td>
<td>[UNPIN] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L160">src</a>)</td>
</tr>
</table>
<h3>Table <a id="pegl.lua.exp.1.9.2" href="#pegl.lua.exp.1.9.2">pegl.lua.exp.1.9.2</a></h3>
<p>
<h3>Table <a id="pegl.lua.exp.1.9.2.1" href="#pegl.lua.exp.1.9.2.1">pegl.lua.exp.1.9.2.1</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.1.9.2.1.keys</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.1.9.2.1.name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.exp.1.9.3" href="#pegl.lua.exp.1.9.3">pegl.lua.exp.1.9.3</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.1.9.3.1</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.1.9.3.kind</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.exp.2" href="#pegl.lua.exp.2">pegl.lua.exp.2</a></h3>
<p>
<h3>Table <a id="pegl.lua.exp.2.1" href="#pegl.lua.exp.2.1">pegl.lua.exp.2.1</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.2.1.2</code></td>
<td>[table] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.exp.2.1.1" href="#pegl.lua.exp.2.1.1">pegl.lua.exp.2.1.1</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.exp.2.1.1.1</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.2.1.1.2</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.exp.2.1.1.3</code></td>
<td>[Or] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.exp.2.1.1.name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.explist" href="#pegl.lua.explist">pegl.lua.explist</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.explist.1</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.explist.2</code></td>
<td>[Empty] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L165">src</a>)</td>
</tr>
</table>
<h3>Table <a id="pegl.lua.field" href="#pegl.lua.field">pegl.lua.field</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.field.1</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.field.2</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.field.3</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.field.kind</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.root" href="#pegl.lua.root">pegl.lua.root</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl/lua.lua#L250"><i>src</i></a>)</h3>
<p>
<h4>Function <a id="pegl.lua.skipComment" href="#pegl.lua.skipComment">pegl.lua.skipComment</a><code>(t, add) -&gt; t</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h4>
return t with the key/vals of add inserted
<h3>Table <a id="pegl.lua.src" href="#pegl.lua.src">pegl.lua.src</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.src.1</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.src.2</code></td>
<td>[Eof] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L174">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.src.name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.stmt" href="#pegl.lua.stmt">pegl.lua.stmt</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.stmt.1</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.10</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.12</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.2</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.3</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.4</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.5</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.6</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.7</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.8</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.9</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="pegl.lua.varset" href="#pegl.lua.varset">pegl.lua.varset</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342"><i>src</i></a>)</h3>
return t with the key/vals of add inserted
<p>
<b>Values: </b> <table>
<tr>
<td><code>pegl.lua.stmt.11.1</code></td>
<td>[UNPIN] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L160">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.stmt.11.2</code></td>
<td>[Or] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.stmt.11.3</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>pegl.lua.stmt.11.4</code></td>
<td>[PIN] (<a href="https://github.com/civboot/civlua/blob/main/lib/pegl/pegl.lua#L159">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.stmt.11.5</code></td>
<td>[Or] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
<tr>
<td><code>pegl.lua.stmt.11.kind</code></td>
<td>[string] </td>
</tr>
</table>
<b>Functions: </b> <table>
<tr>
<td><code>pegl.lua.skipComment</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L342">src</a>)</td>
</tr>
</table>
<p>
<h1><a id="Package_asciicolor" href="#Package_asciicolor">Package asciicolor</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>encode text color and style with a single ascii character</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/asciicolor/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="asciicolor" href="#asciicolor">asciicolor</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor.lua#L2"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>asciicolor.CODES</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor.lua#L49">src</a>)</td>
</tr>
<tr>
<td><code>asciicolor.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="Color" href="#Color">Color</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor.lua#L8"><i>src</i></a>)</h3>
typosafe mapping of asciicode -> fullname
<p>
<b>Values: </b> <table>
<tr>
<td><code>asciicolor.Color.</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color. </code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.a</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.b</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.c</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.d</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.f</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.g</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.h</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.l</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.m</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.n</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.p</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.r</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.s</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.t</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.w</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.y</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Color.z</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="asciicolor.assertcode" href="#asciicolor.assertcode">asciicolor.assertcode</a><code>(ac) -&gt; single leter (or error)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor.lua#L53"><i>src</i></a>)</h3>
<h3>Function <a id="asciicolor.bgColor" href="#asciicolor.bgColor">asciicolor.bgColor</a><code>(c) -&gt; colorCode</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor.lua#L37"><i>src</i></a>)</h3>
<h3>Function <a id="asciicolor.fgColor" href="#asciicolor.fgColor">asciicolor.fgColor</a><code>(c) -&gt; colorCode</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor.lua#L34"><i>src</i></a>)</h3>
<p>
<h2>Module <a id="Ascii" href="#Ascii">Ascii</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor.lua#L28"><i>src</i></a>)</h2>
typosafe mapping of fullname -> asciichar
<p>
<b>Values: </b> <table>
<tr>
<td><code>asciicolor.Ascii.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.aqua</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.black</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.cyan</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.darkgrey</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.fuschia</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.green</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.honey</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.lightgrey</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.magenta</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.navy</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.pink</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.red</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.sky</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.tea</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.white</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.yellow</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.Ascii.zero</code></td>
<td>[string] </td>
</tr>
</table>
<h2>Module <a id="asciicolor.style" href="#asciicolor.style">asciicolor.style</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L4"><i>src</i></a>)</h2>
style text from a user's config.
<p>
<b>Values: </b> <table>
<tr>
<td><code>asciicolor.style.CONFIG_PATH</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.style.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>asciicolor.style.dark</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L51">src</a>)</td>
</tr>
</table>
<h3>Record <a id="asciicolor.style.Styler" href="#asciicolor.style.Styler">asciicolor.style.Styler</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L77"><i>src</i></a>)</h3>
Create a styler
<p>
Note: pass f (file) to create the default AcWriter with the file.
Note: pass mode, stylepath to control loadStyle
<p>
<b>Fields: </b> <table>
<tr>
<td><code>asciicolor.style.Styler.acwriter</code></td>
<td>[AcWriter] </td>
</tr>
<tr>
<td><code>asciicolor.style.Styler.style</code></td>
<td>[table] 
default=loadStyle()</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>asciicolor.style.Styler.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>asciicolor.style.Styler.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>asciicolor.style.Styler.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>asciicolor.style.Styler.__index</code></td>
<td>[Ty<Styler>] (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L77">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Styler.__tostring" href="#Styler.__tostring">Styler.__tostring</a><code>() -&gt; 'Styler{...}'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L79"><i>src</i></a>)</h4>
<h4>Function <a id="Styler.flush" href="#Styler.flush">Styler.flush</a><code>(st) -&gt; st.acwriter:flush()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L82"><i>src</i></a>)</h4>
<h4>Function <a id="Styler.level" href="#Styler.level">Styler.level</a><code>(st, add) -&gt; st.acwriter.f:level(add)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L81"><i>src</i></a>)</h4>
<h4>Function <a id="Styler.styled" href="#Styler.styled">Styler.styled</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L90"><i>src</i></a>)</h4>
Example: st:styled('path', 'path/to/foo.txt', '\n')
<h4>Function <a id="Styler.write" href="#Styler.write">Styler.write</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L95"><i>src</i></a>)</h4>
write as plain
<h3>Function <a id="asciicolor.style.loadStyle" href="#asciicolor.style.loadStyle">asciicolor.style.loadStyle</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L68"><i>src</i></a>)</h3>
<h3>Function <a id="asciicolor.style.mode" href="#asciicolor.style.mode">asciicolor.style.mode</a><code>() -&gt; G.CLIMODE or os.getenv'CLIMODE'</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L54"><i>src</i></a>)</h3>
<h3>Function <a id="asciicolor.style.stylePath" href="#asciicolor.style.stylePath">asciicolor.style.stylePath</a><code>() -&gt; pth.concat{pth.home(), CONFIG_PATH}</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L56"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_vt100" href="#Package_vt100">Package vt100</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>Civboot VT100 Terminal Library</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/vt100/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="vt100" href="#vt100">vt100</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L8"><i>src</i></a>)</h2>
Civboot vt100 Terminal library that supports LAP protocol.
Module for interacting with the vt100 via keys and AsciiColors.
<code class="block">License CC0 / UNLICENSE
Originally written 2022 Phil Leblanc, modified 2023 Rett Berg (Civboot.org)
Authorized for relicense in: http://github.com/philanc/plterm/issues/4</code>
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.ATEXIT</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L401">src</a>)</td>
</tr>
<tr>
<td><code>vt100.CMD</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L107">src</a>)</td>
</tr>
<tr>
<td><code>vt100.INP_SEQ</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L99">src</a>)</td>
</tr>
<tr>
<td><code>vt100.INP_SEQO</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L99">src</a>)</td>
</tr>
<tr>
<td><code>vt100.VALID_KEY</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L147">src</a>)</td>
</tr>
<tr>
<td><code>vt100.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="vt100.BgColor" href="#vt100.BgColor">vt100.BgColor</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L226"><i>src</i></a>)</h3>
Background Terminal Codes
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.BgColor.aqua</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.black</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.cyan</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.darkgrey</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.fuschia</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.green</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.honey</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.lightgrey</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.magenta</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.navy</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.pink</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.red</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.sky</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.tea</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.white</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.yellow</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.BgColor.zero</code></td>
<td>[number] </td>
</tr>
</table>
<h3>Table <a id="vt100.FgColor" href="#vt100.FgColor">vt100.FgColor</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L213"><i>src</i></a>)</h3>
Foreground Terminal Codes
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.FgColor.aqua</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.black</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.cyan</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.darkgrey</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.fuschia</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.green</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.honey</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.lightgrey</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.magenta</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.navy</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.pink</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.red</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.sky</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.tea</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.white</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.yellow</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.FgColor.zero</code></td>
<td>[number] </td>
</tr>
</table>
<h3>Table <a id="vt100.LITERALS" href="#vt100.LITERALS">vt100.LITERALS</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L127"><i>src</i></a>)</h3>
These help with validating keys are valid and converting
special keys (return, space, etc) to their literal form.
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.LITERALS.backslash</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vt100.LITERALS.caret</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vt100.LITERALS.return</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vt100.LITERALS.slash</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vt100.LITERALS.space</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vt100.LITERALS.tab</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="vt100.Style" href="#vt100.Style">vt100.Style</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L231"><i>src</i></a>)</h3>
Style Terminal Codes
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.Style.bold</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Style.invert</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Style.reset</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Style.underline</code></td>
<td>[number] </td>
</tr>
</table>
<h3>Record <a id="vt100.Term" href="#vt100.Term">vt100.Term</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L52"><i>src</i></a>)</h3>
VT100 Terminal Emulator <ul>
<li>Write the text to display</li>
<li>Write the foreground/background colors to fg/bg</li>
<li>Then call :draw() to draw to terminal.</li>
</ul>
<p>
Requires <code>vt100.start()</code> have been called to initiate raw mode.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>vt100.Term.l</code></td>
<td>[int] = <code>1</code>
cursor line</td>
</tr>
<tr>
<td><code>vt100.Term.c</code></td>
<td>[int] = <code>1</code>
cursor column</td>
</tr>
<tr>
<td><code>vt100.Term.h</code></td>
<td>[int] = <code>40</code>
height</td>
</tr>
<tr>
<td><code>vt100.Term.w</code></td>
<td>[int] = <code>80</code>
width</td>
</tr>
<tr>
<td><code>vt100.Term.text</code></td>
<td>[ds.Grid] 
the text to display</td>
</tr>
<tr>
<td><code>vt100.Term.fg</code></td>
<td>[ds.Grid] 
foreground color (ASCII coded)</td>
</tr>
<tr>
<td><code>vt100.Term.bg</code></td>
<td>[ds.Grid] 
background color (ASCII coded)</td>
</tr>
<tr>
<td><code>vt100.Term._waiting</code></td>
<td>[thread] 
the thread waiting on update (i.e. size)</td>
</tr>
<tr>
<td><code>vt100.Term.run</code></td>
<td>[boolean] = <code>true</code>
set to false to stop coroutines</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>vt100.Term.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vt100.Term.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vt100.Term.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>vt100.Term.__index</code></td>
<td>[Ty<Term>] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L52">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>vt100.Term.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Term.__fmt" href="#Term.__fmt">Term.__fmt</a><code>(tm, fmt) -&gt; tm.text:__fmt(fmt)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L71"><i>src</i></a>)</h4>
<h4>Function <a id="Term._ready" href="#Term._ready">Term._ready</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L302"><i>src</i></a>)</h4>
<h4>Function <a id="Term._requestSize" href="#Term._requestSize">Term._requestSize</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L298"><i>src</i></a>)</h4>
send a request for size.
Note: the input() coroutine will receive and call _ready()
<h4>Function <a id="Term._updateChildren" href="#Term._updateChildren">Term._updateChildren</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L65"><i>src</i></a>)</h4>
<h4>Function <a id="Term.clear" href="#Term.clear">Term.clear</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L69"><i>src</i></a>)</h4>
<h4>Function <a id="Term.draw" href="#Term.draw">Term.draw</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L328"><i>src</i></a>)</h4>
draw the text and color(fg/bg) grids to the screen
<h4>Function <a id="Term.input" href="#Term.input">Term.input</a><code>(tm, send) -&gt; infinite loop (run in coroutine)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L385"><i>src</i></a>)</h4>
function to run in a (LAP) coroutine.
<code>send()</code> is called with each key recieved. Typically this is a lap.Send.
<h4>Function <a id="Term.resize" href="#Term.resize">Term.resize</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L310"><i>src</i></a>)</h4>
request size and clear children
This can only be run with an active (LAP) input coroutine
<h3>Function <a id="vt100.acwrite" href="#vt100.acwrite">vt100.acwrite</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L284"><i>src</i></a>)</h3>
write to the terminal-like file f using colors fgstr and bgstr
accounting for previous color codes fg, bg
<p>
Additional strings (...) are written using plain color.
<p>
Return: <code>fg, bg, write(str, ...)</code>
<blockquote> Note: fg and bg are the updated color codes</blockquote>
<h3>Function <a id="vt100.checkKey" href="#vt100.checkKey">vt100.checkKey</a><code>(key) -&gt; key?, errstring?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L168"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.colorFB" href="#vt100.colorFB">vt100.colorFB</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L254"><i>src</i></a>)</h3>
Set the color, taking into account the previous color
<h3>Function <a id="vt100.ctrlChar" href="#vt100.ctrlChar">vt100.ctrlChar</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L114"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.key" href="#vt100.key">vt100.key</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L114"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.keyError" href="#vt100.keyError">vt100.keyError</a><code>(key) -&gt; errstring?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L164"><i>src</i></a>)</h3>
Check that a key is valid. Return errstring if not.
<h3>Function <a id="vt100.literal" href="#vt100.literal">vt100.literal</a><code>(key) -&gt; literalstring?</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L136"><i>src</i></a>)</h3>
Convert any key to it's literal form <code class="block">  literal'a'       -&gt; 'a'
  literal'return'  -&gt; '\n'
  literal'invalid' -&gt; nil</code>
<h3>Function <a id="vt100.start" href="#vt100.start">vt100.start</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L428"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.stop" href="#vt100.stop">vt100.stop</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L409"><i>src</i></a>)</h3>
<p>
<h2>Module <a id="Bg" href="#Bg">Bg</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L234"><i>src</i></a>)</h2>
asciicolor code -> vt100 code
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.Bg.</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg. </code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.A</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.B</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.C</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.D</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.F</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.G</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.H</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.L</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.M</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.N</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.P</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.R</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.S</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.T</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.W</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.Y</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.Z</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vt100.Bg.a</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.b</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.c</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.d</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.f</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.g</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.h</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.l</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.m</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.n</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.p</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.r</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.s</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.t</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.w</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.y</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Bg.z</code></td>
<td>[number] </td>
</tr>
</table>
<h2>Module <a id="Fg" href="#Fg">Fg</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L234"><i>src</i></a>)</h2>
asciicolor code -> vt100 code
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.Fg.</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg. </code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.A</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.B</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.C</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.D</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.F</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.G</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.H</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.L</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.M</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.N</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.P</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.R</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.S</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.T</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.W</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.Y</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.Z</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vt100.Fg.a</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.b</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.c</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.d</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.f</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.g</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.h</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.l</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.m</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.n</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.p</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.r</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.s</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.t</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.w</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.y</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vt100.Fg.z</code></td>
<td>[number] </td>
</tr>
</table>
<h2>Module <a id="vt100.ctrl" href="#vt100.ctrl">vt100.ctrl</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L31"><i>src</i></a>)</h2>
Direct terminal control functions
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.ctrl.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="vt100.ctrl.clear" href="#vt100.ctrl.clear">vt100.ctrl.clear</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.cleareol" href="#vt100.ctrl.cleareol">vt100.ctrl.cleareol</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.color" href="#vt100.ctrl.color">vt100.ctrl.color</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.colorFB" href="#vt100.ctrl.colorFB">vt100.ctrl.colorFB</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.down" href="#vt100.ctrl.down">vt100.ctrl.down</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.getlc" href="#vt100.ctrl.getlc">vt100.ctrl.getlc</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.golc" href="#vt100.ctrl.golc">vt100.ctrl.golc</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.hide" href="#vt100.ctrl.hide">vt100.ctrl.hide</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.left" href="#vt100.ctrl.left">vt100.ctrl.left</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.nextline" href="#vt100.ctrl.nextline">vt100.ctrl.nextline</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.reset" href="#vt100.ctrl.reset">vt100.ctrl.reset</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.restore" href="#vt100.ctrl.restore">vt100.ctrl.restore</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.right" href="#vt100.ctrl.right">vt100.ctrl.right</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.save" href="#vt100.ctrl.save">vt100.ctrl.save</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.show" href="#vt100.ctrl.show">vt100.ctrl.show</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Function <a id="vt100.ctrl.size" href="#vt100.ctrl.size">vt100.ctrl.size</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L195"><i>src</i></a>)</h3>
causes terminal to send size as (escaped) cursor position
<h3>Function <a id="vt100.ctrl.up" href="#vt100.ctrl.up">vt100.ctrl.up</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L187"><i>src</i></a>)</h3>
<h3>Record <a id="vt100.AcWriter" href="#vt100.AcWriter">vt100.AcWriter</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>vt100.AcWriter.f</code></td>
<td>[file] </td>
</tr>
<tr>
<td><code>vt100.AcWriter.fg</code></td>
<td>[string] = <code>"z"</code>
current foreground ac letter</td>
</tr>
<tr>
<td><code>vt100.AcWriter.bg</code></td>
<td>[string] = <code>"z"</code>
current background ac letter</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>vt100.AcWriter.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vt100.AcWriter.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vt100.AcWriter.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>vt100.AcWriter.__index</code></td>
<td>[Ty<vt100.AcWriter>] </td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>vt100.AcWriter.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="vt100.AcWriter.acwrite" href="#vt100.AcWriter.acwrite">vt100.AcWriter.acwrite</a><code>(aw, fgstr, bgstr, ...) -&gt; write(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100/AcWriter.lua#L23"><i>src</i></a>)</h4>
<code>:acwrite(fgstr, bgstr, str, ...)</code>: writes str with style of fg/bg str
<h4>Function <a id="vt100.AcWriter.flush" href="#vt100.AcWriter.flush">vt100.AcWriter.flush</a><code>(aw) -&gt; aw.f:flush()</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100/AcWriter.lua#L15"><i>src</i></a>)</h4>
<h4>Function <a id="vt100.AcWriter.write" href="#vt100.AcWriter.write">vt100.AcWriter.write</a><code>(aw, ...) -&gt; aw:acwrite(nil, nil, ...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100/AcWriter.lua#L25"><i>src</i></a>)</h4>
write plain
<h2>Module <a id="vt100.testing" href="#vt100.testing">vt100.testing</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100/testing.lua#L2"><i>src</i></a>)</h2>
helpers for testing/demoing vt100
<p>
<b>Values: </b> <table>
<tr>
<td><code>vt100.testing.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="vt100.testing.Fake" href="#vt100.testing.Fake">vt100.testing.Fake</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100/testing.lua#L11"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>vt100.testing.Fake.l</code></td>
<td>[int] = <code>1</code>
cursor line</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.c</code></td>
<td>[int] = <code>1</code>
cursor column</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.h</code></td>
<td>[int] = <code>40</code>
height</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.w</code></td>
<td>[int] = <code>80</code>
width</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.text</code></td>
<td>[ds.Grid] 
the text to display</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.fg</code></td>
<td>[ds.Grid] 
foreground color (ASCII coded)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.bg</code></td>
<td>[ds.Grid] 
background color (ASCII coded)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake._waiting</code></td>
<td>[thread] 
the thread waiting on update (i.e. size)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.run</code></td>
<td>[boolean] = <code>true</code>
set to false to stop coroutines</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>vt100.testing.Fake.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vt100.testing.Fake.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vt100.testing.Fake.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>vt100.testing.Fake.__index</code></td>
<td>[Ty<Fake>] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100/testing.lua#L11">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>vt100.testing.Fake.__fmt</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L71">src</a>)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake._ready</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L302">src</a>)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake._requestSize</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L298">src</a>)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake._updateChildren</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L65">src</a>)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.clear</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L69">src</a>)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.draw</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L86">src</a>)</td>
</tr>
<tr>
<td><code>vt100.testing.Fake.input</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/ds/ds.lua#L86">src</a>)</td>
</tr>
</table>
<h3>Function <a id="vt100.testing.run" href="#vt100.testing.run">vt100.testing.run</a><code>() -&gt; out, err</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100/testing.lua#L31"><i>src</i></a>)</h3>
start rawmode using tmpfiles
<h3>Function <a id="vt100.testing.startTmp" href="#vt100.testing.startTmp">vt100.testing.startTmp</a><code>() -&gt; out, err</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100/testing.lua#L27"><i>src</i></a>)</h3>
start rawmode using tmpfiles
<p>
<h1><a id="Package_patience" href="#Package_patience">Package patience</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/patience"><i>src</i></a>)</h1><table>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
</table>
<p>
<code>patience</code>      | [table] 
<p>
<h1><a id="Package_tv" href="#Package_tv">Package tv</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>Tabulated Values</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/tv/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="tv" href="#tv">tv</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L2"><i>src</i></a>)</h2>
TV: tabulated values module
<p>
<b>Values: </b> <table>
<tr>
<td><code>tv.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="tv.bool" href="#tv.bool">tv.bool</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L111"><i>src</i></a>)</h3>
<h3>Table <a id="tv.integer" href="#tv.integer">tv.integer</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L114"><i>src</i></a>)</h3>
<h3>Table <a id="tv.json" href="#tv.json">tv.json</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L117"><i>src</i></a>)</h3>
<p>
<b>Functions: </b> <table>
<tr>
<td><code>tv.json.de</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L32">src</a>)</td>
</tr>
<tr>
<td><code>tv.json.en</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L23">src</a>)</td>
</tr>
</table>
<h3>Table <a id="tv.lson" href="#tv.lson">tv.lson</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L118"><i>src</i></a>)</h3>
<p>
<b>Functions: </b> <table>
<tr>
<td><code>tv.lson.de</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L32">src</a>)</td>
</tr>
<tr>
<td><code>tv.lson.en</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/lson/lson.lua#L29">src</a>)</td>
</tr>
</table>
<h3>Table <a id="tv.number" href="#tv.number">tv.number</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L115"><i>src</i></a>)</h3>
<h3>Table <a id="tv.string" href="#tv.string">tv.string</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L116"><i>src</i></a>)</h3>
<h3>Record <a id="tv.Decoder" href="#tv.Decoder">tv.Decoder</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L176"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>tv.Decoder.serdeMap</code></td>
<td>[SerdeMap] = <code>Ty&lt;SerdeMap&gt;{__docs={}, __fields={}, __index=self, __name="SerdeMap", bool=Serde{en=fn"tostring"[/home/rett/projects/civlua/cmd/doc/lua.lua:85], de=fn"function"[/home/rett/projects/civlua/lib/tv/tv.lua:108]}, epoch=Serde{en=fn"tostring"[/home/rett/projects/civlua/cmd/doc/lua.lua:85], de=fn"function"[nil]}, integer=Serde{en=fn"tostring"[/home/rett/projects/civlua/cmd/doc/lua.lua:85], de=fn"function"[nil]}, json=Serde{en=fn"lson.json"[/home/rett/projects/civlua/lib/lson/lson.lua:23], de=fn"lson.decode"[/home/rett/projects/civlua/lib/lson/lson.lua:32]}, lson=Serde{en=fn"lson.lson"[/home/rett/projects/civlua/lib/lson/lson.lua:29], de=fn"lson.decode"[/home/rett/projects/civlua/lib/lson/lson.lua:32]}, number=Serde{en=fn"tostring"[/home/rett/projects/civlua/cmd/doc/lua.lua:85], de=fn"function"[nil]}, string=Serde{en=fn"tostring"[/home/rett/projects/civlua/cmd/doc/lua.lua:85], de=fn"function"[/home/rett/projects/civlua/lib/tv/tv.lua:116]}}</code></td>
</tr>
<tr>
<td><code>tv.Decoder._types</code></td>
<td>[table] 
column types (strings)</td>
</tr>
<tr>
<td><code>tv.Decoder._names</code></td>
<td>[table] 
column names (strings)</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>tv.Decoder.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.Decoder.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.Decoder.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>tv.Decoder.__index</code></td>
<td>[Ty<Decoder>] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L176">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>tv.Decoder.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Decoder.__call" href="#Decoder.__call">Decoder.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L203"><i>src</i></a>)</h4>
<h4>Function <a id="Decoder.load" href="#Decoder.load">Decoder.load</a><code>(dec, file) -&gt; Decoder</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L199"><i>src</i></a>)</h4>
load from file
Example: dec:load(open'thing.tv')
<h4>Function <a id="Decoder.names" href="#Decoder.names">Decoder.names</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L188"><i>src</i></a>)</h4>
decode a row of names
<h4>Function <a id="Decoder.types" href="#Decoder.types">Decoder.types</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L182"><i>src</i></a>)</h4>
decode a row of types
<h3>Record <a id="tv.Encoder" href="#tv.Encoder">tv.Encoder</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L66"><i>src</i></a>)</h3>
Example: <code class="block">local enc = tv.Encoder{}
f:write(enc:comment'some comment',    '\n')
f:write(enc:types{'int', 'string'},   '\n')
f:write(enc:names{'id',  'username'}, '\n')
for _, v in ipairs(myData) do f:write(enc(v), '\n') end</code>
<p>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>tv.Encoder.serdeMap</code></td>
<td>[SerdeMap] </td>
</tr>
<tr>
<td><code>tv.Encoder._types</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.Encoder._names</code></td>
<td>[table] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>tv.Encoder.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.Encoder.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.Encoder.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>tv.Encoder.__index</code></td>
<td>[Ty<Encoder>] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L66">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>tv.Encoder.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Encoder.__call" href="#Encoder.__call">Encoder.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L92"><i>src</i></a>)</h4>
<h4>Function <a id="Encoder.comment" href="#Encoder.comment">Encoder.comment</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L72"><i>src</i></a>)</h4>
encode a comment. Only valid in the header
<h4>Function <a id="Encoder.names" href="#Encoder.names">Encoder.names</a><code>(enc, names) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L88"><i>src</i></a>)</h4>
Set the names of the encoder and return the
string to write.
<h4>Function <a id="Encoder.types" href="#Encoder.types">Encoder.types</a><code>(enc, types) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L80"><i>src</i></a>)</h4>
Set the types of the encoder and return the
string to write.
<h3>Record <a id="tv.Serde" href="#tv.Serde">tv.Serde</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L103"><i>src</i></a>)</h3>
Interface for serialization/deserialization of types.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>tv.Serde.en</code></td>
<td>[function(v) -> string] = <code>fn"tostring"[/home/rett/projects/civlua/cmd/doc/lua.lua:85]</code>
serializer</td>
</tr>
<tr>
<td><code>tv.Serde.de</code></td>
<td>[function(string) -> v] 
deserializer</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>tv.Serde.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.Serde.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.Serde.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>tv.Serde.__index</code></td>
<td>[Ty<Serde>] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L103">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>tv.Serde.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h3>Record <a id="tv.SerdeMap" href="#tv.SerdeMap">tv.SerdeMap</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L124"><i>src</i></a>)</h3>
Overrideable map of type serializer/deserializer objects.
Keys should be the "type name", values must have the following
fields:
<p>
<b>Values: </b> <table>
<tr>
<td><code>tv.SerdeMap.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.SerdeMap.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>tv.SerdeMap.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>tv.SerdeMap.bool</code></td>
<td>[Serde] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L111">src</a>)</td>
</tr>
<tr>
<td><code>tv.SerdeMap.epoch</code></td>
<td>[Serde] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L115">src</a>)</td>
</tr>
<tr>
<td><code>tv.SerdeMap.integer</code></td>
<td>[Serde] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L114">src</a>)</td>
</tr>
<tr>
<td><code>tv.SerdeMap.json</code></td>
<td>[Serde] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L117">src</a>)</td>
</tr>
<tr>
<td><code>tv.SerdeMap.lson</code></td>
<td>[Serde] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L118">src</a>)</td>
</tr>
<tr>
<td><code>tv.SerdeMap.number</code></td>
<td>[Serde] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L115">src</a>)</td>
</tr>
<tr>
<td><code>tv.SerdeMap.string</code></td>
<td>[Serde] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L116">src</a>)</td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>tv.SerdeMap.__index</code></td>
<td>[Ty<SerdeMap>] (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L124">src</a>)</td>
</tr>
</table>
<h3>Function <a id="tv.cellmatch" href="#tv.cellmatch">tv.cellmatch</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L142"><i>src</i></a>)</h3>
decode the matched pattern
<h3>Function <a id="tv.decodeCell" href="#tv.decodeCell">tv.decodeCell</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L151"><i>src</i></a>)</h3>
decode a tv cell as a string
<h3>Function <a id="tv.decodeHeader" href="#tv.decodeHeader">tv.decodeHeader</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L170"><i>src</i></a>)</h3>
<h3>Function <a id="tv.decodeRow" href="#tv.decodeRow">tv.decodeRow</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L160"><i>src</i></a>)</h3>
<h3>Function <a id="tv.encodeBackslashes" href="#tv.encodeBackslashes">tv.encodeBackslashes</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L25"><i>src</i></a>)</h3>
encode any number of backslashes
<h3>Function <a id="tv.encodeCell" href="#tv.encodeCell">tv.encodeCell</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L32"><i>src</i></a>)</h3>
<h3>Function <a id="tv.encodeComment" href="#tv.encodeComment">tv.encodeComment</a><code>(comment) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L38"><i>src</i></a>)</h3>
<h3>Function <a id="tv.encodeNames" href="#tv.encodeNames">tv.encodeNames</a><code>(names) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L44"><i>src</i></a>)</h3>
<h3>Function <a id="tv.encodeRow" href="#tv.encodeRow">tv.encodeRow</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L53"><i>src</i></a>)</h3>
<h3>Function <a id="tv.encodeTypes" href="#tv.encodeTypes">tv.encodeTypes</a><code>(types) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L41"><i>src</i></a>)</h3>
<h3>Function <a id="tv.load" href="#tv.load">tv.load</a><code>(file, serdeMap) -&gt; data, decoder</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L221"><i>src</i></a>)</h3>
load all the data and return it as a table
<h3>Function <a id="tv.store" href="#tv.store">tv.store</a><code>(file, t, names, types, serdeMap) -&gt; encoder</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/tv/tv.lua#L213"><i>src</i></a>)</h3>
<code>store(file, t, names=orderedKeys(t[1]), types=nil)</code>
simple store function
<p>
<h1><a id="Package_vcds" href="#Package_vcds">Package vcds</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>version control data structures and algorithms</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-6</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/lib/vcds/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="vcds" href="#vcds">vcds</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L2"><i>src</i></a>)</h2>
vsds: version control data structures (and algorithms)
<p>
<b>Values: </b> <table>
<tr>
<td><code>vcds.ADD</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vcds.REM</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vcds.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="vcds.DiffEoF" href="#vcds.DiffEoF">vcds.DiffEoF</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L103"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>vcds.DiffEoF.b</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vcds.DiffEoF.c</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vcds.DiffEoF.text</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="vcds.DiffSoF" href="#vcds.DiffSoF">vcds.DiffSoF</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L102"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>vcds.DiffSoF.b</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vcds.DiffSoF.c</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>vcds.DiffSoF.text</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="vcds.Picks" href="#vcds.Picks">vcds.Picks</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L203"><i>src</i></a>)</h3>
Create picks (aka cherry picks) iterator from changes.
These can then be applied to a new base using vcds.patch(base, picks)
<p>
Each "pick" is a list of Diffs which are anchored by the lines
above and below (unless they are start/end of file).
<h3>Record <a id="vcds.Change" href="#vcds.Change">vcds.Change</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L54"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>vcds.Change.rem</code></td>
<td>[int</td>
<td>table] 
removed lines</td>
</tr>
<tr>
<td><code>vcds.Change.add</code></td>
<td>[string] 
text to add</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>vcds.Change.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vcds.Change.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vcds.Change.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>vcds.Change.__index</code></td>
<td>[Ty<Change>] (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L54">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>vcds.Change.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Change.len" href="#Change.len">Change.len</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L57"><i>src</i></a>)</h4>
<h3>Record <a id="vcds.Diff" href="#vcds.Diff">vcds.Diff</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L28"><i>src</i></a>)</h3>
Single Line Diff
This type is good for displaying differences to a user.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>vcds.Diff.b</code></td>
<td>  
(base)   orig file.  '+'=added</td>
</tr>
<tr>
<td><code>vcds.Diff.c</code></td>
<td>  
(change) new file.   '-'=removed</td>
</tr>
<tr>
<td><code>vcds.Diff.text</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>vcds.Diff.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vcds.Diff.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vcds.Diff.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>vcds.Diff.__index</code></td>
<td>[Ty<Diff>] (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L28">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>vcds.Diff.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Diff.__tostring" href="#Diff.__tostring">Diff.__tostring</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L35"><i>src</i></a>)</h4>
<h4>Function <a id="Diff.isKeep" href="#Diff.isKeep">Diff.isKeep</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L38"><i>src</i></a>)</h4>
<h3>Record <a id="vcds.Keep" href="#vcds.Keep">vcds.Keep</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L48"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>vcds.Keep.num</code></td>
<td>[int] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>vcds.Keep.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vcds.Keep.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vcds.Keep.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>vcds.Keep.__index</code></td>
<td>[Ty<Keep>] (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L48">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>vcds.Keep.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Keep.len" href="#Keep.len">Keep.len</a><code>(k) -&gt; k.num and k.num or #k</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L49"><i>src</i></a>)</h4>
<h3>Record <a id="vcds.Patch" href="#vcds.Patch">vcds.Patch</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L244"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>vcds.Patch.conflict</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>vcds.Patch.bl</code></td>
<td>[number] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>vcds.Patch.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vcds.Patch.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>vcds.Patch.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>vcds.Patch.__index</code></td>
<td>[Ty<Patch>] (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L244">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>vcds.Patch.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h3>Function <a id="vcds.apply" href="#vcds.apply">vcds.apply</a><code>(base, changes, out--[[{}]]) -&gt; out</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L74"><i>src</i></a>)</h3>
Apply changes to base (TableLines), push to <code>out</code>
<h3>Function <a id="vcds.createAnchorBot" href="#vcds.createAnchorBot">vcds.createAnchorBot</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L151"><i>src</i></a>)</h3>
<h3>Function <a id="vcds.createAnchorTop" href="#vcds.createAnchorTop">vcds.createAnchorTop</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L142"><i>src</i></a>)</h3>
<h3>Function <a id="vcds.createPatch" href="#vcds.createPatch">vcds.createPatch</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L341"><i>src</i></a>)</h3>
Create a patch item from a pick
<p>
At it's most basic it would just be: <ul>
<li>find line position via top and/or bottom anchor. We want at least 2 lines</li>
<li>convert pick to change. Walk the text applying the change.</li>
</ul>
<p>
There are some strategies to fix common anchor misses: <ul>
<li>If an anchor is missing, the nearby change can be used instead. Use either
the removed or added lines. For instance, if we are supposed to remove lines
then try and find them. Conversely if the patch was already applied then the
supposed-to-be added lines will already be there!</li>
<li>When adding, existing identical text is okay.</li>
<li>When removing, missing text is okay as long as it's followed by an anchor of
some kind</li>
<li>Keep lines act as an anchor (for above) but are otherwise not required - they
are "free" to change or be removed. If they are missing then the algorithm will
try to continue the change with or without them (dynamic programming)</li>
<li>empty lines are entirely ignored and are not considered an anchor</li>
</ul>
<h3>Function <a id="vcds.findAnchor" href="#vcds.findAnchor">vcds.findAnchor</a><code>(base, baseMap, anchors, above--[[false]]) -&gt; (l, c)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L240"><i>src</i></a>)</h3>
Find the actual anchor by searching for uniqueness in the anchors <ul>
<li>above=true:  find above (search up)</li>
<li>above=false: find below (search down)</li>
</ul>
<h3>Function <a id="vcds.normalize" href="#vcds.normalize">vcds.normalize</a><code>(s) -&gt; ds.squash(ds.trimEnd(s))</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L20"><i>src</i></a>)</h3>
normalize a line for comparing (anchoring).
This just squashes and trims the end.
<h3>Function <a id="vcds.pickAnchorsBot" href="#vcds.pickAnchorsBot">vcds.pickAnchorsBot</a><code>(base, pick) -&gt; isEndOfFile, anchors</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L258"><i>src</i></a>)</h3>
<h3>Function <a id="vcds.pickAnchorsTop" href="#vcds.pickAnchorsTop">vcds.pickAnchorsTop</a><code>(pick) -&gt; isStartOfFile, anchors</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L251"><i>src</i></a>)</h3>
<h3>Function <a id="vcds.toChanges" href="#vcds.toChanges">vcds.toChanges</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L100"><i>src</i></a>)</h3>
<h3>Function <a id="vcds.toDiffs" href="#vcds.toDiffs">vcds.toDiffs</a><code>(base, changes) -&gt; diffs</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/vcds/vcds.lua#L132"><i>src</i></a>)</h3>
Convert Changes to Diffs with full context
<p>
<h1><a id="Package_luck" href="#Package_luck">Package luck</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck"><i>src</i></a>)</h1><table>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
</table>
<p>
<h2>Module <a id="luck" href="#luck">luck</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L4"><i>src</i></a>)</h2>
luck: lua configuration language
<p>
<b>Values: </b> <table>
<tr>
<td><code>luck.LUCK</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L28">src</a>)</td>
</tr>
<tr>
<td><code>luck.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="luck.Luck" href="#luck.Luck">luck.Luck</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L63"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>luck.Luck.name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>luck.Luck.deps</code></td>
<td>  </td>
</tr>
<tr>
<td><code>luck.Luck.dat</code></td>
<td>  </td>
</tr>
<tr>
<td><code>luck.Luck.path</code></td>
<td>  </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>luck.Luck.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>luck.Luck.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>luck.Luck.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>luck.Luck.__index</code></td>
<td>[Ty<Luck>] (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L63">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>luck.Luck.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Luck.fromMeta" href="#Luck.fromMeta">Luck.fromMeta</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L81"><i>src</i></a>)</h4>
<h3>Function <a id="luck.createEnv" href="#luck.createEnv">luck.createEnv</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L35"><i>src</i></a>)</h3>
<h3>Function <a id="luck.load" href="#luck.load">luck.load</a><code>(path, env) -&gt; table</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L134"><i>src</i></a>)</h3>
Load a single path which has no dependencies.
<h3>Function <a id="luck.loadMeta" href="#luck.loadMeta">luck.loadMeta</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L58"><i>src</i></a>)</h3>
<h3>Function <a id="luck.loadMetas" href="#luck.loadMetas">luck.loadMetas</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L96"><i>src</i></a>)</h3>
<h3>Function <a id="luck.loadall" href="#luck.loadall">luck.loadall</a><code>(paths, allenv) -&gt; built, lucks, sorted</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L126"><i>src</i></a>)</h3>
<h3>Function <a id="luck.loadraw" href="#luck.loadraw">luck.loadraw</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/luck/luck.lua#L44"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_rebuf" href="#Package_rebuf">Package rebuf</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf"><i>src</i></a>)</h1><table>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
</table>
<p>
<code>rebuf</code>         | [table] 
<code>rebuf.buffer</code>  | [table] 
<h2>Module <a id="rebuf.motion" href="#rebuf.motion">rebuf.motion</a> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L6"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>rebuf.motion.WordKind</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L52">src</a>)</td>
</tr>
<tr>
<td><code>rebuf.motion.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="rebuf.motion.backword" href="#rebuf.motion.backword">rebuf.motion.backword</a><code>(s, end_) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L98"><i>src</i></a>)</h3>
Go backward to find the start of this (or previous) word
<h3>Function <a id="rebuf.motion.decDistance" href="#rebuf.motion.decDistance">rebuf.motion.decDistance</a><code>(s, e) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L13"><i>src</i></a>)</h3>
decrease distance (start -> end) by 1
<h3>Function <a id="rebuf.motion.findBack" href="#rebuf.motion.findBack">rebuf.motion.findBack</a><code>(s, pat, end_, plain) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L113"><i>src</i></a>)</h3>
find backwards
this searches for the pattern and returns the LAST one found.
This is HORRIBLY non-performant, only use for small amounts of data
<h3>Function <a id="rebuf.motion.forword" href="#rebuf.motion.forword">rebuf.motion.forword</a><code>(s, begin) -&gt; int</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L84"><i>src</i></a>)</h3>
Go forward to find the start of the next word
<h3>Function <a id="rebuf.motion.lcGe" href="#rebuf.motion.lcGe">rebuf.motion.lcGe</a><code>(l, c, l2, c2) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L25"><i>src</i></a>)</h3>
return whether l.c is >= l2.c2
<h3>Function <a id="rebuf.motion.lcLe" href="#rebuf.motion.lcLe">rebuf.motion.lcLe</a><code>(l, c, l2, c2) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L19"><i>src</i></a>)</h3>
return whether l.c is <= l2.c2
<h3>Function <a id="rebuf.motion.lcWithin" href="#rebuf.motion.lcWithin">rebuf.motion.lcWithin</a><code>(l, c, l1, c1, l2, c2) -&gt; bool</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L50"><i>src</i></a>)</h3>
<h3>Function <a id="rebuf.motion.topLeft" href="#rebuf.motion.topLeft">rebuf.motion.topLeft</a><code>(l, c, l2, c2) -&gt; (l, c)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L35"><i>src</i></a>)</h3>
return the top-left of two points
<h3>Function <a id="rebuf.motion.wordKind" href="#rebuf.motion.wordKind">rebuf.motion.wordKind</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/lib/rebuf/rebuf/motion.lua#L69"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_cxt" href="#Package_cxt">Package cxt</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>text markup for civilization</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/cmd/cxt/README.md</td>
</tr>
</table>
cxt: text markup for civilization
<p>
It should not take more than a few minutes to know how to read and write
documentation.
<p>
cxt is an ultra-simple markup language which is designed to be as easy as
possible to parse (for computers <i>and</i> humans) while still using as few
characters as possible to express format for common cases.
<p>
cxt is designed to: <ul>
<li>Make document writing easy.</li>
<li>Make document parsing easy.</li>
<li>Make reading of raw (text) documents easy.</li>
<li>Make consuming structured data from documents easy.</li>
</ul>
CXT contains only three special characters for deliniating formatting controls: <ul>
<li>the two bracket characters <code>[]</code></li>
<li>a way to escape brackets and itself <code>\</code></li>
</ul>
<p>
There are two ways to specify attributes for a block: <ul>
<li>short: <code>[*bold text]</code> where <code>*</code> can be any of the shortcuts below</li>
<li>full: <code>[{*, attr1 attr2=value}bold italic with attr 1 and 2]</code></li>
</ul>
<p>
The following attributes and shortcuts are supported
<code class="block">  b i u   bold (*), italic (,) and underlined (_)
  * , _   Example: [*bold] [,italic] [_underlined]
                   [{*,_}bold italic and underlined]

  code    inline or block code (depending on whether newlines exist)
   $      shortcut: [$inline code]
   #...   See also: '[#... ]#...' which sets the code attribute.

  quote   create a quote block
   "      Example: ["quote block]

  list    list syntax, see demos
   +      Example: [+
            * list item 1
            * list item 2
          ]

  table   table syntax, see demos.
  # head  modify the delimiters with row/col/head attrs.
  + row
  | col

  hidden  hidden block, used for comments and/or assigning attributes
   !      Example: [!hidden block]

  #...    any number of # characters create a "raw" block that must
          have the same number of # characters closing it.

          [##
          some code
          ]##

          [{## code=html}
          &lt;b&gt;example html&lt;/b&gt;
          ]##

  href    hyper reference, aka a url.
  &lt;href&gt;

   path   a path, typically relative to project or website root.
    /     Example: [/path/to/file.lua]

  name    sets the name of the block.
   n      Used with: [@name]  href=#name  anyAttr=@name
   :      shortcut: [{: ...}name]
          Example: [{name=Civboot href=http://civboot.org}Civboot]
          Example: [{: href=http://civboot.org}Civboot]

  value   when @ is used for an attr value, it will get this attribute.
   v      defaults to "href" if the node has one, else "text" which
          is the node's text.

   @      copies a block with given name. When used as an attr value
          it gets the attribute referenced by "value"
          Example:
            [{!:href=http://civboot.org}Civboot] creates a hidden named block
            [@Civboot] clones the block (removing name and hidden)
            [&lt;@Civboot&gt;Civboot Project] has href=http://civboot.org
              note: the default for "value" is "href" if it exists.

 escapes
   \[    literal [
   \]    literal ]
   \\    literal \
   \*    literal \*, where * is any other character</code>
<p>
<blockquote> Note:
Any value after a bracket besides <code> {...} b i u * , _ $ " + ! / : v @ </code>
is invalid.</blockquote>
<p>
<h2><a id="Demos" href="#Demos">Demos</h2></a>
<p>
<h3>Inline Code:</h3>
<p>
<code>[$inline code]. Note that [$balanced[brackets] are allowed]</code> <ul>
<li><code>inline code</code>. Note that <code>balanced[brackets] are allowed</code></li>
</ul>
<p>
<h3>Code block:</h3>
<p>
Writing this: <code class="block">[{## lang=lua}
function example()
  print'Hello world'
end
]##</code>
<p>
Will create a formatted code block: <code class="block">function example()
  print'Hello world'
end</code>
<p>
<h3>Text Formatting</h3>
<code>[*bold], [,italic] and [_underlined]</code> <ul>
<li><b>bold</b>, <i>italic</i> and <u>underlined</u></li>
</ul>
<p>
<h3>Linking</h3>
<code>[{b i href=http://civboot.org}bold italic link]</code> <ul>
<li><a href="http://civboot.org"><b><i>bold italic link</i></b></a></li>
</ul>
<p>
<h3>List</h3>
Lists are started with <code>+</code>, each items is deliniated by <code>*</code>: <code class="block">A list of stuff: [+
* example list
* with sub list:[+
  * sub item
  * multi-line

    sub item.
  * inner code block
    [##
    function example()
      print'example inner block'
    end
    ]##
  * final sub
]
* final item
]</code>
<p>
A list of stuff: <ul>
<li>example list</li>
<li>with sub list:<ul>
<li>sub item</li>
<li>multi-line
<p>
sub item.</li>
<li>inner code block
<code class="block">function example()
  print'example inner block'
end</code></li>
<li>final sub</li>
</ul></li>
<li>final item</li>
</ul>
<p>
<h3>Hidden</h3>
<code>Hidden block: "[! this is hidden]"</code> <ul>
<li>Hidden block: ""</li>
</ul>
<p>
<h3>Table</h3>
A table is created by the 'table' attribute. We also set the <code>head</code>, <code>row</code>
and <code>col</code> to the defaults for demonstration (they can be excluded). The
<code>row</code> and <code>head</code> deliminters are only recognized at the start of a line.
<p>
<code class="block">A table: [{table head=# row=+ col=|}
# col 1      | col 2   | col 3
+ row [*1.1] | row 1.2 | row 1.3
+ row [*1.1] | row 1.2 | row 1.3
]</code>
<p>
A table: <table>
<tr>
<th>col 1</th>
<th>col 2</th>
<th>col 3</th>
</tr>
<tr>
<td>row <b>1.1</b></td>
<td>row 1.2</td>
<td>row 1.3</td>
</tr>
<tr>
<td>row <b>1.1</b></td>
<td>row 1.2</td>
<td>row 1.3</td>
</tr>
</table>
<p>
<h3>Table with large columns</h3>
For very large or multi-lined columns, you can organize them similar to
sub-lists: <code class="block">[{table}
# 1st header column
| 2nd header column
| 3rd header column
+ long row 1.1
| long row 1.2

  Even includes new line!
| long row 1.3
  [{## code=lua}
  function example()
    return "code block"
  end
  ]##
+ row 2.1
| row 2.2
| row 2.3
]</code>
<p>
<table>
<tr>
<th>1st header column
</th>
<th>2nd header column
</th>
<th>3rd header column</th>
</tr>
<tr>
<td>long row 1.1
</td>
<td>long row 1.2
<p>
Even includes new line!
</td>
<td>long row 1.3
<code class="block">function example()
  return "code block"
end</code></td>
</tr>
<tr>
<td>row 2.1
</td>
<td>row 2.2
</td>
<td>row 2.3</td>
</tr>
</table>
<p>
<h3>Named Nodes and Values</h3>
<blockquote> <b>Note</b>: all visible named blocks have a ☍ link next to them and serve dual
purpose of being referenced within the cxt file using <code>[@name]</code> and by
local and external links (<code>href=#name</code>) </blockquote>
<p>
<code>A hidden named block: "[{!:href=http://civboot.org}Civboot]"</code> <ul>
<li>A hidden named block: ""</li>
</ul>
<p>
<code>A visible named block: [{:href=https://github.com/civboot/civlua}civlua]</code> <ul>
<li>A visible named block: <a id="civlua" href="#civlua"><a href="https://github.com/civboot/civlua">civlua</a></a></li>
</ul>
<p>
<code>[@Civboot] clones the hidden block (removing the [$clone] attribute)</code> <ul>
<li><a href="http://civboot.org">Civboot</a> clones the hidden block (removing the <code>clone</code> attribute)</li>
</ul>
<p>
<code>[&lt;@Civboot&gt;Civboot Project] has [$href=http://civboot.org].</code><ul>
<li><a href="http://civboot.org">Civboot Project</a> has <code>href=http://civboot.org</code>.</li>
</ul>
<p>
<code class="block">You can also link to named blocks with [$href=#name], for instance the "Demos"
header is named [&lt;#Demos&gt;Demos].</code> <ul>
<li>You can also link to named blocks with <code>href=#name</code>, for instance the "Demos"
header is named <a href="#Demos">Demos</a>.</li>
</ul>
<p>
<h3>Escaping [brackets]</h3>
<code class="block">You can \[escape\] brackets to render them directly. You can also escape '\\'.</code> <ul>
<li>You can [escape] brackets to render them directly. You can also escape '\'.</li>
</ul>
<p>
<h2>UNLICENSE</h2>
Cxt is in the the public domain, see the <a href="../UNLICENSE">UNLICENSE</a> for details.
<p>
It was originally created by Rett Berg as part of the <a href="http://civboot.org">Civboot</a> project.
<p>
<h2>Module <a id="cxt" href="#cxt">cxt</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L3"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>cxt.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>cxt.attrSym</code></td>
<td>[Key] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L63">src</a>)</td>
</tr>
<tr>
<td><code>cxt.attrs</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L69">src</a>)</td>
</tr>
<tr>
<td><code>cxt.fmtAttr</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L439">src</a>)</td>
</tr>
<tr>
<td><code>cxt.keyval</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L67">src</a>)</td>
</tr>
</table>
<h3>Table <a id="cxt.attr" href="#cxt.attr">cxt.attr</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L68"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>cxt.attr.3</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L67">src</a>)</td>
</tr>
</table>
<h3>Table <a id="cxt.attr.1" href="#cxt.attr.1">cxt.attr.1</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>cxt.attr.1.1</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>cxt.attr.1.kind</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="cxt.attrSym" href="#cxt.attrSym">cxt.attrSym</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L63"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>cxt.attr.2.keys</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>cxt.attr.2.kind</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="cxt.htmlFmt" href="#cxt.htmlFmt">cxt.htmlFmt</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L440"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>cxt.htmlFmt.b</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>cxt.htmlFmt.i</code></td>
<td>[boolean] </td>
</tr>
<tr>
<td><code>cxt.htmlFmt.u</code></td>
<td>[boolean] </td>
</tr>
</table>
<h3>Record <a id="cxt.Config" href="#cxt.Config">cxt.Config</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L445"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>cxt.Config.header</code></td>
<td>[string] 
typically used for html header</td>
</tr>
<tr>
<td><code>cxt.Config.pathUrl</code></td>
<td>[function(path) -> url] = <code>fn"ds.iden"[/home/rett/projects/civlua/lib/ds/ds.lua:87]</code></td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>cxt.Config.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>cxt.Config.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>cxt.Config.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>cxt.Config.__index</code></td>
<td>[Ty<Config>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L445">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>cxt.Config.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h3>Record <a id="cxt.Writer" href="#cxt.Writer">cxt.Writer</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L458"><i>src</i></a>)</h3>
A Writer for cxt serializers (terminal, http, etc) to use.
<p>
The writer contains: <ul>
<li>The src lines and token decoder for getting pegl.Token values.</li>
<li>The destination lines and current indent level.</li>
</ul>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>cxt.Writer.src</code></td>
<td>  </td>
</tr>
<tr>
<td><code>cxt.Writer.to</code></td>
<td>  </td>
</tr>
<tr>
<td><code>cxt.Writer.indent</code></td>
<td>[int] </td>
</tr>
<tr>
<td><code>cxt.Writer.style</code></td>
<td>[string] 
see asciicolor.style</td>
</tr>
<tr>
<td><code>cxt.Writer.config</code></td>
<td>[Config] = <code>Config{header=nil, pathUrl=fn"ds.iden"[/home/rett/projects/civlua/lib/ds/ds.lua:87]}</code></td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>cxt.Writer.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>cxt.Writer.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>cxt.Writer.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h4>Function <a id="Writer.__len" href="#Writer.__len">Writer.__len</a><code>(w) -&gt; #w.to</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L475"><i>src</i></a>)</h4>
<h4>Function <a id="Writer.fromParser" href="#Writer.fromParser">Writer.fromParser</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L461"><i>src</i></a>)</h4>
<h4>Function <a id="Writer.level" href="#Writer.level">Writer.level</a><code>(w, add) -&gt; w.to:level(add)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L476"><i>src</i></a>)</h4>
<h4>Function <a id="Writer.tokenStr" href="#Writer.tokenStr">Writer.tokenStr</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L464"><i>src</i></a>)</h4>
<h3>Function <a id="cxt._codeHashes" href="#cxt._codeHashes">cxt._codeHashes</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L37"><i>src</i></a>)</h3>
<h3>Function <a id="cxt._hasUnbalancedBrackets" href="#cxt._hasUnbalancedBrackets">cxt._hasUnbalancedBrackets</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L33"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.assertParse" href="#cxt.assertParse">cxt.assertParse</a><code>(dat, expected, dbg) -&gt; node</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L437"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.checkParse" href="#cxt.checkParse">cxt.checkParse</a><code>(dat, context) -&gt; dat</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L413"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.code" href="#cxt.code">cxt.code</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L51"><i>src</i></a>)</h3>
create <code>[$inline code]</code>
<h3>Function <a id="cxt.codeblock" href="#cxt.codeblock">cxt.codeblock</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L44"><i>src</i></a>)</h3>
create a <code>[##code block]##</code>
<h3>Function <a id="cxt.content" href="#cxt.content">cxt.content</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L344"><i>src</i></a>)</h3>
parse normal content, adding to node
<h3>Function <a id="cxt.escape" href="#cxt.escape">cxt.escape</a><code>(str) -&gt; str:gsub('([\\%[%]])', '\\%1')</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L24"><i>src</i></a>)</h3>
escape the string so it renders literally
<h3>Function <a id="cxt.parse" href="#cxt.parse">cxt.parse</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L401"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.parsedStrings" href="#cxt.parsedStrings">cxt.parsedStrings</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt.lua#L430"><i>src</i></a>)</h3>
<h2>Module <a id="cxt.html" href="#cxt.html">cxt.html</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/html.lua#L2"><i>src</i></a>)</h2>
Serialize cxt nodes as html
<p>
<b>Values: </b> <table>
<tr>
<td><code>cxt.html.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>cxt.html.htmlHead</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="cxt.html.assertHtml" href="#cxt.html.assertHtml">cxt.html.assertHtml</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/html.lua#L222"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.html.convert" href="#cxt.html.convert">cxt.html.convert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/html.lua#L215"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.html.main" href="#cxt.html.main">cxt.html.main</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/html.lua#L239"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.html.serialize" href="#cxt.html.serialize">cxt.html.serialize</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/html.lua#L200"><i>src</i></a>)</h3>
serialize the node to the writer.
<h3>Function <a id="cxt.html.serializeDoc" href="#cxt.html.serializeDoc">cxt.html.serializeDoc</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/html.lua#L207"><i>src</i></a>)</h3>
<h2>Module <a id="cxt.term" href="#cxt.term">cxt.term</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/term.lua#L3"><i>src</i></a>)</h2>
cxt for the terminal, either plain text or vt100/etc
<p>
<b>Values: </b> <table>
<tr>
<td><code>cxt.term.HEADER</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/term.lua#L44">src</a>)</td>
</tr>
<tr>
<td><code>cxt.term.STYLES</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/term.lua#L42">src</a>)</td>
</tr>
<tr>
<td><code>cxt.term.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="cxt.term.Args" href="#cxt.term.Args">cxt.term.Args</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/term.lua#L26"><i>src</i></a>)</h3>
Render cxt on a terminal.
<p>
Will render an input string or --inp=file.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>cxt.term.Args.inp</code></td>
<td>[path</td>
<td>file] 
input file</td>
</tr>
<tr>
<td><code>cxt.term.Args.out</code></td>
<td>[path</td>
<td>file] 
output file (default=stdout)</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>cxt.term.Args.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>cxt.term.Args.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>cxt.term.Args.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>cxt.term.Args.__index</code></td>
<td>[Ty<Args>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/term.lua#L26">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>cxt.term.Args.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h3>Function <a id="cxt.term.convert" href="#cxt.term.convert">cxt.term.convert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/term.lua#L125"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.term.main" href="#cxt.term.main">cxt.term.main</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/term.lua#L136"><i>src</i></a>)</h3>
<h3>Function <a id="cxt.term.serialize" href="#cxt.term.serialize">cxt.term.serialize</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/cxt/cxt/term.lua#L117"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_doc" href="#Package_doc">Package doc</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc"><i>src</i></a>)</h1><table>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
</table>
<p>
<h2>Module <a id="doc" href="#doc">doc</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L10"><i>src</i></a>)</h2>
Get documentation for lua types and syntax.
Examples: <code class="block">doc{string.find}
doc'for'
doc'myMod.myFunction'
doc{'someMod', --pkg} -- full pkg documentation</code>
<p>
<blockquote>Note: depends on pkg for lookup</blockquote>
<p>
<b>Values: </b> <table>
<tr>
<td><code>doc.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="doc.Args" href="#doc.Args">doc.Args</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L423"><i>src</i></a>)</h3>
Get documentation for an object or package. Usage: <code class="block"> help 'path.of.object'</code>
<p>
If no path is given shows all available packages.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>doc.Args.help</code></td>
<td>[bool] 
get help</td>
</tr>
<tr>
<td><code>doc.Args.to</code></td>
<td>[path] 
the output. If ends in <code>.html</code> then auto-converts to html</td>
</tr>
<tr>
<td><code>doc.Args.pkg</code></td>
<td>[deep</td>
<td>bool] 
if true uses PKG.lua (and all sub-modules). If "deep" also uses PKG.pkgs</td>
</tr>
<tr>
<td><code>doc.Args.expand</code></td>
<td>[int</td>
<td>bool] = <code>1</code>
expand to depth (expand=true means expand=10)</td>
</tr>
<tr>
<td><code>doc.Args.local</code></td>
<td>[bool] 
if true only unpacks local pkgs/mods</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>doc.Args.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>doc.Args.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>doc.Args.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>doc.Args.__index</code></td>
<td>[Ty<Args>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L423">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>doc.Args.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h3>Record <a id="doc.Doc" href="#doc.Doc">doc.Doc</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L76"><i>src</i></a>)</h3>
Documentation on a single type
These pull together the various sources of documentation
from the PKG and META_TY specs into a single object.
<p>
<b>Fields: </b> <table>
<tr>
<td><code>doc.Doc.obj</code></td>
<td>[any] 
the object being documented</td>
</tr>
<tr>
<td><code>doc.Doc.name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>doc.Doc.pkgname</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>doc.Doc.ty</code></td>
<td>[Type] 
type, can be string</td>
</tr>
<tr>
<td><code>doc.Doc.docTy</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>doc.Doc.path</code></td>
<td>[str] </td>
</tr>
<tr>
<td><code>doc.Doc.main</code></td>
<td>[Doc] 
main Args, mostly used for PKG</td>
</tr>
<tr>
<td><code>doc.Doc.meta</code></td>
<td>[table] 
metadata, mostly used for PKG</td>
</tr>
<tr>
<td><code>doc.Doc.comments</code></td>
<td>[lines] 
comments above item</td>
</tr>
<tr>
<td><code>doc.Doc.code</code></td>
<td>[lines] 
code which defines the item</td>
</tr>
<tr>
<td><code>doc.Doc.call</code></td>
<td>[function] </td>
</tr>
<tr>
<td><code>doc.Doc.fields</code></td>
<td>[table{name=DocItem}] 
(for metatys)</td>
</tr>
<tr>
<td><code>doc.Doc.values</code></td>
<td>[table] 
raw values that are not the other types</td>
</tr>
<tr>
<td><code>doc.Doc.tys</code></td>
<td>[table] 
table of values</td>
</tr>
<tr>
<td><code>doc.Doc.fns</code></td>
<td>[table] 
methods or functions</td>
</tr>
<tr>
<td><code>doc.Doc.mods</code></td>
<td>[table] 
sub modules (for PKG)</td>
</tr>
<tr>
<td><code>doc.Doc.lvl</code></td>
<td>[int] 
level inside another type (nil or 1)</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>doc.Doc.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>doc.Doc.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>doc.Doc.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>doc.Doc.__index</code></td>
<td>[Ty<Doc>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L76">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>doc.Doc.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Doc.__tostring" href="#Doc.__tostring">Doc.__tostring</a><code>(d) -&gt; sfmt('Doc%q', d.name)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L78"><i>src</i></a>)</h4>
<h3>Record <a id="doc.DocItem" href="#doc.DocItem">doc.DocItem</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L85"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>doc.DocItem.obj</code></td>
<td>[any] </td>
</tr>
<tr>
<td><code>doc.DocItem.name</code></td>
<td>  </td>
</tr>
<tr>
<td><code>doc.DocItem.pkgname</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>doc.DocItem.ty</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>doc.DocItem.docTy</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>doc.DocItem.path</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>doc.DocItem.default</code></td>
<td>[any] </td>
</tr>
<tr>
<td><code>doc.DocItem.doc</code></td>
<td>[string] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>doc.DocItem.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>doc.DocItem.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>doc.DocItem.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>doc.DocItem.__index</code></td>
<td>[Ty<DocItem>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L85">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>doc.DocItem.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="DocItem.__tostring" href="#DocItem.__tostring">DocItem.__tostring</a><code>(di) -&gt; sfmt('DocItem%q', di.name)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L87"><i>src</i></a>)</h4>
<h3>Record <a id="doc._Construct" href="#doc._Construct">doc._Construct</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L105"><i>src</i></a>)</h3>
internal type to construct Doc and DocItems
<p>
<b>Fields: </b> <table>
<tr>
<td><code>doc._Construct.done</code></td>
<td>[table] 
objects already documented</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>doc._Construct.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>doc._Construct.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>doc._Construct.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>doc._Construct.__index</code></td>
<td>[Ty<_Construct>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L105">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>doc._Construct.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="_Construct.__call" href="#_Construct.__call">_Construct.__call</a><code>(c, obj, key, expand, lvl) -&gt; Doc | DocItem</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L189"><i>src</i></a>)</h4>
<h4>Function <a id="_Construct.main" href="#_Construct.main">_Construct.main</a><code>(c, obj) -&gt; Doc</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L229"><i>src</i></a>)</h4>
<h4>Function <a id="_Construct.pkg" href="#_Construct.pkg">_Construct.pkg</a><code>(c, pkg, expand) -&gt; Doc</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L221"><i>src</i></a>)</h4>
<h3>Function <a id="doc.cleanFieldTy" href="#doc.cleanFieldTy">doc.cleanFieldTy</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L277"><i>src</i></a>)</h3>
<h3>Function <a id="doc.construct" href="#doc.construct">doc.construct</a><code>(obj, key, expand, lvl) -&gt; M._Construct{}(obj, key, expand, lvl)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L100"><i>src</i></a>)</h3>
get a Doc or DocItem. If expand is true then recurse.
<h3>Function <a id="doc.docHeader" href="#doc.docHeader">doc.docHeader</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L346"><i>src</i></a>)</h3>
<h3>Function <a id="doc.find" href="#doc.find">doc.find</a><code>(obj) -&gt; Object</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L41"><i>src</i></a>)</h3>
Find the object or name in pkgs
<h3>Function <a id="doc.findcode" href="#doc.findcode">doc.findcode</a><code>(loc) -&gt; (commentLines, codeLines)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L273"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmt" href="#doc.fmt">doc.fmt</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L409"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmtAttr" href="#doc.fmtAttr">doc.fmtAttr</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L340"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmtDoc" href="#doc.fmtDoc">doc.fmtDoc</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L402"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmtDocItem" href="#doc.fmtDocItem">doc.fmtDocItem</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L316"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmtMeta" href="#doc.fmtMeta">doc.fmtMeta</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L354"><i>src</i></a>)</h3>
<h3>Function <a id="doc.getpath" href="#doc.getpath">doc.getpath</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L297"><i>src</i></a>)</h3>
get any path with <code>.</code> in it. This is mostly used by help/etc functions
<h3>Function <a id="doc.main" href="#doc.main">doc.main</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L459"><i>src</i></a>)</h3>
<h3>Function <a id="doc.modinfo" href="#doc.modinfo">doc.modinfo</a><code>(obj) -&gt; (name, loc)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L243"><i>src</i></a>)</h3>
<h3>Function <a id="doc.stripComments" href="#doc.stripComments">doc.stripComments</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L284"><i>src</i></a>)</h3>
<h3>Function <a id="doc.type" href="#doc.type">doc.type</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/doc.lua#L97"><i>src</i></a>)</h3>
return the object's "document type"
<h2>Module <a id="doc.lua" href="#doc.lua">doc.lua</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L15"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>doc.lua.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>doc.lua.io.fmt</code></td>
<td>[Fmt] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.stderr</code></td>
<td>[userdata] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.stdin</code></td>
<td>[userdata] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.stdout</code></td>
<td>[userdata] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
</table>
<h3>Table <a id="false" href="#false">false</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L489"><i>src</i></a>)</h3>
<h3>Table <a id="io" href="#io">io</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L357"><i>src</i></a>)</h3>
the builtin lua io (input/output) module
<p>
Module Functions: <table>
<tr>
<td><code> input(file=nil)  -&gt;  file  </code></td>
<td>get/set stdin</td>
</tr>
<tr>
<td><code> output(file=nil) -&gt;  file  </code></td>
<td>get/set stdout</td>
</tr>
<tr>
<td><code> tmpfile() -&gt; file          </code></td>
<td>note: removed on program exit</td>
</tr>
<tr>
<td><code> popen()   -&gt; file          </code></td>
<td>see io.popen</td>
</tr>
<tr>
<td><code> lines(path or file) -&gt; iter</code></td>
<td>close when done, fail=error</td>
</tr>
<tr>
<td><code> type(f) -&gt; "[closed ]file" </code></td>
<td>get whether f is a file</td>
</tr>
</table>
<p>
File Methods: <table>
<tr>
<td><code> read(format="l")  </code></td>
<td>read a file according to format</td>
</tr>
<tr>
<td><code> lines(format="l") </code></td>
<td>get iterator for reading format</td>
</tr>
<tr>
<td><code> write(a, b, ...)  </code></td>
<td>write strings a, b, ... in order</td>
</tr>
<tr>
<td><code> flush()           </code></td>
<td>flush (save) all writes</td>
</tr>
<tr>
<td><code> seek(whence, offset)</code></td>
<td>see seek section below</td>
</tr>
<tr>
<td><code> setvbuf("no|full|line", sizeHint=appropriateSize)</code> see function</td>
</tr>
</table>
<p>
Format paramater used in read/etc <table>
<tr>
<td>format</td>
<td>behavior</td>
<td>(in Lua<=5.2)</td>
</tr>
<tr>
<td>a</td>
<td>read all text                        *a</td>
</tr>
<tr>
<td>l</td>
<td>read next line, skip EOL             *l</td>
</tr>
<tr>
<td>L</td>
<td>read next line, keep EOL             *L</td>
</tr>
<tr>
<td>n</td>
<td>read and return a number             *n</td>
</tr>
<tr>
<td>number</td>
<td>read an exact number of bytes, EOF=nil</td>
</tr>
<tr>
<td>0</td>
<td>EOF=nil, notEOF=''</td>
</tr>
</table>
<p>
seek <table>
<tr>
<td><code> whence="set" </code></td>
<td>offset from beginning of file (0)</td>
</tr>
<tr>
<td><code> whence="cur" </code></td>
<td>offset from current position</td>
</tr>
<tr>
<td><code> whence="end" </code></td>
<td>offset from end of file (use negative)</td>
</tr>
<tr>
<td><code> seek()       </code></td>
<td>get current position</td>
</tr>
<tr>
<td><code> seek'set'    </code></td>
<td>set to beginning</td>
</tr>
<tr>
<td><code> seek'end'    </code></td>
<td>set to end</td>
</tr>
</table>
<p>
<b>Values: </b> <table>
<tr>
<td><code>doc.lua.io.stderr</code></td>
<td>[userdata] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
</table>
<h3>Table <a id="io.fmt" href="#io.fmt">io.fmt</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h3>
not documented: see <code>string</code> module
<p>
<b>Values: </b> <table>
<tr>
<td><code>doc.lua.io.fmt.style</code></td>
<td>[boolean] </td>
</tr>
</table>
<h3>Table <a id="doc.lua.io.fmt.to" href="#doc.lua.io.fmt.to">doc.lua.io.fmt.to</a></h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>doc.lua.io.fmt.to.style</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/lib/asciicolor/asciicolor/style.lua#L51">src</a>)</td>
</tr>
</table>
<h3>Table <a id="doc.lua.io.fmt.to.acwriter" href="#doc.lua.io.fmt.to.acwriter">doc.lua.io.fmt.to.acwriter</a></h3>
<p>
<h4>Value <a id="io.stderr" href="#io.stderr">io.stderr</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Value <a id="io.stdin" href="#io.stdin">io.stdin</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Value <a id="io.stdout" href="#io.stdout">io.stdout</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.close" href="#io.close">io.close</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.flush" href="#io.flush">io.flush</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.input" href="#io.input">io.input</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.lines" href="#io.lines">io.lines</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.open" href="#io.open">io.open</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.output" href="#io.output">io.output</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.popen" href="#io.popen">io.popen</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.read" href="#io.read">io.read</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.tmpfile" href="#io.tmpfile">io.tmpfile</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.type" href="#io.type">io.type</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h4>Function <a id="io.write" href="#io.write">io.write</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244"><i>src</i></a>)</h4>
not documented: see <code>string</code> module
<h3>Table <a id="local" href="#local">local</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L483"><i>src</i></a>)</h3>
<code>local x = (expression)</code>
<p>
Define a local (instead of a global) variable. Prefer local variables for
most things unless you are: <ul>
<li>modifying the fundamentals of the language (i.e. replacing 'require')</li>
<li>implementing a "protocol" for libraries to communicate global state</li>
<li>managing true physical state (i.e. robotics, terminal output, etc)</li>
<li>you are the top-level application (i.e. a game, CLI, etc) and global state
is the best solution.</li>
</ul>
<h3>Table <a id="nil" href="#nil">nil</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L494"><i>src</i></a>)</h3>
<code>nil</code> value, the the absense of a value. Used for: <ul>
<li>a variable is not set or has been set to <code>nil</code></li>
<li>a table key is not set or has been set to <code>nil</code></li>
</ul>
<h3>Table <a id="os" href="#os">os</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L389"><i>src</i></a>)</h3>
the builtin lua os module
<p>
Useful functions: <table>
<tr>
<td><code>exit(rc=0, close=false)</code></td>
<td>exit program with return code</td>
</tr>
<tr>
<td><code>date()</code></td>
<td>get the date. See os.date</td>
</tr>
<tr>
<td><code>execute'command'</code></td>
<td>execute command, see os.execute</td>
</tr>
<tr>
<td><code>getenv(varname)</code></td>
<td>get environment variable</td>
</tr>
<tr>
<td><code>remove(path)</code></td>
<td>rm path</td>
</tr>
<tr>
<td><code>rename(old, new)</code></td>
<td>mv old new</td>
</tr>
<tr>
<td><code>tmpname() -&gt; path</code></td>
<td>create temporary file</td>
</tr>
<tr>
<td><code>clock()</code></td>
<td>seconds used by process (performance)</td>
</tr>
</table>
<p>
Recommendations: <ul>
<li>use civix.epoch() (nanosec precision) vs os.time() (sec precision)</li>
</ul>
<p>
<h4>Function <a id="os.clock" href="#os.clock">os.clock</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.date" href="#os.date">os.date</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.difftime" href="#os.difftime">os.difftime</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.execute" href="#os.execute">os.execute</a><code>(string) -&gt; (ok, "exit", rc)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L407"><i>src</i></a>)</h4>
Execute shell command via C's `system` API. Returns: <ul>
<li>ok:      true on command success, false if rc>0</li>
<li>"exit":  always literal "exit" if command completed</li>
<li>rc:      the return code of the command</li>
</ul>
<code class="block">  os.execute'shell command' -&gt; (ok, "exit", rc)
  os.execute()              -&gt; isShellAvailable</code>
<p>
Prints whatever was executed. There are no ways to
redirect the output besides piping in the command
string itself.
<p>
Recommendation:
For all but the simplest cases use io.popen instead
<h4>Function <a id="os.exit" href="#os.exit">os.exit</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.getenv" href="#os.getenv">os.getenv</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.remove" href="#os.remove">os.remove</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.rename" href="#os.rename">os.rename</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.setlocale" href="#os.setlocale">os.setlocale</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.time" href="#os.time">os.time</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h4>Function <a id="os.tmpname" href="#os.tmpname">os.tmpname</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410"><i>src</i></a>)</h4>
not documented: see <code>os</code> module
<h3>Table <a id="string" href="#string">string</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L100"><i>src</i></a>)</h3>
the builtin lua string module.
<p>
string literal values can use <ul>
<li><code>'single quotes'</code></li>
<li><code>"double quotes"</code></li>
<li><code>[==[raw string with any number of = symbols ]==]</code></li>
</ul>
<p>
<code>\</code> characters can be used to escape special characters,
except in raw bracketed strings. Common escaped characters
are <code>\'</code> (literal <code>'</code>), <code>\n</code> (newline) and <code>\t</code> (tab).
<p>
<b>Functions: </b> <table>
<tr>
<td><code>doc.lua.string.concat</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L16">src</a>)</td>
</tr>
</table>
<h4>Function <a id="string.byte" href="#string.byte">string.byte</a><code>(str, si=1, ei=si) -&gt; ...ints</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L206"><i>src</i></a>)</h4>
Get ASCII (integer) codes for <code>s[si:ei]</code>
<p>
Example: <code>assertEq({98, 99}, {string.byte('abcd', 2, 3)})</code>
<h4>Function <a id="string.char" href="#string.char">string.char</a><code>(c1, c2, ...) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L209"><i>src</i></a>)</h4>
<h4>Function <a id="string.find" href="#string.find">string.find</a><code>(subj, pat, index=1) -&gt; (si, ei, ...matches)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L136"><i>src</i></a>)</h4>
Find the pattern in the subj (subject) string, starting at the index.
returns the si (start index), ei (end index) and match groups
<p>
<code class="block">assertEq({2, 4},       {find('%w+', ' bob is nice')})
assertEq({2, 7, 'is'}, {find(' bob is nice', '%w+ (%w+)')})</code>
<p>
Character classes for matching specific sets: <code class="block">  .   all characters
  %a  letters
  %c  control characters
  %d  digits
  %l  lower case letters
  %p  punctuation characters
  %s  space characters
  %u  upper case letters
  %w  alphanumeric characters
  %x  hexadecimal digits
  %z  the character with representation 0</code>
<p>
Magic characters, <code>.</code> indicates one character, more indicates many <code class="block">    %.     selects a character class or escapes a magic char
    (...)  create a group
    [...]  create your own character class
    [^..]  inversion of [...]
    +.     match one or more of previous class  (NOT group)
    *.     match zero or more of previous class (NOT group)
    ?      match zero or one of previous class  (NOT group)
    ^...   if at pat[1], match only beggining of text
    ...$   if at pat[#pat], match only end of text
    %1-9   matches the previously matched group index EXACTLY</code>
<h4>Function <a id="string.format" href="#string.format">string.format</a><code>(fmt: str, ...) -&gt; str</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L201"><i>src</i></a>)</h4>
Format values into a fmt string, i.e: <code>format('%s: %i', 'age', 42)</code>
<p>
Directives: <table>
<tr>
<td><code>%%</code></td>
<td>literal % char</td>
</tr>
<tr>
<td><code>%d</code></td>
<td>decimal</td>
</tr>
<tr>
<td><code>%o</code></td>
<td>octal</td>
</tr>
<tr>
<td><code>%x</code></td>
<td>hexidecimal (%X uppercase)</td>
</tr>
<tr>
<td><code>%f</code></td>
<td>floating point</td>
</tr>
<tr>
<td><code>%s</code></td>
<td>string</td>
</tr>
</table>
<p>
Directive control structure (ignore spaces): <code class="block">  % (specifier width)? directive</code>
<p>
Where <code>width</code> is an integer and <code>specifier</code> can be one of <table>
<tr>
<td><code>+</code></td>
<td>right justify to width (the default)</td>
</tr>
<tr>
<td><code>-</code></td>
<td>left justify to width</td>
</tr>
<tr>
<td><code> </code></td>
<td>prefix a positive number with a space</td>
</tr>
<tr>
<td><code>#</code></td>
<td>prefix o, x or X directives with 0, 0x and 0X respectively</td>
</tr>
<tr>
<td><code>0</code></td>
<td>left-pad a number with zeros</td>
</tr>
</table>
<p>
Examples: <code class="block">  sfmt = string.format
  assertEq('age: 42',    sfmt('%s: %i',   'age', 42))
  assertEq('age:    42', sfmt('%s: %5i',  'age', 42))
  assertEq('age: 42,     sfmt('%s: %-5i', 'age', 42))
  assertEq('age: 00042', sfmt('%s: %05i', 'age', 42)</code>
<h4>Function <a id="string.gmatch" href="#string.gmatch">string.gmatch</a><code>(subj, pat, index=1) -&gt; iterator()</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L149"><i>src</i></a>)</h4>
Return an iterator function that when called returns the next capture group.
index: where to start the search and can be negative.
<p>
See also: string.find.
<h4>Function <a id="string.gsub" href="#string.gsub">string.gsub</a><code>(subj, pat, repl, index=1) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L169"><i>src</i></a>)</h4>
Substittue all matches of pattern with repl, returning the new string.
<p>
<code>repl</code> can be a: <ul>
<li>string: replace with the string except <code>%1-9</code> will be
a matched group from <code>pat</code> and <code>%%</code> is a literal <code>%</code>.</li>
<li>table: the table will be queried for every match using
the first capture as key.</li>
<li><code>function(...matches) -&gt; string</code>: the function will be called
with all match groups for each match.</li>
</ul>
<p>
See also: string.find for pattern documentation.
<h4>Function <a id="string.match" href="#string.match">string.match</a><code>(subj, pat, index=1) -&gt; ...groups</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L142"><i>src</i></a>)</h4>
Return the capture groups of pat or the whole match if no capture groups.
index: where to start the search and can be negative.
<p>
See also: string.find.
<h4>Function <a id="string.pack" href="#string.pack">string.pack</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L235"><i>src</i></a>)</h4>
pack the values as bytes into the string using the strtys.
<p>
strtys is a string of the form: <table>
<tr>
<td><code> &lt;  &gt;  =</code></td>
<td>(start only) little / big / native endian</td>
</tr>
<tr>
<td><code> !#     </code></td>
<td>(start only) max alignment = <code>#</code> bytes</td>
</tr>
<tr>
<td><code> b B    </code></td>
<td>signed / unsigned byte</td>
</tr>
<tr>
<td><code> h H l L</code></td>
<td>native short(h) and long(l) + unsigned vers</td>
</tr>
<tr>
<td><code> i# I#  </code></td>
<td>signed/unsigned int with <code>#</code> bytes</td>
</tr>
<tr>
<td><code> f d    </code></td>
<td>native float / double</td>
</tr>
<tr>
<td><code> T      </code></td>
<td>size_t</td>
</tr>
<tr>
<td><code> c#     </code></td>
<td>fixed-sized string of <code>#</code> bytes (unaligned)</td>
</tr>
<tr>
<td><code> z      </code></td>
<td>zero-terminated string        (unaligned)</td>
</tr>
<tr>
<td><code> s#     </code></td>
<td>counted string of size <code>#</code> bytes</td>
</tr>
<tr>
<td><code> x      </code></td>
<td>one byte of padding</td>
</tr>
<tr>
<td><code> Xo     </code></td>
<td>align to option <code>o</code>, i.e. <code>Xi4</code></td>
</tr>
<tr>
<td><code> j J n  </code></td>
<td>lua Integer / Unsigned / Number</td>
</tr>
</table>
<p>
Example: <code class="block">assertEq(string.pack('&gt;i2i2', 0x1234, 0x5678) == '\x12\x34\x56\x78')]</code>
<h4>Function <a id="string.packsize" href="#string.packsize">string.packsize</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L241"><i>src</i></a>)</h4>
Get the size which is used by strtys.
<h4>Function <a id="string.rep" href="#string.rep">string.rep</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L212"><i>src</i></a>)</h4>
<h4>Function <a id="string.sub" href="#string.sub">string.sub</a><code>(subj, si, ei) -&gt; str[si:ei]</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L155"><i>src</i></a>)</h4>
Return substring by index. <code>("1234"):sub(3,4) == "34"</code>
<p>
<blockquote>Note: This is confusingly named considering string.gsub uses pattern
matching. Such is life.</blockquote>
<h4>Function <a id="string.unpack" href="#string.unpack">string.unpack</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L238"><i>src</i></a>)</h4>
See string.pack for the fmt
<h3>Table <a id="table" href="#table">table</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L268"><i>src</i></a>)</h3>
the builtin lua table module
<p>
Tables act as BOTH a map (of keys -> values) and a list (ordered values
starting at index=1).
<p>
You can access the keys with <code>t[key]</code> or if they are a string without
special characters with <code>t.key</code>.
<p>
Examples: <code class="block">t = {'first', 'second', 'third', key='hi'}
assertEq('first', t[1])
assertEq('third', t[3])
assertEq('hi',    t.key)
assertEq(#t, 3) -- the length of the "list" part</code>
<p>
<blockquote> WARNING: A table's length is defined as ANY index who's next value
is <code>nil`</code>. That means using a table as a list with "holes" likely
won't work for you.
</blockquote>
<p>
<h4>Function <a id="table.concat" href="#table.concat">table.concat</a><code>(t, sep='') -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L277"><i>src</i></a>)</h4>
<h4>Function <a id="table.insert" href="#table.insert">table.insert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L302"><i>src</i></a>)</h4>
insert or push to table (list-like)
<p>
Example: <code class="block">local push = table.insert
  local t = {}

  -- push/append behavior
  push(t, 'd')            -- {'d'
  push(t, 'e')            -- {'d', 'e'}

  -- insert behavior
  table.insert(t, 'b', 1) -- {'b', 'd', 'e'}
  table.insert(t, 'c', 2) -- {'b', 'c', 'd', 'e'}
  assertEq({'b', 'c', 'd', 'e'}, t)</code>
<h4>Function <a id="table.move" href="#table.move">table.move</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L314"><i>src</i></a>)</h4>
Move values from one list to another.
Note that <code>si=startIndex</code> and <code>ei=endIndex</code> (inclusive).
<p>
Equivalent to the following, though done in a way
that will properly handle overlapping data: <code class="block">  ti = siTo
  for fi=siFrom,eiFrom do
    to[ti] = from[fi]; ti = ti + 1
  end</code>
<h4>Function <a id="table.remove" href="#table.remove">table.remove</a><code>(t, index=#table) -&gt; t[index]</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L281"><i>src</i></a>)</h4>
<h4>Function <a id="table.sort" href="#table.sort">table.sort</a><code>(list, cmp=lt) -&gt; nil</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L285"><i>src</i></a>)</h4>
sort a table in place using a comparison function <code>cmp</code> who's behavior
must be: <code>cmp(a, b) --&gt; makeAFirst</code>
<h3>Table <a id="true" href="#true">true</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L487"><i>src</i></a>)</h3>
<b>Functions: </b> <table>
<tr>
<td><code>doc.lua.io.close</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.flush</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.input</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.lines</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.open</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.output</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.popen</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.read</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.tmpfile</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.type</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.io.write</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L244">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.clock</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.date</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.difftime</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.execute</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L407">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.exit</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.getenv</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.remove</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.rename</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.setlocale</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.time</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.os.tmpname</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L410">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.byte</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L206">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.char</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L209">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.find</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L136">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.format</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L201">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.gmatch</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L149">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.gsub</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L169">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.match</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L142">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.pack</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L235">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.packsize</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L241">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.rep</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L212">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.sub</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L155">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.string.unpack</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L238">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.table.concat</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L277">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.table.insert</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L302">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.table.move</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L314">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.table.remove</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L281">src</a>)</td>
</tr>
<tr>
<td><code>doc.lua.table.sort</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L285">src</a>)</td>
</tr>
</table>
<h3>Function <a id="for" href="#for">for</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L470"><i>src</i></a>)</h3>
for is a looping construct with two forms:
<p>
Numeric: <code class="block">  for i=si,ei,period do -- period=1 by default
    ... do something with i
  end

  -- is basically the same as
  local i = si
  while i &lt;= ei do i = i + si
    ... do something with i
  end</code>
<p>
Generic: <code class="block">  for i, v, etc in (nextfn, state, _index) do
    .. do something with i, v, ...
  end

  -- is almost the same as
  while true do
    local i, v, etc = nextfn(state, _index)
    if i == nil then break end
    _index = i -- note: C internal, _index from lua doesn't change
    ... code using i, v, etc here
  end</code>
<p>
The goal in writing a stateless iterator function is to match this
loop's API as much as possible.
<p>
Example rewriting ipairs: <code class="block">  local function rawipairs(t, i)
    i = i + 1
    if i &gt; #t then return nil end
    return i, t[i]
  end
  local function myipairs_(t)
    return rawipairs, t, 0
  end
  for i, v in myipairs{5, 6, 7} do
    iterates through (1, 5) -&gt; (2, 6) -&gt; (3, 7)
  end</code>
<p>
Example rewriting pairs using <code>next(t, key)</code>: <code class="block">  function mypairs(t)
    return next, t, nil
  end
  for k, v in mypairs{a=1, b=2, c=3} do
    iterates through ('a', 1) -&gt; ('b', 2) -&gt; ('c', 3)
  end</code>
<p>
See also: metaty.split is a more complex example.
<h3>Function <a id="getmetatable" href="#getmetatable">getmetatable</a><code>(t) -&gt; mt</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L82"><i>src</i></a>)</h3>
See setmetatable.
<h3>Function <a id="keyword" href="#keyword">keyword</a><code>() -&gt; setmetatable({}, Keyword)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L20"><i>src</i></a>)</h3>
<h3>Function <a id="next" href="#next">next</a><code>(tbl, key) -&gt; nextKey</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L37"><i>src</i></a>)</h3>
Get the next key in the table. Used for iterating through tables.
If <code>key=nil</code> returns the first key. Returns <code>nil</code> when <code>key</code> is
the last key.
<h3>Function <a id="pcall" href="#pcall">pcall</a><code>(fn, ...) -&gt; ok, fn(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L41"><i>src</i></a>)</h3>
call a function but catch errors. Returns <code>ok</code> followed by the function
results. If not ok, returns the error.
<h3>Function <a id="select" href="#select">select</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L46"><i>src</i></a>)</h3>
select elements in varargs <code>...</code> at and after index.
<p>
Special value: if <code>index='#'</code> then returns length of <code>...</code>
<h3>Function <a id="setmetatable" href="#setmetatable">setmetatable</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L79"><i>src</i></a>)</h3>
Sets the metatable on the table which can get gotten with
<code>getmetatable</code> and affects the behavior of operators.
<p>
All metamethods: <code class="block">__index    (i.e. t[k])     NOTE: these are only called
__newindex (i.e. t[k] = v)       when key is missing!

__call     (i.e. t())
__tostring (i.e. tostring(t))

+         -        *        /       //        %
__add     __sub    __mul    __div   __idiv    __mod
          __unm

&         |        ~        &lt;&lt;      &gt;&gt;        ^
__band    __bor    __bnot   __shl   __shr     __pow

==        &lt;        &lt;=       #        ..
__eq      __lt     __le     __len    __concat

__name</code>
<p>
<blockquote> See also metaty metamethods: __fields   __fmt</blockquote>
<h3>Function <a id="tostring" href="#tostring">tostring</a><code>(v) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L85"><i>src</i></a>)</h3>
Convert any value to a string by calling __tostring or using lua's default.
<h3>Function <a id="type" href="#type">type</a><code>(val) -&gt; string</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/doc/lua.lua#L53"><i>src</i></a>)</h3>
Get the type of <code>val</code>. Possible return values are: <ul>
<li>data: nil number string boolean table</li>
<li>other: function thread userdata</li>
</ul>
<blockquote> See also: metaty.ty(v) for metatypes</blockquote>
<p>
<h1><a id="Package_ff" href="#Package_ff">Package ff</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>find+fix files</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/cmd/ff/README.md</td>
</tr>
</table><h2>Command when executed directly</h2>
find-fix utility
<p>
Example, note that args are parsed special: 
  ff r:some/dir/ some[pat] -not[pat] p:some%.path -p:not%.path]

<p>
<b>Named Args: </b> <table>
<tr>
<td><code>ff.Main.root</code></td>
<td>[list] 
<code>r:path1 r:path2</code>: list of root paths</td>
</tr>
<tr>
<td><code>ff.Main.pat</code></td>
<td>[list] 
<code>any.+pat1 pat2</code>: list of patterns to find</td>
</tr>
<tr>
<td><code>ff.Main.nopat</code></td>
<td>[list] 
<code>-notpat</code>: list of (file-wide) pattern exclusions</td>
</tr>
<tr>
<td><code>ff.Main.path</code></td>
<td>[list] 
<code>p:%.lua</code> list of file path patterns</td>
</tr>
<tr>
<td><code>ff.Main.nopath</code></td>
<td>[list] 
<code>-p:%.bin</code> list of file path patterns to exclude</td>
</tr>
<tr>
<td><code>ff.Main.sub</code></td>
<td>[string] 
the subsitution string to use with pat</td>
</tr>
<tr>
<td><code>ff.Main.mut</code></td>
<td>[bool] 
mutate files (used with sub)</td>
</tr>
<tr>
<td><code>ff.Main.dirs</code></td>
<td>[bool] 
show all non-excluded directories</td>
</tr>
</table>
<p>
<h2>Module <a id="ff" href="#ff">ff</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L4"><i>src</i></a>)</h2>
re-imagining of ff using new tech and better args
<p>
<b>Values: </b> <table>
<tr>
<td><code>ff.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ff.Main</code></td>
<td>[Ty<Main>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L37">src</a>)</td>
</tr>
</table>
<h3>Function <a id="ff.find" href="#ff.find">ff.find</a><code>(path, pats, sub) -&gt; boolean</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L60"><i>src</i></a>)</h3>
find patterns in path.
If there is a match then the path is logged to <code>io.stdout</code> and the matches
to <code>io.fmt</code>.
<h3>Function <a id="ff.fmtMatch" href="#ff.fmtMatch">ff.fmtMatch</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L171"><i>src</i></a>)</h3>
<h3>Function <a id="ff.fmtSub" href="#ff.fmtSub">ff.fmtSub</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L183"><i>src</i></a>)</h3>
<h3>Function <a id="ff.iter" href="#ff.iter">ff.iter</a><code>(args) -&gt; Iter</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L132"><i>src</i></a>)</h3>
Get an iterator of matching paths.
<p>
<blockquote>WARNING: this also writes to io.fmt and io.stdout</blockquote>
<h3>Function <a id="ff.main" href="#ff.main">ff.main</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L186"><i>src</i></a>)</h3>
<h3>Function <a id="ff.parseColons" href="#ff.parseColons">ff.parseColons</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L159"><i>src</i></a>)</h3>
parse <code>c:commands</code> into t
<h3>Function <a id="ff.replace" href="#ff.replace">ff.replace</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ff/ff.lua#L69"><i>src</i></a>)</h3>
perform replacement of <code>pats</code> with <code>sub</code>, writing to <code>to</code>
<p>
<h1><a id="Package_pkgrock" href="#Package_pkgrock">Package pkgrock</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/pkgrock"><i>src</i></a>)</h1><table>
<tr>
<td><b>summary</b></td>
<td>pkg utilities to work with rockspecs</td>
</tr>
<tr>
<td><b>version</b></td>
<td><code>0.1-1</code></td>
</tr>
<tr>
<td><b>homepage</b></td>
<td>https://github.com/civboot/civlua/blob/main/cmd/pkgrock/README.md</td>
</tr>
</table>
<p>
<h2>Module <a id="pkgrock" href="#pkgrock">pkgrock</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/pkgrock/pkgrock.lua#L1"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>pkgrock.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="pkgrock.Args" href="#pkgrock.Args">pkgrock.Args</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/pkgrock/pkgrock.lua#L19"><i>src</i></a>)</h3>
utility for publishing PKG.lua directories. Usage: <code class="block">  pkgrock dir1 dir2 ...args]</code>
<p>
Example (sh): <code class="block">  , rock lib/pkg --create --gitops='add commit tag' \
    --gitpush='origin main --tags' --upload=$ROCKAPI</code>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>pkgrock.Args.create</code></td>
<td>[bool] 
creates the rocks from PKG.lua files</td>
</tr>
<tr>
<td><code>pkgrock.Args.gitops</code></td>
<td>[string] 
one or more: add,commit,tag</td>
</tr>
<tr>
<td><code>pkgrock.Args.gitpush</code></td>
<td>[string] 
where to push, i.e: 'origin main'</td>
</tr>
<tr>
<td><code>pkgrock.Args.upload</code></td>
<td>[string] 
set to the luarocks api key</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>pkgrock.Args.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pkgrock.Args.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>pkgrock.Args.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>pkgrock.Args.__index</code></td>
<td>[Ty<pkgrock>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/pkgrock/pkgrock.lua#L19">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>pkgrock.Args.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h3>Function <a id="pkgrock.loadrock" href="#pkgrock.loadrock">pkgrock.loadrock</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/pkgrock/pkgrock.lua#L75"><i>src</i></a>)</h3>
<h3>Function <a id="pkgrock.main" href="#pkgrock.main">pkgrock.main</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/pkgrock/pkgrock.lua#L133"><i>src</i></a>)</h3>
<h3>Function <a id="pkgrock.makerock" href="#pkgrock.makerock">pkgrock.makerock</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/pkgrock/pkgrock.lua#L69"><i>src</i></a>)</h3>
<h3>Function <a id="pkgrock.rockpath" href="#pkgrock.rockpath">pkgrock.rockpath</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/pkgrock/pkgrock.lua#L32"><i>src</i></a>)</h3>
<p>
<h1><a id="Package_ele" href="#Package_ele">Package ele</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele"><i>src</i></a>)</h1><table>
<tr>
<td><b>version</b></td>
<td><code>0.1-0</code></td>
</tr>
</table>
<p>
<h2>Module <a id="ele" href="#ele">ele</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele.lua#L2"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="ele.main" href="#ele.main">ele.main</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele.lua#L51"><i>src</i></a>)</h3>
<h3>Record <a id="ele.Ed" href="#ele.Ed">ele.Ed</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ele.Ed.mode</code></td>
<td>[string] 
current editor mode</td>
</tr>
<tr>
<td><code>ele.Ed.modes</code></td>
<td>[table] 
keyboard bindings per mode (see: bindings.lua)</td>
</tr>
<tr>
<td><code>ele.Ed.actions</code></td>
<td>[table] 
actions which events can trigger (see: actions.lua)</td>
</tr>
<tr>
<td><code>ele.Ed.resources</code></td>
<td>[table] 
resources to close when shutting down</td>
</tr>
<tr>
<td><code>ele.Ed.buffers</code></td>
<td>[List] 
list of Buffer objects</td>
</tr>
<tr>
<td><code>ele.Ed.edit</code></td>
<td>[Buffer] 
the current edit buffer</td>
</tr>
<tr>
<td><code>ele.Ed.view</code></td>
<td>[RootView] 
the root view</td>
</tr>
<tr>
<td><code>ele.Ed.display</code></td>
<td>[Term</td>
<td>other] 
display/terminal to write+paint text</td>
</tr>
<tr>
<td><code>ele.Ed.run</code></td>
<td>[boolean] = <code>true</code>
set to false to stop the app</td>
</tr>
<tr>
<td><code>ele.Ed.ext</code></td>
<td>[table] 
table for extensions to store data</td>
</tr>
<tr>
<td><code>ele.Ed.error</code></td>
<td>[callable] 
error handler (ds.log.logfmt sig)</td>
</tr>
<tr>
<td><code>ele.Ed.warn</code></td>
<td>[callable] 
warn handler</td>
</tr>
<tr>
<td><code>ele.Ed.newDat</code></td>
<td>[callable(text)] = <code>fn"function"[/home/rett/projects/civlua/cmd/ele/ele/Ed.lua:29]</code>
function to create new buffer</td>
</tr>
<tr>
<td><code>ele.Ed.redraw</code></td>
<td>[boolean] 
set to true to force a redraw</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ele.Ed.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.Ed.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.Ed.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ele.Ed.__index</code></td>
<td>[Ty<Ed>] </td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ele.Ed.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Ed.buffer" href="#Ed.buffer">Ed.buffer</a><code>(ed, v) -&gt; Buffer</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Ed.lua#L63"><i>src</i></a>)</h4>
<h4>Function <a id="Ed.draw" href="#Ed.draw">Ed.draw</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Ed.lua#L90"><i>src</i></a>)</h4>
<h4>Function <a id="Ed.focus" href="#Ed.focus">Ed.focus</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Ed.lua#L77"><i>src</i></a>)</h4>
<h4>Function <a id="Ed.init" href="#Ed.init">Ed.init</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Ed.lua#L45"><i>src</i></a>)</h4>
<h4>Function <a id="Ed.open" href="#Ed.open">Ed.open</a><code>(ed, path) -&gt; edit</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Ed.lua#L82"><i>src</i></a>)</h4>
<h3>Record <a id="ele.Session" href="#ele.Session">ele.Session</a></h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ele.Session.ed</code></td>
<td>[Ed] </td>
</tr>
<tr>
<td><code>ele.Session.events</code></td>
<td>[Recv] </td>
</tr>
<tr>
<td><code>ele.Session.evsend</code></td>
<td>[Send] </td>
</tr>
<tr>
<td><code>ele.Session.keys</code></td>
<td>[Recv] </td>
</tr>
<tr>
<td><code>ele.Session.keysend</code></td>
<td>[Send] </td>
</tr>
<tr>
<td><code>ele.Session.logf</code></td>
<td>[File] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ele.Session.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.Session.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.Session.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ele.Session.__index</code></td>
<td>[Ty<Session>] </td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ele.Session.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Session.draw" href="#Session.draw">Session.draw</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Session.lua#L115"><i>src</i></a>)</h4>
<h4>Function <a id="Session.handleEvents" href="#Session.handleEvents">Session.handleEvents</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Session.lua#L102"><i>src</i></a>)</h4>
<h4>Function <a id="Session.init" href="#Session.init">Session.init</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Session.lua#L34"><i>src</i></a>)</h4>
<h4>Function <a id="Session.play" href="#Session.play">Session.play</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Session.lua#L83"><i>src</i></a>)</h4>
<h4>Function <a id="Session.run" href="#Session.run">Session.run</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Session.lua#L72"><i>src</i></a>)</h4>
<h4>Function <a id="Session.test" href="#Session.test">Session.test</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Session.lua#L41"><i>src</i></a>)</h4>
<h4>Function <a id="Session.user" href="#Session.user">Session.user</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/Session.lua#L48"><i>src</i></a>)</h4>
<h2>Module <a id="ele.actions" href="#ele.actions">ele.actions</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L2"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.actions.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Functions: </b> <table>
<tr>
<td><code>ele.actions.keyinput</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L69">src</a>)</td>
</tr>
</table>
<h3>Function <a id="ele.actions.chain" href="#ele.actions.chain">ele.actions.chain</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L86"><i>src</i></a>)</h3>
<h3>Function <a id="ele.actions.keyinput" href="#ele.actions.keyinput">ele.actions.keyinput</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L69"><i>src</i></a>)</h3>
<h3>Function <a id="ele.actions.insert" href="#ele.actions.insert">ele.actions.insert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L157"><i>src</i></a>)</h3>
<h3>Function <a id="ele.actions.merge" href="#ele.actions.merge">ele.actions.merge</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L79"><i>src</i></a>)</h3>
<h3>Function <a id="ele.actions.move" href="#ele.actions.move">ele.actions.move</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L146"><i>src</i></a>)</h3>
<h3>Function <a id="ele.actions.nav" href="#ele.actions.nav">ele.actions.nav</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L192"><i>src</i></a>)</h3>
<h3>Function <a id="ele.actions.remove" href="#ele.actions.remove">ele.actions.remove</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/actions.lua#L183"><i>src</i></a>)</h3>
<h2>Module <a id="ele.keys" href="#ele.keys">ele.keys</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L5"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.command</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L216">src</a>)</td>
</tr>
<tr>
<td><code>ele.bindings.insert</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L215">src</a>)</td>
</tr>
</table>
<h3>Table <a id="ele.keys.backspace" href="#ele.keys.backspace">ele.keys.backspace</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L158"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.backspace.action</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.backspace.cols1</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>ele.bindings.backspace.off</code></td>
<td>[number] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.close" href="#ele.keys.close">ele.keys.close</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L110"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.close.action</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.commandmode" href="#ele.keys.commandmode">ele.keys.commandmode</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L115"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.commandmode.mode</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.delkey" href="#ele.keys.delkey">ele.keys.delkey</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L159"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.delkey.action</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.delkey.off</code></td>
<td>[number] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.exit" href="#ele.keys.exit">ele.keys.exit</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L98"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.exit.action</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.goline" href="#ele.keys.goline">ele.keys.goline</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L220"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.goline.1</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.goline.action</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.inserteol" href="#ele.keys.inserteol">ele.keys.inserteol</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L114"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.inserteol.action</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.inserteol.cols</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>ele.bindings.inserteol.mode</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.inserteol.move</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.insertmode" href="#ele.keys.insertmode">ele.keys.insertmode</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L112"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.insertmode.mode</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.insertsot" href="#ele.keys.insertsot">ele.keys.insertsot</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L113"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.insertsot.action</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.insertsot.mode</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.insertsot.move</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Table <a id="ele.keys.listCWD" href="#ele.keys.listCWD">ele.keys.listCWD</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L221"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.listCWD.1</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.bindings.listCWD.action</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="ele.keys.Chain" href="#ele.keys.Chain">ele.keys.Chain</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L76"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.Chain.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.bindings.Chain.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.bindings.Chain.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ele.bindings.Chain.__index</code></td>
<td>[Ty<Chain>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L76">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ele.bindings.Chain.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Chain.__call" href="#Chain.__call">Chain.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L81"><i>src</i></a>)</h4>
<h3>Record <a id="ele.keys.Event" href="#ele.keys.Event">ele.keys.Event</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L66"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.Event.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.bindings.Event.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.bindings.Event.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ele.bindings.Event.__index</code></td>
<td>[Ty<Event>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L66">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Event.__call" href="#Event.__call">Event.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L73"><i>src</i></a>)</h4>
<h3>Record <a id="ele.keys.Hotkey" href="#ele.keys.Hotkey">ele.keys.Hotkey</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L85"><i>src</i></a>)</h3>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.Hotkey.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.bindings.Hotkey.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.bindings.Hotkey.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ele.bindings.Hotkey.__index</code></td>
<td>[Ty<Hotkey>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L85">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ele.bindings.Hotkey.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Hotkey.__call" href="#Hotkey.__call">Hotkey.__call</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L93"><i>src</i></a>)</h4>
<h3>Record <a id="ele.keys.Keys" href="#ele.keys.Keys">ele.keys.Keys</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L26"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ele.bindings.Keys.chord</code></td>
<td>[table] 
list of keys which led to this binding, i.e. {'space', 'a'}</td>
</tr>
<tr>
<td><code>ele.bindings.Keys.event</code></td>
<td>[table] 
table to use when returning (emitting) an event.</td>
</tr>
<tr>
<td><code>ele.bindings.Keys.next</code></td>
<td>[table</td>
<td>string] 
the binding which will be used for the next key</td>
</tr>
<tr>
<td><code>ele.bindings.Keys.keep</code></td>
<td>[boolean] 
if true the above fields will be preserved in next call</td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ele.bindings.Keys.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.bindings.Keys.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.bindings.Keys.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ele.bindings.Keys.__index</code></td>
<td>[Ty<Keys>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L26">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ele.bindings.Keys.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Keys.check" href="#Keys.check">Keys.check</a><code>(k, ele) -&gt; errstring?</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L33"><i>src</i></a>)</h4>
<h3>Function <a id="ele.keys.backword" href="#ele.keys.backword">ele.keys.backword</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L119"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.bind" href="#ele.keys.bind">ele.keys.bind</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L209"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.bindall" href="#ele.keys.bindall">ele.keys.bindall</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L212"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.change" href="#ele.keys.change">ele.keys.change</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L174"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.chord" href="#ele.keys.chord">ele.keys.chord</a><code>(str) -&gt; keylist</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L45"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.chordstr" href="#ele.keys.chordstr">ele.keys.chordstr</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L55"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.delete" href="#ele.keys.delete">ele.keys.delete</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L169"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.down" href="#ele.keys.down">ele.keys.down</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L121"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.eol" href="#ele.keys.eol">ele.keys.eol</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L124"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.eot" href="#ele.keys.eot">ele.keys.eot</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L124"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.find" href="#ele.keys.find">ele.keys.find</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L140"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.findback" href="#ele.keys.findback">ele.keys.findback</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L151"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.forword" href="#ele.keys.forword">ele.keys.forword</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L119"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.insertChord" href="#ele.keys.insertChord">ele.keys.insertChord</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L104"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.install" href="#ele.keys.install">ele.keys.install</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L274"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.keyactions" href="#ele.keys.keyactions">ele.keys.keyactions</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L298"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.left" href="#ele.keys.left">ele.keys.left</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L118"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.literal" href="#ele.keys.literal">ele.keys.literal</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L50"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.moveAction" href="#ele.keys.moveAction">ele.keys.moveAction</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L63"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.movekey" href="#ele.keys.movekey">ele.keys.movekey</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L131"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.right" href="#ele.keys.right">ele.keys.right</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L118"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.sol" href="#ele.keys.sol">ele.keys.sol</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L123"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.sot" href="#ele.keys.sot">ele.keys.sot</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L123"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.till" href="#ele.keys.till">ele.keys.till</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L145"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.tillback" href="#ele.keys.tillback">ele.keys.tillback</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L156"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.times" href="#ele.keys.times">ele.keys.times</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L182"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.unboundChord" href="#ele.keys.unboundChord">ele.keys.unboundChord</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L107"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.up" href="#ele.keys.up">ele.keys.up</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L120"><i>src</i></a>)</h3>
<h3>Function <a id="ele.keys.zero" href="#ele.keys.zero">ele.keys.zero</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/bindings.lua#L188"><i>src</i></a>)</h3>
<h2>Module <a id="ele.edit" href="#ele.edit">ele.edit</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L1"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.edit.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Record <a id="ele.edit.Edit" href="#ele.edit.Edit">ele.edit.Edit</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L30"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <table>
<tr>
<td><code>ele.edit.Edit.id</code></td>
<td>[int] </td>
</tr>
<tr>
<td><code>ele.edit.Edit.container</code></td>
<td>  </td>
</tr>
<tr>
<td><code>ele.edit.Edit.canvas</code></td>
<td>  </td>
</tr>
<tr>
<td><code>ele.edit.Edit.buf</code></td>
<td>[Buffer] </td>
</tr>
<tr>
<td><code>ele.edit.Edit.l</code></td>
<td>[int] = <code>1</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.c</code></td>
<td>[int] = <code>1</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.vl</code></td>
<td>[int] = <code>1</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.vc</code></td>
<td>[int] = <code>1</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.tl</code></td>
<td>[int] = <code>-1</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.tc</code></td>
<td>[int] = <code>-1</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.th</code></td>
<td>[int] = <code>-1</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.tw</code></td>
<td>[int] = <code>-1</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.fh</code></td>
<td>[int] = <code>0</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.fw</code></td>
<td>[int] = <code>0</code></td>
</tr>
<tr>
<td><code>ele.edit.Edit.closed</code></td>
<td>[bool] </td>
</tr>
<tr>
<td><code>ele.edit.Edit.modes</code></td>
<td>[table] </td>
</tr>
</table>
<b>Values: </b> <table>
<tr>
<td><code>ele.edit.Edit.__docs</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.edit.Edit.__fields</code></td>
<td>[table] </td>
</tr>
<tr>
<td><code>ele.edit.Edit.__name</code></td>
<td>[string] </td>
</tr>
</table>
<b>Records: </b> <table>
<tr>
<td><code>ele.edit.Edit.__index</code></td>
<td>[Ty<Edit>] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L30">src</a>)</td>
</tr>
</table>
<b>Methods: </b> <table>
<tr>
<td><code>ele.edit.Edit.__newindex</code></td>
<td>[function] (<a href="https://github.com/civboot/civlua/blob/main/lib/metaty/metaty.lua#L179">src</a>)</td>
</tr>
</table>
<h4>Function <a id="Edit.__len" href="#Edit.__len">Edit.__len</a><code>(e) -&gt; #e.buf</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L47"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.__tostring" href="#Edit.__tostring">Edit.__tostring</a><code>(e) -&gt; string.format('Edit[id=%s]', e.id)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L48"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.append" href="#Edit.append">Edit.append</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L100"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.boundCol" href="#Edit.boundCol">Edit.boundCol</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L72"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.boundLC" href="#Edit.boundLC">Edit.boundLC</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L67"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.changeStart" href="#Edit.changeStart">Edit.changeStart</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L89"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.changeUpdate2" href="#Edit.changeUpdate2">Edit.changeUpdate2</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L94"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.close" href="#Edit.close">Edit.close</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L46"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.colEnd" href="#Edit.colEnd">Edit.colEnd</a><code>(e) -&gt; #e:curLine() + 1</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L54"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.copy" href="#Edit.copy">Edit.copy</a><code>(e) -&gt; ds.copy(e, {id=T.nextViewId()})</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L49"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.curLine" href="#Edit.curLine">Edit.curLine</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L53"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.draw" href="#Edit.draw">Edit.draw</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L158"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.drawCursor" href="#Edit.drawCursor">Edit.drawCursor</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L165"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.forceHeight" href="#Edit.forceHeight">Edit.forceHeight</a><code>(e) -&gt; e.fh</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L50"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.forceWidth" href="#Edit.forceWidth">Edit.forceWidth</a><code>(e) -&gt; e.fw</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L51"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.insert" href="#Edit.insert">Edit.insert</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L112"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.lastLine" href="#Edit.lastLine">Edit.lastLine</a><code>(e) -&gt; e.buf[#e]</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L55"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.offset" href="#Edit.offset">Edit.offset</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L58"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.redo" href="#Edit.redo">Edit.redo</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L148"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.remove" href="#Edit.remove">Edit.remove</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L117"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.removeOff" href="#Edit.removeOff">Edit.removeOff</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L125"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.replace" href="#Edit.replace">Edit.replace</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L135"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.undo" href="#Edit.undo">Edit.undo</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L143"><i>src</i></a>)</h4>
<h4>Function <a id="Edit.viewCursor" href="#Edit.viewCursor">Edit.viewCursor</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/edit.lua#L85"><i>src</i></a>)</h4>
<h2>Module <a id="ele.nav" href="#ele.nav">ele.nav</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L2"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.nav.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="ele.nav.install" href="#ele.nav.install">ele.nav.install</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L46"><i>src</i></a>)</h3>
<h3>Function <a id="ele.nav.navEdit" href="#ele.nav.navEdit">ele.nav.navEdit</a><code>(ed) -&gt; new temporary nav buffer</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L29"><i>src</i></a>)</h3>
<p>
<h2>Module <a id="ele.nav.modes" href="#ele.nav.modes">ele.nav.modes</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L17"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.nav.modes.__name</code></td>
<td>[string] </td>
</tr>
<tr>
<td><code>ele.nav.modes.command</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L22">src</a>)</td>
</tr>
<tr>
<td><code>ele.nav.modes.insert</code></td>
<td>[table] (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L18">src</a>)</td>
</tr>
</table>
<h2>Module <a id="ele.nav.to" href="#ele.nav.to">ele.nav.to</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L15"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.nav.to.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="ele.nav.to.line" href="#ele.nav.to.line">ele.nav.to.line</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L42"><i>src</i></a>)</h3>
<h3>Function <a id="ele.nav.to.listcwd" href="#ele.nav.to.listcwd">ele.nav.to.listcwd</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/nav.lua#L40"><i>src</i></a>)</h3>
<h2>Module <a id="ele.testing" href="#ele.testing">ele.testing</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/testing.lua#L2"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.testing.SLEEP</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>ele.testing.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="ele.testing.newSession" href="#ele.testing.newSession">ele.testing.newSession</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/testing.lua#L18"><i>src</i></a>)</h3>
<h2>Module <a id="ele.types" href="#ele.types">ele.types</a> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/types.lua#L1"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <table>
<tr>
<td><code>ele.types.ID</code></td>
<td>[number] </td>
</tr>
<tr>
<td><code>ele.types.__name</code></td>
<td>[string] </td>
</tr>
</table>
<h3>Function <a id="ele.types.checkAction" href="#ele.types.checkAction">ele.types.checkAction</a><code>(data, action) -&gt; errstring</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/types.lua#L56"><i>src</i></a>)</h3>
<h3>Function <a id="ele.types.checkBinding" href="#ele.types.checkBinding">ele.types.checkBinding</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/types.lua#L19"><i>src</i></a>)</h3>
<h3>Function <a id="ele.types.checkBindings" href="#ele.types.checkBindings">ele.types.checkBindings</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/types.lua#L44"><i>src</i></a>)</h3>
<h3>Function <a id="ele.types.checkMode" href="#ele.types.checkMode">ele.types.checkMode</a><code>(data, mode) -&gt; errstring</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/types.lua#L50"><i>src</i></a>)</h3>
<h3>Function <a id="ele.types.uniqueId" href="#ele.types.uniqueId">ele.types.uniqueId</a><code>(...)</code> (<a href="https://github.com/civboot/civlua/blob/main/cmd/ele/ele/types.lua#L13"><i>src</i></a>)</h3>
<p>
<code>ele.types.term</code> | [Mod<vt100>] (<a href="https://github.com/civboot/civlua/blob/main/lib/vt100/vt100.lua#L8">src</a>)
</body></html>